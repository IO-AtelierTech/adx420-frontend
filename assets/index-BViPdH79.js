const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ccip-BnA741EO.js","assets/react-DU-AWcda.js","assets/index-mKxqfYv5.js","assets/v4-CtRu48qb.js","assets/index-BwryQPNf.js"])))=>i.map(i=>d[i]);
var gI=Object.defineProperty;var yI=(e,t,n)=>t in e?gI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var _e=(e,t,n)=>yI(e,typeof t!="symbol"?t+"":t,n);import{r as V,a as cv,R as bI,b as ne,g as ug,c as Qr,d as Nu}from"./react-DU-AWcda.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var uv={exports:{}},Xd={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wI=V,xI=Symbol.for("react.element"),vI=Symbol.for("react.fragment"),EI=Object.prototype.hasOwnProperty,SI=wI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_I={key:!0,ref:!0,__self:!0,__source:!0};function lv(e,t,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(o=t.ref);for(r in t)EI.call(t,r)&&!_I.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:xI,type:e,key:i,ref:o,props:s,_owner:SI.current}}Xd.Fragment=vI;Xd.jsx=lv;Xd.jsxs=lv;uv.exports=Xd;var N=uv.exports,sp={},Nb=cv;sp.createRoot=Nb.createRoot,sp.hydrateRoot=Nb.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qc.apply(this,arguments)}var Zi;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Zi||(Zi={}));const Cb="popstate";function AI(e){e===void 0&&(e={});function t(r,s){let{pathname:i,search:o,hash:a}=r.location;return ip("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:cd(s)}return TI(t,n,null,e)}function zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dv(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function II(){return Math.random().toString(36).substr(2,8)}function Mb(e,t){return{usr:e.state,key:e.key,idx:t}}function ip(e,t,n,r){return n===void 0&&(n=null),qc({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Cu(t):t,{state:n,key:t&&t.key||r||II()})}function cd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function TI(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Zi.Pop,c=null,u=l();u==null&&(u=0,o.replaceState(qc({},o.state,{idx:u}),""));function l(){return(o.state||{idx:null}).idx}function d(){a=Zi.Pop;let E=l(),S=E==null?null:E-u;u=E,c&&c({action:a,location:y.location,delta:S})}function p(E,S){a=Zi.Push;let M=ip(y.location,E,S);u=l()+1;let _=Mb(M,u),T=y.createHref(M);try{o.pushState(_,"",T)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(T)}i&&c&&c({action:a,location:y.location,delta:1})}function h(E,S){a=Zi.Replace;let M=ip(y.location,E,S);u=l();let _=Mb(M,u),T=y.createHref(M);o.replaceState(_,"",T),i&&c&&c({action:a,location:y.location,delta:0})}function g(E){let S=s.location.origin!=="null"?s.location.origin:s.location.href,M=typeof E=="string"?E:cd(E);return M=M.replace(/ $/,"%20"),zn(S,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,S)}let y={get action(){return a},get location(){return e(s,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(Cb,d),c=E,()=>{s.removeEventListener(Cb,d),c=null}},createHref(E){return t(s,E)},createURL:g,encodeLocation(E){let S=g(E);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:p,replace:h,go(E){return o.go(E)}};return y}var kb;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(kb||(kb={}));function RI(e,t,n){return n===void 0&&(n="/"),NI(e,t,n)}function NI(e,t,n,r){let s=typeof t=="string"?Cu(t):t,i=lg(s.pathname||"/",n);if(i==null)return null;let o=fv(e);CI(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let u=FI(i);a=DI(o[c],u)}return a}function fv(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(zn(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Mi([r,c.relativePath]),l=n.concat(c);i.children&&i.children.length>0&&(zn(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),fv(i.children,t,l,u)),!(i.path==null&&!i.index)&&t.push({path:u,score:jI(u,i.index),routesMeta:l})};return e.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of hv(i.path))s(i,o,c)}),t}function hv(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=hv(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>e.startsWith("/")&&c===""?"/":c)}function CI(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:$I(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const MI=/^:[\w-]+$/,kI=3,BI=2,OI=1,PI=10,LI=-2,Bb=e=>e==="*";function jI(e,t){let n=e.split("/"),r=n.length;return n.some(Bb)&&(r+=LI),t&&(r+=BI),n.filter(s=>!Bb(s)).reduce((s,i)=>s+(MI.test(i)?kI:i===""?OI:PI),r)}function $I(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function DI(e,t,n){let{routesMeta:r}=e,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],u=a===r.length-1,l=i==="/"?t:t.slice(i.length)||"/",d=zI({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},l),p=c.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Mi([i,d.pathname]),pathnameBase:HI(Mi([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=Mi([i,d.pathnameBase]))}return o}function zI(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=UI(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,l,d)=>{let{paramName:p,isOptional:h}=l;if(p==="*"){let y=a[d]||"";o=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const g=a[d];return h&&!g?u[p]=void 0:u[p]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:e}}function UI(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),dv(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function FI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return dv(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function lg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function WI(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Cu(e):e;return{pathname:n?n.startsWith("/")?n:VI(n,t):t,search:GI(r),hash:KI(s)}}function VI(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ch(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function qI(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function pv(e,t){let n=qI(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function mv(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=Cu(e):(s=qc({},e),zn(!s.pathname||!s.pathname.includes("?"),Ch("?","pathname","search",s)),zn(!s.pathname||!s.pathname.includes("#"),Ch("#","pathname","hash",s)),zn(!s.search||!s.search.includes("#"),Ch("#","search","hash",s)));let i=e===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let d=t.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),d-=1;s.pathname=p.join("/")}a=d>=0?t[d]:"/"}let c=WI(s,a),u=o&&o!=="/"&&o.endsWith("/"),l=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||l)&&(c.pathname+="/"),c}const Mi=e=>e.join("/").replace(/\/\/+/g,"/"),HI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),GI=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,KI=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ZI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const gv=["post","put","patch","delete"];new Set(gv);const YI=["get",...gv];new Set(YI);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ud(){return ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ud.apply(this,arguments)}const dg=V.createContext(null),JI=V.createContext(null),zo=V.createContext(null),fg=V.createContext(null),Uo=V.createContext({outlet:null,matches:[],isDataRoute:!1}),yv=V.createContext(null);function QI(e,t){let{relative:n}=t===void 0?{}:t;Mu()||zn(!1);let{basename:r,navigator:s}=V.useContext(zo),{hash:i,pathname:o,search:a}=wv(e,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Mi([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Mu(){return V.useContext(fg)!=null}function ef(){return Mu()||zn(!1),V.useContext(fg).location}function bv(e){V.useContext(zo).static||V.useLayoutEffect(e)}function XI(){let{isDataRoute:e}=V.useContext(Uo);return e?fT():eT()}function eT(){Mu()||zn(!1);let e=V.useContext(dg),{basename:t,future:n,navigator:r}=V.useContext(zo),{matches:s}=V.useContext(Uo),{pathname:i}=ef(),o=JSON.stringify(pv(s,n.v7_relativeSplatPath)),a=V.useRef(!1);return bv(()=>{a.current=!0}),V.useCallback(function(u,l){if(l===void 0&&(l={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let d=mv(u,JSON.parse(o),i,l.relative==="path");e==null&&t!=="/"&&(d.pathname=d.pathname==="/"?t:Mi([t,d.pathname])),(l.replace?r.replace:r.push)(d,l.state,l)},[t,r,o,i,e])}function wv(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=V.useContext(zo),{matches:s}=V.useContext(Uo),{pathname:i}=ef(),o=JSON.stringify(pv(s,r.v7_relativeSplatPath));return V.useMemo(()=>mv(e,JSON.parse(o),i,n==="path"),[e,o,i,n])}function tT(e,t){return nT(e)}function nT(e,t,n,r){Mu()||zn(!1);let{navigator:s}=V.useContext(zo),{matches:i}=V.useContext(Uo),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=ef(),l;l=u;let d=l.pathname||"/",p=d;if(c!=="/"){let y=c.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(y.length).join("/")}let h=RI(e,{pathname:p});return aT(h&&h.map(y=>Object.assign({},y,{params:Object.assign({},a,y.params),pathname:Mi([c,s.encodeLocation?s.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?c:Mi([c,s.encodeLocation?s.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),i,n,r)}function rT(){let e=dT(),t=ZI(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},t),n?V.createElement("pre",{style:s},n):null,null)}const sT=V.createElement(rT,null);class iT extends V.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?V.createElement(Uo.Provider,{value:this.props.routeContext},V.createElement(yv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function oT(e){let{routeContext:t,match:n,children:r}=e,s=V.useContext(dg);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Uo.Provider,{value:t},r)}function aT(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let o=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let l=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);l>=0||zn(!1),o=o.slice(0,Math.min(o.length,l+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let l=0;l<o.length;l++){let d=o[l];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=l),d.route.id){let{loaderData:p,errors:h}=n,g=d.route.loader&&p[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||g){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((l,d,p)=>{let h,g=!1,y=null,E=null;n&&(h=a&&d.route.id?a[d.route.id]:void 0,y=d.route.errorElement||sT,c&&(u<0&&p===0?(hT("route-fallback"),g=!0,E=null):u===p&&(g=!0,E=d.route.hydrateFallbackElement||null)));let S=t.concat(o.slice(0,p+1)),M=()=>{let _;return h?_=y:g?_=E:d.route.Component?_=V.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=l,V.createElement(oT,{match:d,routeContext:{outlet:l,matches:S,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||p===0)?V.createElement(iT,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:M(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):M()},null)}var xv=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(xv||{}),vv=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(vv||{});function cT(e){let t=V.useContext(dg);return t||zn(!1),t}function uT(e){let t=V.useContext(JI);return t||zn(!1),t}function lT(e){let t=V.useContext(Uo);return t||zn(!1),t}function Ev(e){let t=lT(),n=t.matches[t.matches.length-1];return n.route.id||zn(!1),n.route.id}function dT(){var e;let t=V.useContext(yv),n=uT(vv.UseRouteError),r=Ev();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function fT(){let{router:e}=cT(xv.UseNavigateStable),t=Ev(),n=V.useRef(!1);return bv(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ud({fromRouteId:t},i)))},[e,t])}const Ob={};function hT(e,t,n){Ob[e]||(Ob[e]=!0)}function pT(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function mT(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Zi.Pop,navigator:i,static:o=!1,future:a}=e;Mu()&&zn(!1);let c=t.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:c,navigator:i,static:o,future:ud({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Cu(r));let{pathname:l="/",search:d="",hash:p="",state:h=null,key:g="default"}=r,y=V.useMemo(()=>{let E=lg(l,c);return E==null?null:{location:{pathname:E,search:d,hash:p,state:h,key:g},navigationType:s}},[c,l,d,p,h,g,s]);return y==null?null:V.createElement(zo.Provider,{value:u},V.createElement(fg.Provider,{children:n,value:y}))}new Promise(()=>{});/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},op.apply(this,arguments)}function gT(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,i;for(i=0;i<r.length;i++)s=r[i],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function yT(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function bT(e,t){return e.button===0&&(!t||t==="_self")&&!yT(e)}const wT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xT="6";try{window.__reactRouterVersion=xT}catch{}const vT="startTransition",Pb=bI[vT];function ET(e){let{basename:t,children:n,future:r,window:s}=e,i=V.useRef();i.current==null&&(i.current=AI({window:s,v5Compat:!0}));let o=i.current,[a,c]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},l=V.useCallback(d=>{u&&Pb?Pb(()=>c(d)):c(d)},[c,u]);return V.useLayoutEffect(()=>o.listen(l),[o,l]),V.useEffect(()=>pT(r),[r]),V.createElement(mT,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const ST=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_T=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pi=V.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:u,preventScrollReset:l,viewTransition:d}=t,p=gT(t,wT),{basename:h}=V.useContext(zo),g,y=!1;if(typeof u=="string"&&_T.test(u)&&(g=u,ST))try{let _=new URL(window.location.href),T=u.startsWith("//")?new URL(_.protocol+u):new URL(u),O=lg(T.pathname,h);T.origin===_.origin&&O!=null?u=O+T.search+T.hash:y=!0}catch{}let E=QI(u,{relative:s}),S=AT(u,{replace:o,state:a,target:c,preventScrollReset:l,relative:s,viewTransition:d});function M(_){r&&r(_),_.defaultPrevented||S(_)}return V.createElement("a",op({},p,{href:g||E,onClick:y||i?r:M,ref:n,target:c}))});var Lb;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Lb||(Lb={}));var jb;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(jb||(jb={}));function AT(e,t){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=t===void 0?{}:t,c=XI(),u=ef(),l=wv(e,{relative:o});return V.useCallback(d=>{if(bT(d,n)){d.preventDefault();let p=r!==void 0?r:cd(u)===cd(l);c(e,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[u,c,l,r,s,n,e,i,o,a])}function Sv(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Sv(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function _v(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Sv(e))&&(r&&(r+=" "),r+=t);return r}const $b=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Db=_v,hg=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Db(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(u=>{const l=n==null?void 0:n[u],d=i==null?void 0:i[u];if(l===null)return null;const p=$b(l)||$b(d);return s[u][p]}),a=n&&Object.entries(n).reduce((u,l)=>{let[d,p]=l;return p===void 0||(u[d]=p),u},{}),c=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,l)=>{let{class:d,className:p,...h}=l;return Object.entries(h).every(g=>{let[y,E]=g;return Array.isArray(E)?E.includes({...i,...a}[y]):{...i,...a}[y]===E})?[...u,d,p]:u},[]);return Db(e,o,c,n==null?void 0:n.class,n==null?void 0:n.className)},IT=(e,t)=>{const n=new Array(e.length+t.length);for(let r=0;r<e.length;r++)n[r]=e[r];for(let r=0;r<t.length;r++)n[e.length+r]=t[r];return n},TT=(e,t)=>({classGroupId:e,validator:t}),Av=(e=new Map,t=null,n)=>({nextPart:e,validators:t,classGroupId:n}),ld="-",zb=[],RT="arbitrary..",NT=e=>{const t=MT(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return CT(o);const a=o.split(ld),c=a[0]===""&&a.length>1?1:0;return Iv(a,c,t)},getConflictingClassGroupIds:(o,a)=>{if(a){const c=r[o],u=n[o];return c?u?IT(u,c):c:u||zb}return n[o]||zb}}},Iv=(e,t,n)=>{if(e.length-t===0)return n.classGroupId;const s=e[t],i=n.nextPart.get(s);if(i){const u=Iv(e,t+1,i);if(u)return u}const o=n.validators;if(o===null)return;const a=t===0?e.join(ld):e.slice(t).join(ld),c=o.length;for(let u=0;u<c;u++){const l=o[u];if(l.validator(a))return l.classGroupId}},CT=e=>e.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const t=e.slice(1,-1),n=t.indexOf(":"),r=t.slice(0,n);return r?RT+r:void 0})(),MT=e=>{const{theme:t,classGroups:n}=e;return kT(n,t)},kT=(e,t)=>{const n=Av();for(const r in e){const s=e[r];pg(s,n,r,t)}return n},pg=(e,t,n,r)=>{const s=e.length;for(let i=0;i<s;i++){const o=e[i];BT(o,t,n,r)}},BT=(e,t,n,r)=>{if(typeof e=="string"){OT(e,t,n);return}if(typeof e=="function"){PT(e,t,n,r);return}LT(e,t,n,r)},OT=(e,t,n)=>{const r=e===""?t:Tv(t,e);r.classGroupId=n},PT=(e,t,n,r)=>{if(jT(e)){pg(e(r),t,n,r);return}t.validators===null&&(t.validators=[]),t.validators.push(TT(n,e))},LT=(e,t,n,r)=>{const s=Object.entries(e),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];pg(c,Tv(t,a),n,r)}},Tv=(e,t)=>{let n=e;const r=t.split(ld),s=r.length;for(let i=0;i<s;i++){const o=r[i];let a=n.nextPart.get(o);a||(a=Av(),n.nextPart.set(o,a)),n=a}return n},jT=e=>"isThemeGetter"in e&&e.isThemeGetter===!0,$T=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=Object.create(null),r=Object.create(null);const s=(i,o)=>{n[i]=o,t++,t>e&&(t=0,r=n,n=Object.create(null))};return{get(i){let o=n[i];if(o!==void 0)return o;if((o=r[i])!==void 0)return s(i,o),o},set(i,o){i in n?n[i]=o:s(i,o)}}},ap="!",Ub=":",DT=[],Fb=(e,t,n,r,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:n,maybePostfixModifierPosition:r,isExternal:s}),zT=e=>{const{prefix:t,experimentalParseClassName:n}=e;let r=s=>{const i=[];let o=0,a=0,c=0,u;const l=s.length;for(let y=0;y<l;y++){const E=s[y];if(o===0&&a===0){if(E===Ub){i.push(s.slice(c,y)),c=y+1;continue}if(E==="/"){u=y;continue}}E==="["?o++:E==="]"?o--:E==="("?a++:E===")"&&a--}const d=i.length===0?s:s.slice(c);let p=d,h=!1;d.endsWith(ap)?(p=d.slice(0,-1),h=!0):d.startsWith(ap)&&(p=d.slice(1),h=!0);const g=u&&u>c?u-c:void 0;return Fb(i,h,p,g)};if(t){const s=t+Ub,i=r;r=o=>o.startsWith(s)?i(o.slice(s.length)):Fb(DT,!1,o,void 0,!0)}if(n){const s=r;r=i=>n({className:i,parseClassName:s})}return r},UT=e=>{const t=new Map;return e.orderSensitiveModifiers.forEach((n,r)=>{t.set(n,1e6+r)}),n=>{const r=[];let s=[];for(let i=0;i<n.length;i++){const o=n[i],a=o[0]==="[",c=t.has(o);a||c?(s.length>0&&(s.sort(),r.push(...s),s=[]),r.push(o)):s.push(o)}return s.length>0&&(s.sort(),r.push(...s)),r}},FT=e=>({cache:$T(e.cacheSize),parseClassName:zT(e),sortModifiers:UT(e),...NT(e)}),WT=/\s+/,VT=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(WT);let c="";for(let u=a.length-1;u>=0;u-=1){const l=a[u],{isExternal:d,modifiers:p,hasImportantModifier:h,baseClassName:g,maybePostfixModifierPosition:y}=n(l);if(d){c=l+(c.length>0?" "+c:c);continue}let E=!!y,S=r(E?g.substring(0,y):g);if(!S){if(!E){c=l+(c.length>0?" "+c:c);continue}if(S=r(g),!S){c=l+(c.length>0?" "+c:c);continue}E=!1}const M=p.length===0?"":p.length===1?p[0]:i(p).join(":"),_=h?M+ap:M,T=_+S;if(o.indexOf(T)>-1)continue;o.push(T);const O=s(S,E);for(let $=0;$<O.length;++$){const D=O[$];o.push(_+D)}c=l+(c.length>0?" "+c:c)}return c},qT=(...e)=>{let t=0,n,r,s="";for(;t<e.length;)(n=e[t++])&&(r=Rv(n))&&(s&&(s+=" "),s+=r);return s},Rv=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=Rv(e[r]))&&(n&&(n+=" "),n+=t);return n},HT=(e,...t)=>{let n,r,s,i;const o=c=>{const u=t.reduce((l,d)=>d(l),e());return n=FT(u),r=n.cache.get,s=n.cache.set,i=a,a(c)},a=c=>{const u=r(c);if(u)return u;const l=VT(c,n);return s(c,l),l};return i=o,(...c)=>i(qT(...c))},GT=[],fn=e=>{const t=n=>n[e]||GT;return t.isThemeGetter=!0,t},Nv=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Cv=/^\((?:(\w[\w-]*):)?(.+)\)$/i,KT=/^\d+\/\d+$/,ZT=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,YT=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,JT=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,QT=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,XT=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Yo=e=>KT.test(e),De=e=>!!e&&!Number.isNaN(Number(e)),mi=e=>!!e&&Number.isInteger(Number(e)),Mh=e=>e.endsWith("%")&&De(e.slice(0,-1)),Ms=e=>ZT.test(e),e8=()=>!0,t8=e=>YT.test(e)&&!JT.test(e),Mv=()=>!1,n8=e=>QT.test(e),r8=e=>XT.test(e),s8=e=>!me(e)&&!ge(e),i8=e=>ec(e,Ov,Mv),me=e=>Nv.test(e),Ui=e=>ec(e,Pv,t8),kh=e=>ec(e,l8,De),Wb=e=>ec(e,kv,Mv),o8=e=>ec(e,Bv,r8),gl=e=>ec(e,Lv,n8),ge=e=>Cv.test(e),wc=e=>tc(e,Pv),a8=e=>tc(e,d8),Vb=e=>tc(e,kv),c8=e=>tc(e,Ov),u8=e=>tc(e,Bv),yl=e=>tc(e,Lv,!0),ec=(e,t,n)=>{const r=Nv.exec(e);return r?r[1]?t(r[1]):n(r[2]):!1},tc=(e,t,n=!1)=>{const r=Cv.exec(e);return r?r[1]?t(r[1]):n:!1},kv=e=>e==="position"||e==="percentage",Bv=e=>e==="image"||e==="url",Ov=e=>e==="length"||e==="size"||e==="bg-size",Pv=e=>e==="length",l8=e=>e==="number",d8=e=>e==="family-name",Lv=e=>e==="shadow",f8=()=>{const e=fn("color"),t=fn("font"),n=fn("text"),r=fn("font-weight"),s=fn("tracking"),i=fn("leading"),o=fn("breakpoint"),a=fn("container"),c=fn("spacing"),u=fn("radius"),l=fn("shadow"),d=fn("inset-shadow"),p=fn("text-shadow"),h=fn("drop-shadow"),g=fn("blur"),y=fn("perspective"),E=fn("aspect"),S=fn("ease"),M=fn("animate"),_=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],O=()=>[...T(),ge,me],$=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto","contain","none"],z=()=>[ge,me,c],U=()=>[Yo,"full","auto",...z()],K=()=>[mi,"none","subgrid",ge,me],W=()=>["auto",{span:["full",mi,ge,me]},mi,ge,me],q=()=>[mi,"auto",ge,me],I=()=>["auto","min","max","fr",ge,me],f=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],m=()=>["start","end","center","stretch","center-safe","end-safe"],v=()=>["auto",...z()],R=()=>[Yo,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],A=()=>[e,ge,me],B=()=>[...T(),Vb,Wb,{position:[ge,me]}],j=()=>["no-repeat",{repeat:["","x","y","space","round"]}],C=()=>["auto","cover","contain",c8,i8,{size:[ge,me]}],b=()=>[Mh,wc,Ui],P=()=>["","none","full",u,ge,me],X=()=>["",De,wc,Ui],ee=()=>["solid","dashed","dotted","double"],oe=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],he=()=>[De,Mh,Vb,Wb],Se=()=>["","none",g,ge,me],be=()=>["none",De,ge,me],He=()=>["none",De,ge,me],Ve=()=>[De,ge,me],Ue=()=>[Yo,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ms],breakpoint:[Ms],color:[e8],container:[Ms],"drop-shadow":[Ms],ease:["in","out","in-out"],font:[s8],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ms],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ms],shadow:[Ms],spacing:["px",De],text:[Ms],"text-shadow":[Ms],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Yo,me,ge,E]}],container:["container"],columns:[{columns:[De,me,ge,a]}],"break-after":[{"break-after":_()}],"break-before":[{"break-before":_()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:O()}],overflow:[{overflow:$()}],"overflow-x":[{"overflow-x":$()}],"overflow-y":[{"overflow-y":$()}],overscroll:[{overscroll:D()}],"overscroll-x":[{"overscroll-x":D()}],"overscroll-y":[{"overscroll-y":D()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:U()}],"inset-x":[{"inset-x":U()}],"inset-y":[{"inset-y":U()}],start:[{start:U()}],end:[{end:U()}],top:[{top:U()}],right:[{right:U()}],bottom:[{bottom:U()}],left:[{left:U()}],visibility:["visible","invisible","collapse"],z:[{z:[mi,"auto",ge,me]}],basis:[{basis:[Yo,"full","auto",a,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Yo,"auto","initial","none",me]}],grow:[{grow:["",De,ge,me]}],shrink:[{shrink:["",De,ge,me]}],order:[{order:[mi,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":K()}],"col-start-end":[{col:W()}],"col-start":[{"col-start":q()}],"col-end":[{"col-end":q()}],"grid-rows":[{"grid-rows":K()}],"row-start-end":[{row:W()}],"row-start":[{"row-start":q()}],"row-end":[{"row-end":q()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":I()}],"auto-rows":[{"auto-rows":I()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...f(),"normal"]}],"justify-items":[{"justify-items":[...m(),"normal"]}],"justify-self":[{"justify-self":["auto",...m()]}],"align-content":[{content:["normal",...f()]}],"align-items":[{items:[...m(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...m(),{baseline:["","last"]}]}],"place-content":[{"place-content":f()}],"place-items":[{"place-items":[...m(),"baseline"]}],"place-self":[{"place-self":["auto",...m()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:v()}],mx:[{mx:v()}],my:[{my:v()}],ms:[{ms:v()}],me:[{me:v()}],mt:[{mt:v()}],mr:[{mr:v()}],mb:[{mb:v()}],ml:[{ml:v()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:R()}],w:[{w:[a,"screen",...R()]}],"min-w":[{"min-w":[a,"screen","none",...R()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...R()]}],h:[{h:["screen","lh",...R()]}],"min-h":[{"min-h":["screen","lh","none",...R()]}],"max-h":[{"max-h":["screen","lh",...R()]}],"font-size":[{text:["base",n,wc,Ui]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,kh]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Mh,me]}],"font-family":[{font:[a8,me,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,ge,me]}],"line-clamp":[{"line-clamp":[De,"none",ge,kh]}],leading:[{leading:[i,...z()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:A()}],"text-color":[{text:A()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ee(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",ge,Ui]}],"text-decoration-color":[{decoration:A()}],"underline-offset":[{"underline-offset":[De,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:B()}],"bg-repeat":[{bg:j()}],"bg-size":[{bg:C()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},mi,ge,me],radial:["",ge,me],conic:[mi,ge,me]},u8,o8]}],"bg-color":[{bg:A()}],"gradient-from-pos":[{from:b()}],"gradient-via-pos":[{via:b()}],"gradient-to-pos":[{to:b()}],"gradient-from":[{from:A()}],"gradient-via":[{via:A()}],"gradient-to":[{to:A()}],rounded:[{rounded:P()}],"rounded-s":[{"rounded-s":P()}],"rounded-e":[{"rounded-e":P()}],"rounded-t":[{"rounded-t":P()}],"rounded-r":[{"rounded-r":P()}],"rounded-b":[{"rounded-b":P()}],"rounded-l":[{"rounded-l":P()}],"rounded-ss":[{"rounded-ss":P()}],"rounded-se":[{"rounded-se":P()}],"rounded-ee":[{"rounded-ee":P()}],"rounded-es":[{"rounded-es":P()}],"rounded-tl":[{"rounded-tl":P()}],"rounded-tr":[{"rounded-tr":P()}],"rounded-br":[{"rounded-br":P()}],"rounded-bl":[{"rounded-bl":P()}],"border-w":[{border:X()}],"border-w-x":[{"border-x":X()}],"border-w-y":[{"border-y":X()}],"border-w-s":[{"border-s":X()}],"border-w-e":[{"border-e":X()}],"border-w-t":[{"border-t":X()}],"border-w-r":[{"border-r":X()}],"border-w-b":[{"border-b":X()}],"border-w-l":[{"border-l":X()}],"divide-x":[{"divide-x":X()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":X()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ee(),"hidden","none"]}],"divide-style":[{divide:[...ee(),"hidden","none"]}],"border-color":[{border:A()}],"border-color-x":[{"border-x":A()}],"border-color-y":[{"border-y":A()}],"border-color-s":[{"border-s":A()}],"border-color-e":[{"border-e":A()}],"border-color-t":[{"border-t":A()}],"border-color-r":[{"border-r":A()}],"border-color-b":[{"border-b":A()}],"border-color-l":[{"border-l":A()}],"divide-color":[{divide:A()}],"outline-style":[{outline:[...ee(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,ge,me]}],"outline-w":[{outline:["",De,wc,Ui]}],"outline-color":[{outline:A()}],shadow:[{shadow:["","none",l,yl,gl]}],"shadow-color":[{shadow:A()}],"inset-shadow":[{"inset-shadow":["none",d,yl,gl]}],"inset-shadow-color":[{"inset-shadow":A()}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:A()}],"ring-offset-w":[{"ring-offset":[De,Ui]}],"ring-offset-color":[{"ring-offset":A()}],"inset-ring-w":[{"inset-ring":X()}],"inset-ring-color":[{"inset-ring":A()}],"text-shadow":[{"text-shadow":["none",p,yl,gl]}],"text-shadow-color":[{"text-shadow":A()}],opacity:[{opacity:[De,ge,me]}],"mix-blend":[{"mix-blend":[...oe(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":oe()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":he()}],"mask-image-linear-to-pos":[{"mask-linear-to":he()}],"mask-image-linear-from-color":[{"mask-linear-from":A()}],"mask-image-linear-to-color":[{"mask-linear-to":A()}],"mask-image-t-from-pos":[{"mask-t-from":he()}],"mask-image-t-to-pos":[{"mask-t-to":he()}],"mask-image-t-from-color":[{"mask-t-from":A()}],"mask-image-t-to-color":[{"mask-t-to":A()}],"mask-image-r-from-pos":[{"mask-r-from":he()}],"mask-image-r-to-pos":[{"mask-r-to":he()}],"mask-image-r-from-color":[{"mask-r-from":A()}],"mask-image-r-to-color":[{"mask-r-to":A()}],"mask-image-b-from-pos":[{"mask-b-from":he()}],"mask-image-b-to-pos":[{"mask-b-to":he()}],"mask-image-b-from-color":[{"mask-b-from":A()}],"mask-image-b-to-color":[{"mask-b-to":A()}],"mask-image-l-from-pos":[{"mask-l-from":he()}],"mask-image-l-to-pos":[{"mask-l-to":he()}],"mask-image-l-from-color":[{"mask-l-from":A()}],"mask-image-l-to-color":[{"mask-l-to":A()}],"mask-image-x-from-pos":[{"mask-x-from":he()}],"mask-image-x-to-pos":[{"mask-x-to":he()}],"mask-image-x-from-color":[{"mask-x-from":A()}],"mask-image-x-to-color":[{"mask-x-to":A()}],"mask-image-y-from-pos":[{"mask-y-from":he()}],"mask-image-y-to-pos":[{"mask-y-to":he()}],"mask-image-y-from-color":[{"mask-y-from":A()}],"mask-image-y-to-color":[{"mask-y-to":A()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":he()}],"mask-image-radial-to-pos":[{"mask-radial-to":he()}],"mask-image-radial-from-color":[{"mask-radial-from":A()}],"mask-image-radial-to-color":[{"mask-radial-to":A()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":he()}],"mask-image-conic-to-pos":[{"mask-conic-to":he()}],"mask-image-conic-from-color":[{"mask-conic-from":A()}],"mask-image-conic-to-color":[{"mask-conic-to":A()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:B()}],"mask-repeat":[{mask:j()}],"mask-size":[{mask:C()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:Se()}],brightness:[{brightness:[De,ge,me]}],contrast:[{contrast:[De,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",h,yl,gl]}],"drop-shadow-color":[{"drop-shadow":A()}],grayscale:[{grayscale:["",De,ge,me]}],"hue-rotate":[{"hue-rotate":[De,ge,me]}],invert:[{invert:["",De,ge,me]}],saturate:[{saturate:[De,ge,me]}],sepia:[{sepia:["",De,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":Se()}],"backdrop-brightness":[{"backdrop-brightness":[De,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[De,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",De,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[De,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[De,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",De,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",ge,me]}],ease:[{ease:["linear","initial",S,ge,me]}],delay:[{delay:[De,ge,me]}],animate:[{animate:["none",M,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[y,ge,me]}],"perspective-origin":[{"perspective-origin":O()}],rotate:[{rotate:be()}],"rotate-x":[{"rotate-x":be()}],"rotate-y":[{"rotate-y":be()}],"rotate-z":[{"rotate-z":be()}],scale:[{scale:He()}],"scale-x":[{"scale-x":He()}],"scale-y":[{"scale-y":He()}],"scale-z":[{"scale-z":He()}],"scale-3d":["scale-3d"],skew:[{skew:Ve()}],"skew-x":[{"skew-x":Ve()}],"skew-y":[{"skew-y":Ve()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:O()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ue()}],"translate-x":[{"translate-x":Ue()}],"translate-y":[{"translate-y":Ue()}],"translate-z":[{"translate-z":Ue()}],"translate-none":["translate-none"],accent:[{accent:A()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:A()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...A()]}],"stroke-w":[{stroke:[De,wc,Ui,kh]}],stroke:[{stroke:["none",...A()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},h8=HT(f8);function jr(...e){return h8(_v(e))}const p8=hg("inline-flex items-center justify-center rounded-md font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{primary:"bg-primary text-white hover:bg-primary/90 focus-visible:ring-primary",secondary:"bg-secondary text-white hover:bg-secondary/90 focus-visible:ring-secondary",outline:"border border-primary text-primary hover:bg-primary hover:text-white focus-visible:ring-primary",ghost:"text-primary hover:bg-primary/10 focus-visible:ring-primary",danger:"bg-error text-white hover:bg-error/90 focus-visible:ring-error"},size:{sm:"h-8 px-3 text-sm",md:"h-10 px-4 text-base",lg:"h-12 px-6 text-lg",xl:"h-14 px-8 text-xl"}},defaultVariants:{variant:"primary",size:"md"}}),An=ne.forwardRef(({className:e,variant:t,size:n,children:r,leftIcon:s,rightIcon:i,isLoading:o,disabled:a,...c},u)=>N.jsxs("button",{className:jr(p8({variant:t,size:n,className:e})),ref:u,disabled:a||o,...c,children:[o&&N.jsxs("svg",{className:"mr-2 h-4 w-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[N.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),N.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),!o&&s&&N.jsx("span",{className:"mr-2",children:s}),r,!o&&i&&N.jsx("span",{className:"ml-2",children:i})]}));An.displayName="Button";const m8=hg("rounded-lg border bg-surface text-text shadow-sm",{variants:{variant:{default:"",elevated:"shadow-md",outlined:"border-2",ghost:"border-0 shadow-none bg-transparent"},padding:{none:"p-0",sm:"p-3",md:"p-4",lg:"p-6",xl:"p-8"}},defaultVariants:{variant:"default",padding:"md"}}),kt=ne.forwardRef(({className:e,variant:t,padding:n,children:r,...s},i)=>N.jsx("div",{ref:i,className:jr(m8({variant:t,padding:n,className:e})),...s,children:r}));kt.displayName="Card";const Wn=ne.forwardRef(({className:e,children:t,...n},r)=>N.jsx("div",{ref:r,className:jr("flex flex-col space-y-1.5 p-6 pb-0",e),...n,children:t}));Wn.displayName="CardHeader";const Vn=ne.forwardRef(({className:e,children:t,...n},r)=>N.jsx("h3",{ref:r,className:jr("text-2xl font-semibold leading-none tracking-tight",e),...n,children:t}));Vn.displayName="CardTitle";const qn=ne.forwardRef(({className:e,children:t,...n},r)=>N.jsx("p",{ref:r,className:jr("text-sm text-text-secondary",e),...n,children:t}));qn.displayName="CardDescription";const Bt=ne.forwardRef(({className:e,children:t,...n},r)=>N.jsx("div",{ref:r,className:jr("p-6 pt-0",e),...n,children:t}));Bt.displayName="CardContent";const g8=ne.forwardRef(({className:e,children:t,...n},r)=>N.jsx("div",{ref:r,className:jr("flex items-center p-6 pt-0",e),...n,children:t}));g8.displayName="CardFooter";const bl={colors:{light:{primary:"#2563eb",secondary:"#059669",success:"#10b981",warning:"#f59e0b",error:"#ef4444",info:"#3b82f6",background:"#ffffff",surface:"#f8f9fa",border:"#e5e7eb",text:"#111827",textSecondary:"#6b7280",textMuted:"#9ca3af"},dark:{primary:"#3b82f6",secondary:"#10b981",success:"#34d399",warning:"#fbbf24",error:"#f87171",info:"#60a5fa",background:"#0f172a",surface:"#1e293b",border:"#334155",text:"#f1f5f9",textSecondary:"#cbd5e1",textMuted:"#94a3b8"}},typography:{fontFamily:{sans:["Inter","system-ui","sans-serif"],mono:["JetBrains Mono","monospace"]},fontSize:{xs:"0.75rem",sm:"0.875rem",base:"1rem",lg:"1.125rem",xl:"1.25rem","2xl":"1.5rem","3xl":"1.875rem","4xl":"2.25rem"},fontWeight:{normal:400,medium:500,semibold:600,bold:700},lineHeight:{tight:"1.25",normal:"1.5",relaxed:"1.625"}},spacing:{spacing:{px:"1px",0:"0",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",12:"3rem",16:"4rem",20:"5rem",24:"6rem",32:"8rem",40:"10rem",48:"12rem",56:"14rem",64:"16rem"}},borderRadius:{borderRadius:{none:"0",sm:"0.125rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem",full:"9999px"}}};function y8(e){const t=bl.colors[e],n=bl.typography,r=bl.spacing,s=bl.borderRadius;return`
    :root {
      /* Colors */
      --color-primary: ${t.primary};
      --color-secondary: ${t.secondary};
      --color-success: ${t.success};
      --color-warning: ${t.warning};
      --color-error: ${t.error};
      --color-info: ${t.info};
      --color-background: ${t.background};
      --color-surface: ${t.surface};
      --color-border: ${t.border};
      --color-text: ${t.text};
      --color-text-secondary: ${t.textSecondary};
      --color-text-muted: ${t.textMuted};

      /* Typography */
      --font-family-sans: ${n.fontFamily.sans.join(", ")};
      --font-family-mono: ${n.fontFamily.mono.join(", ")};
      --font-size-xs: ${n.fontSize.xs};
      --font-size-sm: ${n.fontSize.sm};
      --font-size-base: ${n.fontSize.base};
      --font-size-lg: ${n.fontSize.lg};
      --font-size-xl: ${n.fontSize.xl};
      --font-size-2xl: ${n.fontSize["2xl"]};
      --font-size-3xl: ${n.fontSize["3xl"]};
      --font-size-4xl: ${n.fontSize["4xl"]};
      --font-weight-normal: ${n.fontWeight.normal};
      --font-weight-medium: ${n.fontWeight.medium};
      --font-weight-semibold: ${n.fontWeight.semibold};
      --font-weight-bold: ${n.fontWeight.bold};
      --line-height-tight: ${n.lineHeight.tight};
      --line-height-normal: ${n.lineHeight.normal};
      --line-height-relaxed: ${n.lineHeight.relaxed};

      /* Spacing */
      --spacing-px: ${r.spacing.px};
      --spacing-0: ${r.spacing[0]};
      --spacing-0-5: ${r.spacing[.5]};
      --spacing-1: ${r.spacing[1]};
      --spacing-1-5: ${r.spacing[1.5]};
      --spacing-2: ${r.spacing[2]};
      --spacing-2-5: ${r.spacing[2.5]};
      --spacing-3: ${r.spacing[3]};
      --spacing-3-5: ${r.spacing[3.5]};
      --spacing-4: ${r.spacing[4]};
      --spacing-5: ${r.spacing[5]};
      --spacing-6: ${r.spacing[6]};
      --spacing-7: ${r.spacing[7]};
      --spacing-8: ${r.spacing[8]};
      --spacing-9: ${r.spacing[9]};
      --spacing-10: ${r.spacing[10]};
      --spacing-12: ${r.spacing[12]};
      --spacing-16: ${r.spacing[16]};
      --spacing-20: ${r.spacing[20]};
      --spacing-24: ${r.spacing[24]};
      --spacing-32: ${r.spacing[32]};
      --spacing-40: ${r.spacing[40]};
      --spacing-48: ${r.spacing[48]};
      --spacing-56: ${r.spacing[56]};
      --spacing-64: ${r.spacing[64]};

      /* Border Radius */
      --border-radius-none: ${s.borderRadius.none};
      --border-radius-sm: ${s.borderRadius.sm};
      --border-radius-md: ${s.borderRadius.md};
      --border-radius-lg: ${s.borderRadius.lg};
      --border-radius-xl: ${s.borderRadius.xl};
      --border-radius-2xl: ${s.borderRadius["2xl"]};
      --border-radius-full: ${s.borderRadius.full};
    }
  `}const jv=V.createContext(void 0);function b8({children:e,defaultMode:t="light"}){const[n,r]=V.useState(()=>{const a=localStorage.getItem("adx402-theme");return a&&(a==="light"||a==="dark")?a:window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":t});V.useEffect(()=>{const a="adx402-theme-vars",c=y8(n);let u=document.getElementById(a);u||(u=document.createElement("style"),u.id=a,document.head.appendChild(u)),u.textContent=c,document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add(n),localStorage.setItem("adx402-theme",n)},[n]),V.useEffect(()=>{const a=window.matchMedia("(prefers-color-scheme: dark)"),c=u=>{localStorage.getItem("adx402-theme")||r(u.matches?"dark":"light")};return a.addEventListener("change",c),()=>a.removeEventListener("change",c)},[]);const o={mode:n,toggleTheme:()=>{r(a=>a==="light"?"dark":"light")},setTheme:a=>{r(a)}};return N.jsx(jv.Provider,{value:o,children:e})}function w8(){const e=V.useContext(jv);if(e===void 0)throw new Error("useTheme must be used within a ThemeProvider");return e}var Be={},tf={};tf.byteLength=E8;tf.toByteArray=_8;tf.fromByteArray=T8;var fs=[],Tr=[],x8=typeof Uint8Array<"u"?Uint8Array:Array,Bh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Jo=0,v8=Bh.length;Jo<v8;++Jo)fs[Jo]=Bh[Jo],Tr[Bh.charCodeAt(Jo)]=Jo;Tr[45]=62;Tr[95]=63;function $v(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=t);var r=n===t?0:4-n%4;return[n,r]}function E8(e){var t=$v(e),n=t[0],r=t[1];return(n+r)*3/4-r}function S8(e,t,n){return(t+n)*3/4-n}function _8(e){var t,n=$v(e),r=n[0],s=n[1],i=new x8(S8(e,r,s)),o=0,a=s>0?r-4:r,c;for(c=0;c<a;c+=4)t=Tr[e.charCodeAt(c)]<<18|Tr[e.charCodeAt(c+1)]<<12|Tr[e.charCodeAt(c+2)]<<6|Tr[e.charCodeAt(c+3)],i[o++]=t>>16&255,i[o++]=t>>8&255,i[o++]=t&255;return s===2&&(t=Tr[e.charCodeAt(c)]<<2|Tr[e.charCodeAt(c+1)]>>4,i[o++]=t&255),s===1&&(t=Tr[e.charCodeAt(c)]<<10|Tr[e.charCodeAt(c+1)]<<4|Tr[e.charCodeAt(c+2)]>>2,i[o++]=t>>8&255,i[o++]=t&255),i}function A8(e){return fs[e>>18&63]+fs[e>>12&63]+fs[e>>6&63]+fs[e&63]}function I8(e,t,n){for(var r,s=[],i=t;i<n;i+=3)r=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),s.push(A8(r));return s.join("")}function T8(e){for(var t,n=e.length,r=n%3,s=[],i=16383,o=0,a=n-r;o<a;o+=i)s.push(I8(e,o,o+i>a?a:o+i));return r===1?(t=e[n-1],s.push(fs[t>>2]+fs[t<<4&63]+"==")):r===2&&(t=(e[n-2]<<8)+e[n-1],s.push(fs[t>>10]+fs[t>>4&63]+fs[t<<2&63]+"=")),s.join("")}var mg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */mg.read=function(e,t,n,r,s){var i,o,a=s*8-r-1,c=(1<<a)-1,u=c>>1,l=-7,d=n?s-1:0,p=n?-1:1,h=e[t+d];for(d+=p,i=h&(1<<-l)-1,h>>=-l,l+=a;l>0;i=i*256+e[t+d],d+=p,l-=8);for(o=i&(1<<-l)-1,i>>=-l,l+=r;l>0;o=o*256+e[t+d],d+=p,l-=8);if(i===0)i=1-u;else{if(i===c)return o?NaN:(h?-1:1)*(1/0);o=o+Math.pow(2,r),i=i-u}return(h?-1:1)*o*Math.pow(2,i-r)};mg.write=function(e,t,n,r,s,i){var o,a,c,u=i*8-s-1,l=(1<<u)-1,d=l>>1,p=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,g=r?1:-1,y=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=l):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+d>=1?t+=p/c:t+=p*Math.pow(2,1-d),t*c>=2&&(o++,c/=2),o+d>=l?(a=0,o=l):o+d>=1?(a=(t*c-1)*Math.pow(2,s),o=o+d):(a=t*Math.pow(2,d-1)*Math.pow(2,s),o=0));s>=8;e[n+h]=a&255,h+=g,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[n+h]=o&255,h+=g,o/=256,u-=8);e[n+h-g]|=y*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const t=tf,n=mg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=M,e.INSPECT_MAX_BYTES=50;const s=2147483647;e.kMaxLength=s,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const k=new Uint8Array(1),w={foo:function(){return 42}};return Object.setPrototypeOf(w,Uint8Array.prototype),Object.setPrototypeOf(k,w),k.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function o(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');const w=new Uint8Array(k);return Object.setPrototypeOf(w,a.prototype),w}function a(k,w,x){if(typeof k=="number"){if(typeof w=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(k)}return c(k,w,x)}a.poolSize=8192;function c(k,w,x){if(typeof k=="string")return p(k,w);if(ArrayBuffer.isView(k))return g(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(fr(k,ArrayBuffer)||k&&fr(k.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(fr(k,SharedArrayBuffer)||k&&fr(k.buffer,SharedArrayBuffer)))return y(k,w,x);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const L=k.valueOf&&k.valueOf();if(L!=null&&L!==k)return a.from(L,w,x);const F=E(k);if(F)return F;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return a.from(k[Symbol.toPrimitive]("string"),w,x);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}a.from=function(k,w,x){return c(k,w,x)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function u(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function l(k,w,x){return u(k),k<=0?o(k):w!==void 0?typeof x=="string"?o(k).fill(w,x):o(k).fill(w):o(k)}a.alloc=function(k,w,x){return l(k,w,x)};function d(k){return u(k),o(k<0?0:S(k)|0)}a.allocUnsafe=function(k){return d(k)},a.allocUnsafeSlow=function(k){return d(k)};function p(k,w){if((typeof w!="string"||w==="")&&(w="utf8"),!a.isEncoding(w))throw new TypeError("Unknown encoding: "+w);const x=_(k,w)|0;let L=o(x);const F=L.write(k,w);return F!==x&&(L=L.slice(0,F)),L}function h(k){const w=k.length<0?0:S(k.length)|0,x=o(w);for(let L=0;L<w;L+=1)x[L]=k[L]&255;return x}function g(k){if(fr(k,Uint8Array)){const w=new Uint8Array(k);return y(w.buffer,w.byteOffset,w.byteLength)}return h(k)}function y(k,w,x){if(w<0||k.byteLength<w)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<w+(x||0))throw new RangeError('"length" is outside of buffer bounds');let L;return w===void 0&&x===void 0?L=new Uint8Array(k):x===void 0?L=new Uint8Array(k,w):L=new Uint8Array(k,w,x),Object.setPrototypeOf(L,a.prototype),L}function E(k){if(a.isBuffer(k)){const w=S(k.length)|0,x=o(w);return x.length===0||k.copy(x,0,0,w),x}if(k.length!==void 0)return typeof k.length!="number"||mt(k.length)?o(0):h(k);if(k.type==="Buffer"&&Array.isArray(k.data))return h(k.data)}function S(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return k|0}function M(k){return+k!=k&&(k=0),a.alloc(+k)}a.isBuffer=function(w){return w!=null&&w._isBuffer===!0&&w!==a.prototype},a.compare=function(w,x){if(fr(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),fr(x,Uint8Array)&&(x=a.from(x,x.offset,x.byteLength)),!a.isBuffer(w)||!a.isBuffer(x))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(w===x)return 0;let L=w.length,F=x.length;for(let H=0,J=Math.min(L,F);H<J;++H)if(w[H]!==x[H]){L=w[H],F=x[H];break}return L<F?-1:F<L?1:0},a.isEncoding=function(w){switch(String(w).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(w,x){if(!Array.isArray(w))throw new TypeError('"list" argument must be an Array of Buffers');if(w.length===0)return a.alloc(0);let L;if(x===void 0)for(x=0,L=0;L<w.length;++L)x+=w[L].length;const F=a.allocUnsafe(x);let H=0;for(L=0;L<w.length;++L){let J=w[L];if(fr(J,Uint8Array))H+J.length>F.length?(a.isBuffer(J)||(J=a.from(J)),J.copy(F,H)):Uint8Array.prototype.set.call(F,J,H);else if(a.isBuffer(J))J.copy(F,H);else throw new TypeError('"list" argument must be an Array of Buffers');H+=J.length}return F};function _(k,w){if(a.isBuffer(k))return k.length;if(ArrayBuffer.isView(k)||fr(k,ArrayBuffer))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const x=k.length,L=arguments.length>2&&arguments[2]===!0;if(!L&&x===0)return 0;let F=!1;for(;;)switch(w){case"ascii":case"latin1":case"binary":return x;case"utf8":case"utf-8":return pt(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return x*2;case"hex":return x>>>1;case"base64":return vt(k).length;default:if(F)return L?-1:pt(k).length;w=(""+w).toLowerCase(),F=!0}}a.byteLength=_;function T(k,w,x){let L=!1;if((w===void 0||w<0)&&(w=0),w>this.length||((x===void 0||x>this.length)&&(x=this.length),x<=0)||(x>>>=0,w>>>=0,x<=w))return"";for(k||(k="utf8");;)switch(k){case"hex":return B(this,w,x);case"utf8":case"utf-8":return f(this,w,x);case"ascii":return R(this,w,x);case"latin1":case"binary":return A(this,w,x);case"base64":return I(this,w,x);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,w,x);default:if(L)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),L=!0}}a.prototype._isBuffer=!0;function O(k,w,x){const L=k[w];k[w]=k[x],k[x]=L}a.prototype.swap16=function(){const w=this.length;if(w%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let x=0;x<w;x+=2)O(this,x,x+1);return this},a.prototype.swap32=function(){const w=this.length;if(w%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let x=0;x<w;x+=4)O(this,x,x+3),O(this,x+1,x+2);return this},a.prototype.swap64=function(){const w=this.length;if(w%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let x=0;x<w;x+=8)O(this,x,x+7),O(this,x+1,x+6),O(this,x+2,x+5),O(this,x+3,x+4);return this},a.prototype.toString=function(){const w=this.length;return w===0?"":arguments.length===0?f(this,0,w):T.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(w){if(!a.isBuffer(w))throw new TypeError("Argument must be a Buffer");return this===w?!0:a.compare(this,w)===0},a.prototype.inspect=function(){let w="";const x=e.INSPECT_MAX_BYTES;return w=this.toString("hex",0,x).replace(/(.{2})/g,"$1 ").trim(),this.length>x&&(w+=" ... "),"<Buffer "+w+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(w,x,L,F,H){if(fr(w,Uint8Array)&&(w=a.from(w,w.offset,w.byteLength)),!a.isBuffer(w))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof w);if(x===void 0&&(x=0),L===void 0&&(L=w?w.length:0),F===void 0&&(F=0),H===void 0&&(H=this.length),x<0||L>w.length||F<0||H>this.length)throw new RangeError("out of range index");if(F>=H&&x>=L)return 0;if(F>=H)return-1;if(x>=L)return 1;if(x>>>=0,L>>>=0,F>>>=0,H>>>=0,this===w)return 0;let J=H-F,je=L-x;const Oe=Math.min(J,je),ke=this.slice(F,H),dt=w.slice(x,L);for(let Ne=0;Ne<Oe;++Ne)if(ke[Ne]!==dt[Ne]){J=ke[Ne],je=dt[Ne];break}return J<je?-1:je<J?1:0};function $(k,w,x,L,F){if(k.length===0)return-1;if(typeof x=="string"?(L=x,x=0):x>2147483647?x=2147483647:x<-2147483648&&(x=-2147483648),x=+x,mt(x)&&(x=F?0:k.length-1),x<0&&(x=k.length+x),x>=k.length){if(F)return-1;x=k.length-1}else if(x<0)if(F)x=0;else return-1;if(typeof w=="string"&&(w=a.from(w,L)),a.isBuffer(w))return w.length===0?-1:D(k,w,x,L,F);if(typeof w=="number")return w=w&255,typeof Uint8Array.prototype.indexOf=="function"?F?Uint8Array.prototype.indexOf.call(k,w,x):Uint8Array.prototype.lastIndexOf.call(k,w,x):D(k,[w],x,L,F);throw new TypeError("val must be string, number or Buffer")}function D(k,w,x,L,F){let H=1,J=k.length,je=w.length;if(L!==void 0&&(L=String(L).toLowerCase(),L==="ucs2"||L==="ucs-2"||L==="utf16le"||L==="utf-16le")){if(k.length<2||w.length<2)return-1;H=2,J/=2,je/=2,x/=2}function Oe(dt,Ne){return H===1?dt[Ne]:dt.readUInt16BE(Ne*H)}let ke;if(F){let dt=-1;for(ke=x;ke<J;ke++)if(Oe(k,ke)===Oe(w,dt===-1?0:ke-dt)){if(dt===-1&&(dt=ke),ke-dt+1===je)return dt*H}else dt!==-1&&(ke-=ke-dt),dt=-1}else for(x+je>J&&(x=J-je),ke=x;ke>=0;ke--){let dt=!0;for(let Ne=0;Ne<je;Ne++)if(Oe(k,ke+Ne)!==Oe(w,Ne)){dt=!1;break}if(dt)return ke}return-1}a.prototype.includes=function(w,x,L){return this.indexOf(w,x,L)!==-1},a.prototype.indexOf=function(w,x,L){return $(this,w,x,L,!0)},a.prototype.lastIndexOf=function(w,x,L){return $(this,w,x,L,!1)};function z(k,w,x,L){x=Number(x)||0;const F=k.length-x;L?(L=Number(L),L>F&&(L=F)):L=F;const H=w.length;L>H/2&&(L=H/2);let J;for(J=0;J<L;++J){const je=parseInt(w.substr(J*2,2),16);if(mt(je))return J;k[x+J]=je}return J}function U(k,w,x,L){return lt(pt(w,k.length-x),k,x,L)}function K(k,w,x,L){return lt(Tt(w),k,x,L)}function W(k,w,x,L){return lt(vt(w),k,x,L)}function q(k,w,x,L){return lt(ml(w,k.length-x),k,x,L)}a.prototype.write=function(w,x,L,F){if(x===void 0)F="utf8",L=this.length,x=0;else if(L===void 0&&typeof x=="string")F=x,L=this.length,x=0;else if(isFinite(x))x=x>>>0,isFinite(L)?(L=L>>>0,F===void 0&&(F="utf8")):(F=L,L=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const H=this.length-x;if((L===void 0||L>H)&&(L=H),w.length>0&&(L<0||x<0)||x>this.length)throw new RangeError("Attempt to write outside buffer bounds");F||(F="utf8");let J=!1;for(;;)switch(F){case"hex":return z(this,w,x,L);case"utf8":case"utf-8":return U(this,w,x,L);case"ascii":case"latin1":case"binary":return K(this,w,x,L);case"base64":return W(this,w,x,L);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return q(this,w,x,L);default:if(J)throw new TypeError("Unknown encoding: "+F);F=(""+F).toLowerCase(),J=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function I(k,w,x){return w===0&&x===k.length?t.fromByteArray(k):t.fromByteArray(k.slice(w,x))}function f(k,w,x){x=Math.min(k.length,x);const L=[];let F=w;for(;F<x;){const H=k[F];let J=null,je=H>239?4:H>223?3:H>191?2:1;if(F+je<=x){let Oe,ke,dt,Ne;switch(je){case 1:H<128&&(J=H);break;case 2:Oe=k[F+1],(Oe&192)===128&&(Ne=(H&31)<<6|Oe&63,Ne>127&&(J=Ne));break;case 3:Oe=k[F+1],ke=k[F+2],(Oe&192)===128&&(ke&192)===128&&(Ne=(H&15)<<12|(Oe&63)<<6|ke&63,Ne>2047&&(Ne<55296||Ne>57343)&&(J=Ne));break;case 4:Oe=k[F+1],ke=k[F+2],dt=k[F+3],(Oe&192)===128&&(ke&192)===128&&(dt&192)===128&&(Ne=(H&15)<<18|(Oe&63)<<12|(ke&63)<<6|dt&63,Ne>65535&&Ne<1114112&&(J=Ne))}}J===null?(J=65533,je=1):J>65535&&(J-=65536,L.push(J>>>10&1023|55296),J=56320|J&1023),L.push(J),F+=je}return v(L)}const m=4096;function v(k){const w=k.length;if(w<=m)return String.fromCharCode.apply(String,k);let x="",L=0;for(;L<w;)x+=String.fromCharCode.apply(String,k.slice(L,L+=m));return x}function R(k,w,x){let L="";x=Math.min(k.length,x);for(let F=w;F<x;++F)L+=String.fromCharCode(k[F]&127);return L}function A(k,w,x){let L="";x=Math.min(k.length,x);for(let F=w;F<x;++F)L+=String.fromCharCode(k[F]);return L}function B(k,w,x){const L=k.length;(!w||w<0)&&(w=0),(!x||x<0||x>L)&&(x=L);let F="";for(let H=w;H<x;++H)F+=Rt[k[H]];return F}function j(k,w,x){const L=k.slice(w,x);let F="";for(let H=0;H<L.length-1;H+=2)F+=String.fromCharCode(L[H]+L[H+1]*256);return F}a.prototype.slice=function(w,x){const L=this.length;w=~~w,x=x===void 0?L:~~x,w<0?(w+=L,w<0&&(w=0)):w>L&&(w=L),x<0?(x+=L,x<0&&(x=0)):x>L&&(x=L),x<w&&(x=w);const F=this.subarray(w,x);return Object.setPrototypeOf(F,a.prototype),F};function C(k,w,x){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+w>x)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(w,x,L){w=w>>>0,x=x>>>0,L||C(w,x,this.length);let F=this[w],H=1,J=0;for(;++J<x&&(H*=256);)F+=this[w+J]*H;return F},a.prototype.readUintBE=a.prototype.readUIntBE=function(w,x,L){w=w>>>0,x=x>>>0,L||C(w,x,this.length);let F=this[w+--x],H=1;for(;x>0&&(H*=256);)F+=this[w+--x]*H;return F},a.prototype.readUint8=a.prototype.readUInt8=function(w,x){return w=w>>>0,x||C(w,1,this.length),this[w]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(w,x){return w=w>>>0,x||C(w,2,this.length),this[w]|this[w+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(w,x){return w=w>>>0,x||C(w,2,this.length),this[w]<<8|this[w+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(w,x){return w=w>>>0,x||C(w,4,this.length),(this[w]|this[w+1]<<8|this[w+2]<<16)+this[w+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(w,x){return w=w>>>0,x||C(w,4,this.length),this[w]*16777216+(this[w+1]<<16|this[w+2]<<8|this[w+3])},a.prototype.readBigUInt64LE=Wr(function(w){w=w>>>0,jt(w,"offset");const x=this[w],L=this[w+7];(x===void 0||L===void 0)&&Ye(w,this.length-8);const F=x+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24,H=this[++w]+this[++w]*2**8+this[++w]*2**16+L*2**24;return BigInt(F)+(BigInt(H)<<BigInt(32))}),a.prototype.readBigUInt64BE=Wr(function(w){w=w>>>0,jt(w,"offset");const x=this[w],L=this[w+7];(x===void 0||L===void 0)&&Ye(w,this.length-8);const F=x*2**24+this[++w]*2**16+this[++w]*2**8+this[++w],H=this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+L;return(BigInt(F)<<BigInt(32))+BigInt(H)}),a.prototype.readIntLE=function(w,x,L){w=w>>>0,x=x>>>0,L||C(w,x,this.length);let F=this[w],H=1,J=0;for(;++J<x&&(H*=256);)F+=this[w+J]*H;return H*=128,F>=H&&(F-=Math.pow(2,8*x)),F},a.prototype.readIntBE=function(w,x,L){w=w>>>0,x=x>>>0,L||C(w,x,this.length);let F=x,H=1,J=this[w+--F];for(;F>0&&(H*=256);)J+=this[w+--F]*H;return H*=128,J>=H&&(J-=Math.pow(2,8*x)),J},a.prototype.readInt8=function(w,x){return w=w>>>0,x||C(w,1,this.length),this[w]&128?(255-this[w]+1)*-1:this[w]},a.prototype.readInt16LE=function(w,x){w=w>>>0,x||C(w,2,this.length);const L=this[w]|this[w+1]<<8;return L&32768?L|4294901760:L},a.prototype.readInt16BE=function(w,x){w=w>>>0,x||C(w,2,this.length);const L=this[w+1]|this[w]<<8;return L&32768?L|4294901760:L},a.prototype.readInt32LE=function(w,x){return w=w>>>0,x||C(w,4,this.length),this[w]|this[w+1]<<8|this[w+2]<<16|this[w+3]<<24},a.prototype.readInt32BE=function(w,x){return w=w>>>0,x||C(w,4,this.length),this[w]<<24|this[w+1]<<16|this[w+2]<<8|this[w+3]},a.prototype.readBigInt64LE=Wr(function(w){w=w>>>0,jt(w,"offset");const x=this[w],L=this[w+7];(x===void 0||L===void 0)&&Ye(w,this.length-8);const F=this[w+4]+this[w+5]*2**8+this[w+6]*2**16+(L<<24);return(BigInt(F)<<BigInt(32))+BigInt(x+this[++w]*2**8+this[++w]*2**16+this[++w]*2**24)}),a.prototype.readBigInt64BE=Wr(function(w){w=w>>>0,jt(w,"offset");const x=this[w],L=this[w+7];(x===void 0||L===void 0)&&Ye(w,this.length-8);const F=(x<<24)+this[++w]*2**16+this[++w]*2**8+this[++w];return(BigInt(F)<<BigInt(32))+BigInt(this[++w]*2**24+this[++w]*2**16+this[++w]*2**8+L)}),a.prototype.readFloatLE=function(w,x){return w=w>>>0,x||C(w,4,this.length),n.read(this,w,!0,23,4)},a.prototype.readFloatBE=function(w,x){return w=w>>>0,x||C(w,4,this.length),n.read(this,w,!1,23,4)},a.prototype.readDoubleLE=function(w,x){return w=w>>>0,x||C(w,8,this.length),n.read(this,w,!0,52,8)},a.prototype.readDoubleBE=function(w,x){return w=w>>>0,x||C(w,8,this.length),n.read(this,w,!1,52,8)};function b(k,w,x,L,F,H){if(!a.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(w>F||w<H)throw new RangeError('"value" argument is out of bounds');if(x+L>k.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(w,x,L,F){if(w=+w,x=x>>>0,L=L>>>0,!F){const je=Math.pow(2,8*L)-1;b(this,w,x,L,je,0)}let H=1,J=0;for(this[x]=w&255;++J<L&&(H*=256);)this[x+J]=w/H&255;return x+L},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(w,x,L,F){if(w=+w,x=x>>>0,L=L>>>0,!F){const je=Math.pow(2,8*L)-1;b(this,w,x,L,je,0)}let H=L-1,J=1;for(this[x+H]=w&255;--H>=0&&(J*=256);)this[x+H]=w/J&255;return x+L},a.prototype.writeUint8=a.prototype.writeUInt8=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,1,255,0),this[x]=w&255,x+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,2,65535,0),this[x]=w&255,this[x+1]=w>>>8,x+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,2,65535,0),this[x]=w>>>8,this[x+1]=w&255,x+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,4,4294967295,0),this[x+3]=w>>>24,this[x+2]=w>>>16,this[x+1]=w>>>8,this[x]=w&255,x+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,4,4294967295,0),this[x]=w>>>24,this[x+1]=w>>>16,this[x+2]=w>>>8,this[x+3]=w&255,x+4};function P(k,w,x,L,F){Ue(w,L,F,k,x,7);let H=Number(w&BigInt(4294967295));k[x++]=H,H=H>>8,k[x++]=H,H=H>>8,k[x++]=H,H=H>>8,k[x++]=H;let J=Number(w>>BigInt(32)&BigInt(4294967295));return k[x++]=J,J=J>>8,k[x++]=J,J=J>>8,k[x++]=J,J=J>>8,k[x++]=J,x}function X(k,w,x,L,F){Ue(w,L,F,k,x,7);let H=Number(w&BigInt(4294967295));k[x+7]=H,H=H>>8,k[x+6]=H,H=H>>8,k[x+5]=H,H=H>>8,k[x+4]=H;let J=Number(w>>BigInt(32)&BigInt(4294967295));return k[x+3]=J,J=J>>8,k[x+2]=J,J=J>>8,k[x+1]=J,J=J>>8,k[x]=J,x+8}a.prototype.writeBigUInt64LE=Wr(function(w,x=0){return P(this,w,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Wr(function(w,x=0){return X(this,w,x,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(w,x,L,F){if(w=+w,x=x>>>0,!F){const Oe=Math.pow(2,8*L-1);b(this,w,x,L,Oe-1,-Oe)}let H=0,J=1,je=0;for(this[x]=w&255;++H<L&&(J*=256);)w<0&&je===0&&this[x+H-1]!==0&&(je=1),this[x+H]=(w/J>>0)-je&255;return x+L},a.prototype.writeIntBE=function(w,x,L,F){if(w=+w,x=x>>>0,!F){const Oe=Math.pow(2,8*L-1);b(this,w,x,L,Oe-1,-Oe)}let H=L-1,J=1,je=0;for(this[x+H]=w&255;--H>=0&&(J*=256);)w<0&&je===0&&this[x+H+1]!==0&&(je=1),this[x+H]=(w/J>>0)-je&255;return x+L},a.prototype.writeInt8=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,1,127,-128),w<0&&(w=255+w+1),this[x]=w&255,x+1},a.prototype.writeInt16LE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,2,32767,-32768),this[x]=w&255,this[x+1]=w>>>8,x+2},a.prototype.writeInt16BE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,2,32767,-32768),this[x]=w>>>8,this[x+1]=w&255,x+2},a.prototype.writeInt32LE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,4,2147483647,-2147483648),this[x]=w&255,this[x+1]=w>>>8,this[x+2]=w>>>16,this[x+3]=w>>>24,x+4},a.prototype.writeInt32BE=function(w,x,L){return w=+w,x=x>>>0,L||b(this,w,x,4,2147483647,-2147483648),w<0&&(w=4294967295+w+1),this[x]=w>>>24,this[x+1]=w>>>16,this[x+2]=w>>>8,this[x+3]=w&255,x+4},a.prototype.writeBigInt64LE=Wr(function(w,x=0){return P(this,w,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Wr(function(w,x=0){return X(this,w,x,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ee(k,w,x,L,F,H){if(x+L>k.length)throw new RangeError("Index out of range");if(x<0)throw new RangeError("Index out of range")}function oe(k,w,x,L,F){return w=+w,x=x>>>0,F||ee(k,w,x,4),n.write(k,w,x,L,23,4),x+4}a.prototype.writeFloatLE=function(w,x,L){return oe(this,w,x,!0,L)},a.prototype.writeFloatBE=function(w,x,L){return oe(this,w,x,!1,L)};function he(k,w,x,L,F){return w=+w,x=x>>>0,F||ee(k,w,x,8),n.write(k,w,x,L,52,8),x+8}a.prototype.writeDoubleLE=function(w,x,L){return he(this,w,x,!0,L)},a.prototype.writeDoubleBE=function(w,x,L){return he(this,w,x,!1,L)},a.prototype.copy=function(w,x,L,F){if(!a.isBuffer(w))throw new TypeError("argument should be a Buffer");if(L||(L=0),!F&&F!==0&&(F=this.length),x>=w.length&&(x=w.length),x||(x=0),F>0&&F<L&&(F=L),F===L||w.length===0||this.length===0)return 0;if(x<0)throw new RangeError("targetStart out of bounds");if(L<0||L>=this.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("sourceEnd out of bounds");F>this.length&&(F=this.length),w.length-x<F-L&&(F=w.length-x+L);const H=F-L;return this===w&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(x,L,F):Uint8Array.prototype.set.call(w,this.subarray(L,F),x),H},a.prototype.fill=function(w,x,L,F){if(typeof w=="string"){if(typeof x=="string"?(F=x,x=0,L=this.length):typeof L=="string"&&(F=L,L=this.length),F!==void 0&&typeof F!="string")throw new TypeError("encoding must be a string");if(typeof F=="string"&&!a.isEncoding(F))throw new TypeError("Unknown encoding: "+F);if(w.length===1){const J=w.charCodeAt(0);(F==="utf8"&&J<128||F==="latin1")&&(w=J)}}else typeof w=="number"?w=w&255:typeof w=="boolean"&&(w=Number(w));if(x<0||this.length<x||this.length<L)throw new RangeError("Out of range index");if(L<=x)return this;x=x>>>0,L=L===void 0?this.length:L>>>0,w||(w=0);let H;if(typeof w=="number")for(H=x;H<L;++H)this[H]=w;else{const J=a.isBuffer(w)?w:a.from(w,F),je=J.length;if(je===0)throw new TypeError('The value "'+w+'" is invalid for argument "value"');for(H=0;H<L-x;++H)this[H+x]=J[H%je]}return this};const Se={};function be(k,w,x){Se[k]=class extends x{constructor(){super(),Object.defineProperty(this,"message",{value:w.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(F){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:F,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}be("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),be("ERR_INVALID_ARG_TYPE",function(k,w){return`The "${k}" argument must be of type number. Received type ${typeof w}`},TypeError),be("ERR_OUT_OF_RANGE",function(k,w,x){let L=`The value of "${k}" is out of range.`,F=x;return Number.isInteger(x)&&Math.abs(x)>2**32?F=He(String(x)):typeof x=="bigint"&&(F=String(x),(x>BigInt(2)**BigInt(32)||x<-(BigInt(2)**BigInt(32)))&&(F=He(F)),F+="n"),L+=` It must be ${w}. Received ${F}`,L},RangeError);function He(k){let w="",x=k.length;const L=k[0]==="-"?1:0;for(;x>=L+4;x-=3)w=`_${k.slice(x-3,x)}${w}`;return`${k.slice(0,x)}${w}`}function Ve(k,w,x){jt(w,"offset"),(k[w]===void 0||k[w+x]===void 0)&&Ye(w,k.length-(x+1))}function Ue(k,w,x,L,F,H){if(k>x||k<w){const J=typeof w=="bigint"?"n":"";let je;throw w===0||w===BigInt(0)?je=`>= 0${J} and < 2${J} ** ${(H+1)*8}${J}`:je=`>= -(2${J} ** ${(H+1)*8-1}${J}) and < 2 ** ${(H+1)*8-1}${J}`,new Se.ERR_OUT_OF_RANGE("value",je,k)}Ve(L,F,H)}function jt(k,w){if(typeof k!="number")throw new Se.ERR_INVALID_ARG_TYPE(w,"number",k)}function Ye(k,w,x){throw Math.floor(k)!==k?(jt(k,x),new Se.ERR_OUT_OF_RANGE("offset","an integer",k)):w<0?new Se.ERR_BUFFER_OUT_OF_BOUNDS:new Se.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${w}`,k)}const it=/[^+/0-9A-Za-z-_]/g;function Fr(k){if(k=k.split("=")[0],k=k.trim().replace(it,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function pt(k,w){w=w||1/0;let x;const L=k.length;let F=null;const H=[];for(let J=0;J<L;++J){if(x=k.charCodeAt(J),x>55295&&x<57344){if(!F){if(x>56319){(w-=3)>-1&&H.push(239,191,189);continue}else if(J+1===L){(w-=3)>-1&&H.push(239,191,189);continue}F=x;continue}if(x<56320){(w-=3)>-1&&H.push(239,191,189),F=x;continue}x=(F-55296<<10|x-56320)+65536}else F&&(w-=3)>-1&&H.push(239,191,189);if(F=null,x<128){if((w-=1)<0)break;H.push(x)}else if(x<2048){if((w-=2)<0)break;H.push(x>>6|192,x&63|128)}else if(x<65536){if((w-=3)<0)break;H.push(x>>12|224,x>>6&63|128,x&63|128)}else if(x<1114112){if((w-=4)<0)break;H.push(x>>18|240,x>>12&63|128,x>>6&63|128,x&63|128)}else throw new Error("Invalid code point")}return H}function Tt(k){const w=[];for(let x=0;x<k.length;++x)w.push(k.charCodeAt(x)&255);return w}function ml(k,w){let x,L,F;const H=[];for(let J=0;J<k.length&&!((w-=2)<0);++J)x=k.charCodeAt(J),L=x>>8,F=x%256,H.push(F),H.push(L);return H}function vt(k){return t.toByteArray(Fr(k))}function lt(k,w,x,L){let F;for(F=0;F<L&&!(F+x>=w.length||F>=k.length);++F)w[F+x]=k[F];return F}function fr(k,w){return k instanceof w||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===w.name}function mt(k){return k!==k}const Rt=function(){const k="0123456789abcdef",w=new Array(256);for(let x=0;x<16;++x){const L=x*16;for(let F=0;F<16;++F)w[L+F]=k[x]+k[F]}return w}();function Wr(k){return typeof BigInt>"u"?Nt:k}function Nt(){throw new Error("BigInt not supported")}})(Be);const Qo=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ku(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function Ra(e){if(!Number.isSafeInteger(e)||e<0)throw new Error("positive integer expected, got "+e)}function ti(e,...t){if(!ku(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function Dv(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Ra(e.outputLen),Ra(e.blockLen)}function Na(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function zv(e,t){ti(e);const n=t.outputLen;if(e.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function R8(e){return new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4))}function Pi(...e){for(let t=0;t<e.length;t++)e[t].fill(0)}function Oh(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function cs(e,t){return e<<32-t|e>>>t}const N8=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function C8(e){return e<<24&4278190080|e<<8&16711680|e>>>8&65280|e>>>24&255}function M8(e){for(let t=0;t<e.length;t++)e[t]=C8(e[t]);return e}const qb=N8?e=>e:M8,Uv=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",k8=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function co(e){if(ti(e),Uv)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=k8[e[n]];return t}const ks={_0:48,_9:57,A:65,F:70,a:97,f:102};function Hb(e){if(e>=ks._0&&e<=ks._9)return e-ks._0;if(e>=ks.A&&e<=ks.F)return e-(ks.A-10);if(e>=ks.a&&e<=ks.f)return e-(ks.a-10)}function dd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(Uv)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Hb(e.charCodeAt(i)),a=Hb(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function B8(e){if(typeof e!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(e))}function nf(e){return typeof e=="string"&&(e=B8(e)),ti(e),e}function Hr(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ti(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}class gg{}function yg(e){const t=r=>e().update(nf(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function rf(e=32){if(Qo&&typeof Qo.getRandomValues=="function")return Qo.getRandomValues(new Uint8Array(e));if(Qo&&typeof Qo.randomBytes=="function")return Uint8Array.from(Qo.randomBytes(e));throw new Error("crypto.getRandomValues must be defined")}function O8(e,t,n,r){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,n,r);const s=BigInt(32),i=BigInt(4294967295),o=Number(n>>s&i),a=Number(n&i),c=r?4:0,u=r?0:4;e.setUint32(t+c,o,r),e.setUint32(t+u,a,r)}function P8(e,t,n){return e&t^~e&n}function L8(e,t,n){return e&t^e&n^t&n}class Fv extends gg{constructor(t,n,r,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=t,this.outputLen=n,this.padOffset=r,this.isLE=s,this.buffer=new Uint8Array(t),this.view=Oh(this.buffer)}update(t){Na(this),t=nf(t),ti(t);const{view:n,buffer:r,blockLen:s}=this,i=t.length;for(let o=0;o<i;){const a=Math.min(s-this.pos,i-o);if(a===s){const c=Oh(t);for(;s<=i-o;o+=s)this.process(c,o);continue}r.set(t.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){Na(this),zv(t,this),this.finished=!0;const{buffer:n,view:r,blockLen:s,isLE:i}=this;let{pos:o}=this;n[o++]=128,Pi(this.buffer.subarray(o)),this.padOffset>s-o&&(this.process(r,0),o=0);for(let d=o;d<s;d++)n[d]=0;O8(r,s-8,BigInt(this.length*8),i),this.process(r,0);const a=Oh(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],i)}digest(){const{buffer:t,outputLen:n}=this;this.digestInto(t);const r=t.slice(0,n);return this.destroy(),r}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());const{blockLen:n,buffer:r,length:s,finished:i,destroyed:o,pos:a}=this;return t.destroyed=o,t.finished=i,t.length=s,t.pos=a,s%n&&t.buffer.set(r),t}clone(){return this._cloneInto()}}const gi=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Cn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),wl=BigInt(2**32-1),Gb=BigInt(32);function j8(e,t=!1){return t?{h:Number(e&wl),l:Number(e>>Gb&wl)}:{h:Number(e>>Gb&wl)|0,l:Number(e&wl)|0}}function Wv(e,t=!1){const n=e.length;let r=new Uint32Array(n),s=new Uint32Array(n);for(let i=0;i<n;i++){const{h:o,l:a}=j8(e[i],t);[r[i],s[i]]=[o,a]}return[r,s]}const Kb=(e,t,n)=>e>>>n,Zb=(e,t,n)=>e<<32-n|t>>>n,Xo=(e,t,n)=>e>>>n|t<<32-n,ea=(e,t,n)=>e<<32-n|t>>>n,xl=(e,t,n)=>e<<64-n|t>>>n-32,vl=(e,t,n)=>e>>>n-32|t<<64-n,$8=(e,t,n)=>e<<n|t>>>32-n,D8=(e,t,n)=>t<<n|e>>>32-n,z8=(e,t,n)=>t<<n-32|e>>>64-n,U8=(e,t,n)=>e<<n-32|t>>>64-n;function Bs(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const F8=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),W8=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,V8=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),q8=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,H8=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),G8=(e,t,n,r,s,i)=>t+n+r+s+i+(e/2**32|0)|0,K8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),yi=new Uint32Array(64);class Z8 extends Fv{constructor(t=32){super(64,t,8,!1),this.A=gi[0]|0,this.B=gi[1]|0,this.C=gi[2]|0,this.D=gi[3]|0,this.E=gi[4]|0,this.F=gi[5]|0,this.G=gi[6]|0,this.H=gi[7]|0}get(){const{A:t,B:n,C:r,D:s,E:i,F:o,G:a,H:c}=this;return[t,n,r,s,i,o,a,c]}set(t,n,r,s,i,o,a,c){this.A=t|0,this.B=n|0,this.C=r|0,this.D=s|0,this.E=i|0,this.F=o|0,this.G=a|0,this.H=c|0}process(t,n){for(let d=0;d<16;d++,n+=4)yi[d]=t.getUint32(n,!1);for(let d=16;d<64;d++){const p=yi[d-15],h=yi[d-2],g=cs(p,7)^cs(p,18)^p>>>3,y=cs(h,17)^cs(h,19)^h>>>10;yi[d]=y+yi[d-7]+g+yi[d-16]|0}let{A:r,B:s,C:i,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const p=cs(a,6)^cs(a,11)^cs(a,25),h=l+p+P8(a,c,u)+K8[d]+yi[d]|0,y=(cs(r,2)^cs(r,13)^cs(r,22))+L8(r,s,i)|0;l=u,u=c,c=a,a=o+h|0,o=i,i=s,s=r,r=h+y|0}r=r+this.A|0,s=s+this.B|0,i=i+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,s,i,o,a,c,u,l)}roundClean(){Pi(yi)}destroy(){this.set(0,0,0,0,0,0,0,0),Pi(this.buffer)}}const Vv=Wv(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),Y8=Vv[0],J8=Vv[1],bi=new Uint32Array(80),wi=new Uint32Array(80);class Q8 extends Fv{constructor(t=64){super(128,t,16,!1),this.Ah=Cn[0]|0,this.Al=Cn[1]|0,this.Bh=Cn[2]|0,this.Bl=Cn[3]|0,this.Ch=Cn[4]|0,this.Cl=Cn[5]|0,this.Dh=Cn[6]|0,this.Dl=Cn[7]|0,this.Eh=Cn[8]|0,this.El=Cn[9]|0,this.Fh=Cn[10]|0,this.Fl=Cn[11]|0,this.Gh=Cn[12]|0,this.Gl=Cn[13]|0,this.Hh=Cn[14]|0,this.Hl=Cn[15]|0}get(){const{Ah:t,Al:n,Bh:r,Bl:s,Ch:i,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:p,Gh:h,Gl:g,Hh:y,Hl:E}=this;return[t,n,r,s,i,o,a,c,u,l,d,p,h,g,y,E]}set(t,n,r,s,i,o,a,c,u,l,d,p,h,g,y,E){this.Ah=t|0,this.Al=n|0,this.Bh=r|0,this.Bl=s|0,this.Ch=i|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=p|0,this.Gh=h|0,this.Gl=g|0,this.Hh=y|0,this.Hl=E|0}process(t,n){for(let _=0;_<16;_++,n+=4)bi[_]=t.getUint32(n),wi[_]=t.getUint32(n+=4);for(let _=16;_<80;_++){const T=bi[_-15]|0,O=wi[_-15]|0,$=Xo(T,O,1)^Xo(T,O,8)^Kb(T,O,7),D=ea(T,O,1)^ea(T,O,8)^Zb(T,O,7),z=bi[_-2]|0,U=wi[_-2]|0,K=Xo(z,U,19)^xl(z,U,61)^Kb(z,U,6),W=ea(z,U,19)^vl(z,U,61)^Zb(z,U,6),q=V8(D,W,wi[_-7],wi[_-16]),I=q8(q,$,K,bi[_-7],bi[_-16]);bi[_]=I|0,wi[_]=q|0}let{Ah:r,Al:s,Bh:i,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:p,Fh:h,Fl:g,Gh:y,Gl:E,Hh:S,Hl:M}=this;for(let _=0;_<80;_++){const T=Xo(d,p,14)^Xo(d,p,18)^xl(d,p,41),O=ea(d,p,14)^ea(d,p,18)^vl(d,p,41),$=d&h^~d&y,D=p&g^~p&E,z=H8(M,O,D,J8[_],wi[_]),U=G8(z,S,T,$,Y8[_],bi[_]),K=z|0,W=Xo(r,s,28)^xl(r,s,34)^xl(r,s,39),q=ea(r,s,28)^vl(r,s,34)^vl(r,s,39),I=r&i^r&a^i&a,f=s&o^s&c^o&c;S=y|0,M=E|0,y=h|0,E=g|0,h=d|0,g=p|0,{h:d,l:p}=Bs(u|0,l|0,U|0,K|0),u=a|0,l=c|0,a=i|0,c=o|0,i=r|0,o=s|0;const m=F8(K,q,f);r=W8(m,U,W,I),s=m|0}({h:r,l:s}=Bs(this.Ah|0,this.Al|0,r|0,s|0)),{h:i,l:o}=Bs(this.Bh|0,this.Bl|0,i|0,o|0),{h:a,l:c}=Bs(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Bs(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:p}=Bs(this.Eh|0,this.El|0,d|0,p|0),{h,l:g}=Bs(this.Fh|0,this.Fl|0,h|0,g|0),{h:y,l:E}=Bs(this.Gh|0,this.Gl|0,y|0,E|0),{h:S,l:M}=Bs(this.Hh|0,this.Hl|0,S|0,M|0),this.set(r,s,i,o,a,c,u,l,d,p,h,g,y,E,S,M)}roundClean(){Pi(bi,wi)}destroy(){Pi(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const bg=yg(()=>new Z8),X8=yg(()=>new Q8);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wg=BigInt(0),cp=BigInt(1);function xo(e,t=""){if(typeof e!="boolean"){const n=t&&`"${t}"`;throw new Error(n+"expected boolean, got type="+typeof e)}return e}function Kr(e,t,n=""){const r=ku(e),s=e==null?void 0:e.length,i=t!==void 0;if(!r||i&&s!==t){const o=n&&`"${n}" `,a=i?` of length ${t}`:"",c=r?`length=${s}`:`type=${typeof e}`;throw new Error(o+"expected Uint8Array"+a+", got "+c)}return e}function El(e){const t=e.toString(16);return t.length&1?"0"+t:t}function qv(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?wg:BigInt("0x"+e)}function sf(e){return qv(co(e))}function Hc(e){return ti(e),qv(co(Uint8Array.from(e).reverse()))}function xg(e,t){return dd(e.toString(16).padStart(t*2,"0"))}function Hv(e,t){return xg(e,t).reverse()}function Mt(e,t,n){let r;if(typeof t=="string")try{r=dd(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(ku(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function Yb(e){return Uint8Array.from(e)}const Ph=e=>typeof e=="bigint"&&wg<=e;function eR(e,t,n){return Ph(e)&&Ph(t)&&Ph(n)&&t<=e&&e<n}function up(e,t,n,r){if(!eR(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function Gv(e){let t;for(t=0;e>wg;e>>=cp,t+=1);return t}const Bu=e=>(cp<<BigInt(e))-cp;function tR(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");const r=h=>new Uint8Array(h),s=h=>Uint8Array.of(h);let i=r(e),o=r(e),a=0;const c=()=>{i.fill(1),o.fill(0),a=0},u=(...h)=>n(o,i,...h),l=(h=r(0))=>{o=u(s(0),h),i=u(),h.length!==0&&(o=u(s(1),h),i=u())},d=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<t;){i=u();const y=i.slice();g.push(y),h+=i.length}return Hr(...g)};return(h,g)=>{c(),l(h);let y;for(;!(y=g(d()));)l();return c(),y}}function Ou(e,t,n={}){if(!e||typeof e!="object")throw new Error("expected valid options object");function r(s,i,o){const a=e[s];if(o&&a===void 0)return;const c=typeof a;if(c!==i||a===null)throw new Error(`param "${s}" is invalid: expected ${i}, got ${c}`)}Object.entries(t).forEach(([s,i])=>r(s,i,!1)),Object.entries(n).forEach(([s,i])=>r(s,i,!0))}function fd(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ir=BigInt(0),Rn=BigInt(1),Yi=BigInt(2),Kv=BigInt(3),Zv=BigInt(4),Yv=BigInt(5),nR=BigInt(7),Jv=BigInt(8),rR=BigInt(9),Qv=BigInt(16);function an(e,t){const n=e%t;return n>=ir?n:t+n}function Ct(e,t,n){let r=e;for(;t-- >ir;)r*=r,r%=n;return r}function Jb(e,t){if(e===ir)throw new Error("invert: expected non-zero number");if(t<=ir)throw new Error("invert: expected positive modulus, got "+t);let n=an(e,t),r=t,s=ir,i=Rn;for(;n!==ir;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Rn)throw new Error("invert: does not exist");return an(s,t)}function vg(e,t,n){if(!e.eql(e.sqr(t),n))throw new Error("Cannot find square root")}function Xv(e,t){const n=(e.ORDER+Rn)/Zv,r=e.pow(t,n);return vg(e,r,t),r}function sR(e,t){const n=(e.ORDER-Yv)/Jv,r=e.mul(t,Yi),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,Yi),s),a=e.mul(i,e.sub(o,e.ONE));return vg(e,a,t),a}function iR(e){const t=Fo(e),n=e2(e),r=n(t,t.neg(t.ONE)),s=n(t,r),i=n(t,t.neg(r)),o=(e+nR)/Qv;return(a,c)=>{let u=a.pow(c,o),l=a.mul(u,r);const d=a.mul(u,s),p=a.mul(u,i),h=a.eql(a.sqr(l),c),g=a.eql(a.sqr(d),c);u=a.cmov(u,l,h),l=a.cmov(p,d,g);const y=a.eql(a.sqr(l),c),E=a.cmov(u,l,y);return vg(a,E,c),E}}function e2(e){if(e<Kv)throw new Error("sqrt is not defined for small field");let t=e-Rn,n=0;for(;t%Yi===ir;)t/=Yi,n++;let r=Yi;const s=Fo(e);for(;Qb(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return Xv;let i=s.pow(r,t);const o=(t+Rn)/Yi;return function(c,u){if(c.is0(u))return u;if(Qb(c,u)!==1)throw new Error("Cannot find square root");let l=n,d=c.mul(c.ONE,i),p=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let g=1,y=c.sqr(p);for(;!c.eql(y,c.ONE);)if(g++,y=c.sqr(y),g===l)throw new Error("Cannot find square root");const E=Rn<<BigInt(l-g-1),S=c.pow(d,E);l=g,d=c.sqr(S),p=c.mul(p,d),h=c.mul(h,S)}return h}}function oR(e){return e%Zv===Kv?Xv:e%Jv===Yv?sR:e%Qv===rR?iR(e):e2(e)}const aR=(e,t)=>(an(e,t)&Rn)===Rn,cR=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function uR(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},n=cR.reduce((r,s)=>(r[s]="function",r),t);return Ou(e,n),e}function lR(e,t,n){if(n<ir)throw new Error("invalid exponent, negatives unsupported");if(n===ir)return e.ONE;if(n===Rn)return t;let r=e.ONE,s=t;for(;n>ir;)n&Rn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Rn;return r}function t2(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function Qb(e,t){const n=(e.ORDER-Rn)/Yi,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function n2(e,t){t!==void 0&&Ra(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Fo(e,t,n=!1,r={}){if(e<=ir)throw new Error("invalid field: expected ORDER > 0, got "+e);let s,i,o=!1,a;if(typeof t=="object"&&t!=null){if(r.sqrt||n)throw new Error("cannot specify opts in two arguments");const p=t;p.BITS&&(s=p.BITS),p.sqrt&&(i=p.sqrt),typeof p.isLE=="boolean"&&(n=p.isLE),typeof p.modFromBytes=="boolean"&&(o=p.modFromBytes),a=p.allowedLengths}else typeof t=="number"&&(s=t),r.sqrt&&(i=r.sqrt);const{nBitLength:c,nByteLength:u}=n2(e,s);if(u>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const d=Object.freeze({ORDER:e,isLE:n,BITS:c,BYTES:u,MASK:Bu(c),ZERO:ir,ONE:Rn,allowedLengths:a,create:p=>an(p,e),isValid:p=>{if(typeof p!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof p);return ir<=p&&p<e},is0:p=>p===ir,isValidNot0:p=>!d.is0(p)&&d.isValid(p),isOdd:p=>(p&Rn)===Rn,neg:p=>an(-p,e),eql:(p,h)=>p===h,sqr:p=>an(p*p,e),add:(p,h)=>an(p+h,e),sub:(p,h)=>an(p-h,e),mul:(p,h)=>an(p*h,e),pow:(p,h)=>lR(d,p,h),div:(p,h)=>an(p*Jb(h,e),e),sqrN:p=>p*p,addN:(p,h)=>p+h,subN:(p,h)=>p-h,mulN:(p,h)=>p*h,inv:p=>Jb(p,e),sqrt:i||(p=>(l||(l=oR(e)),l(d,p))),toBytes:p=>n?Hv(p,u):xg(p,u),fromBytes:(p,h=!0)=>{if(a){if(!a.includes(p.length)||p.length>u)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+p.length);const y=new Uint8Array(u);y.set(p,n?0:y.length-p.length),p=y}if(p.length!==u)throw new Error("Field.fromBytes: expected "+u+" bytes, got "+p.length);let g=n?Hc(p):sf(p);if(o&&(g=an(g,e)),!h&&!d.isValid(g))throw new Error("invalid field element: outside of range 0..ORDER");return g},invertBatch:p=>t2(d,p),cmov:(p,h,g)=>g?h:p});return Object.freeze(d)}function r2(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function s2(e){const t=r2(e);return t+Math.ceil(t/2)}function dR(e,t,n=!1){const r=e.length,s=r2(t),i=s2(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?Hc(e):sf(e),a=an(o,t-Rn)+Rn;return n?Hv(a,s):xg(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ca=BigInt(0),Ji=BigInt(1);function hd(e,t){const n=t.negate();return e?n:t}function Qi(e,t){const n=t2(e.Fp,t.map(r=>r.Z));return t.map((r,s)=>e.fromAffine(r.toAffine(n[s])))}function i2(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Lh(e,t){i2(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Bu(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function Xb(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=Ji);const u=t*r,l=u+Math.abs(a)-1,d=a===0,p=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:p,isNegF:h,offsetF:u}}function fR(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function hR(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const jh=new WeakMap,o2=new WeakMap;function $h(e){return o2.get(e)||1}function e1(e){if(e!==Ca)throw new Error("invalid wNAF")}let a2=class{constructor(t,n){this.BASE=t.BASE,this.ZERO=t.ZERO,this.Fn=t.Fn,this.bits=n}_unsafeLadder(t,n,r=this.ZERO){let s=t;for(;n>Ca;)n&Ji&&(r=r.add(s)),s=s.double(),n>>=Ji;return r}precomputeWindow(t,n){const{windows:r,windowSize:s}=Lh(n,this.bits),i=[];let o=t,a=o;for(let c=0;c<r;c++){a=o,i.push(a);for(let u=1;u<s;u++)a=a.add(o),i.push(a);o=a.double()}return i}wNAF(t,n,r){if(!this.Fn.isValid(r))throw new Error("invalid scalar");let s=this.ZERO,i=this.BASE;const o=Lh(t,this.bits);for(let a=0;a<o.windows;a++){const{nextN:c,offset:u,isZero:l,isNeg:d,isNegF:p,offsetF:h}=Xb(r,a,o);r=c,l?i=i.add(hd(p,n[h])):s=s.add(hd(d,n[u]))}return e1(r),{p:s,f:i}}wNAFUnsafe(t,n,r,s=this.ZERO){const i=Lh(t,this.bits);for(let o=0;o<i.windows&&r!==Ca;o++){const{nextN:a,offset:c,isZero:u,isNeg:l}=Xb(r,o,i);if(r=a,!u){const d=n[c];s=s.add(l?d.negate():d)}}return e1(r),s}getPrecomputes(t,n,r){let s=jh.get(n);return s||(s=this.precomputeWindow(n,t),t!==1&&(typeof r=="function"&&(s=r(s)),jh.set(n,s))),s}cached(t,n,r){const s=$h(t);return this.wNAF(s,this.getPrecomputes(s,t,r),n)}unsafe(t,n,r,s){const i=$h(t);return i===1?this._unsafeLadder(t,n,s):this.wNAFUnsafe(i,this.getPrecomputes(i,t,r),n,s)}createCache(t,n){i2(n,this.bits),o2.set(t,n),jh.delete(t)}hasCache(t){return $h(t)!==1}};function pR(e,t,n,r){let s=t,i=e.ZERO,o=e.ZERO;for(;n>Ca||r>Ca;)n&Ji&&(i=i.add(s)),r&Ji&&(o=o.add(s)),s=s.double(),n>>=Ji,r>>=Ji;return{p1:i,p2:o}}function c2(e,t,n,r){fR(n,e),hR(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=Gv(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Bu(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let p=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let y=0;y<i;y++){const E=r[y],S=Number(E>>BigInt(h)&u);l[S]=l[S].add(n[y])}let g=o;for(let y=l.length-1,E=o;y>0;y--)E=E.add(l[y]),g=g.add(E);if(p=p.add(g),h!==0)for(let y=0;y<c;y++)p=p.double()}return p}function t1(e,t,n){if(t){if(t.ORDER!==e)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return uR(t),t}else return Fo(e,{isLE:n})}function u2(e,t,n={},r){if(r===void 0&&(r=e==="edwards"),!t||typeof t!="object")throw new Error(`expected valid ${e} CURVE object`);for(const c of["p","n","h"]){const u=t[c];if(!(typeof u=="bigint"&&u>Ca))throw new Error(`CURVE.${c} must be positive bigint`)}const s=t1(t.p,n.Fp,r),i=t1(t.n,n.Fn,r),a=["Gx","Gy","a",e==="weierstrass"?"b":"d"];for(const c of a)if(!s.isValid(t[c]))throw new Error(`CURVE.${c} must be valid field element of CURVE.Fp`);return t=Object.freeze(Object.assign({},t)),{CURVE:t,Fp:s,Fn:i}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xi=BigInt(0),yn=BigInt(1),Dh=BigInt(2),mR=BigInt(8);function gR(e,t,n,r){const s=e.sqr(n),i=e.sqr(r),o=e.add(e.mul(t.a,s),i),a=e.add(e.ONE,e.mul(t.d,e.mul(s,i)));return e.eql(o,a)}function yR(e,t={}){const n=u2("edwards",e,t,t.FpFnLE),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o}=i;Ou(t,{},{uvRatio:"function"});const a=Dh<<BigInt(s.BYTES*8)-yn,c=E=>r.create(E),u=t.uvRatio||((E,S)=>{try{return{isValid:!0,value:r.sqrt(r.div(E,S))}}catch{return{isValid:!1,value:xi}}});if(!gR(r,i,i.Gx,i.Gy))throw new Error("bad curve params: generator point");function l(E,S,M=!1){const _=M?yn:xi;return up("coordinate "+E,S,_,a),S}function d(E){if(!(E instanceof g))throw new Error("ExtendedPoint expected")}const p=fd((E,S)=>{const{X:M,Y:_,Z:T}=E,O=E.is0();S==null&&(S=O?mR:r.inv(T));const $=c(M*S),D=c(_*S),z=r.mul(T,S);if(O)return{x:xi,y:yn};if(z!==yn)throw new Error("invZ was invalid");return{x:$,y:D}}),h=fd(E=>{const{a:S,d:M}=i;if(E.is0())throw new Error("bad point: ZERO");const{X:_,Y:T,Z:O,T:$}=E,D=c(_*_),z=c(T*T),U=c(O*O),K=c(U*U),W=c(D*S),q=c(U*c(W+z)),I=c(K+c(M*c(D*z)));if(q!==I)throw new Error("bad point: equation left != right (1)");const f=c(_*T),m=c(O*$);if(f!==m)throw new Error("bad point: equation left != right (2)");return!0});class g{constructor(S,M,_,T){this.X=l("x",S),this.Y=l("y",M),this.Z=l("z",_,!0),this.T=l("t",T),Object.freeze(this)}static CURVE(){return i}static fromAffine(S){if(S instanceof g)throw new Error("extended point not allowed");const{x:M,y:_}=S||{};return l("x",M),l("y",_),new g(M,_,yn,c(M*_))}static fromBytes(S,M=!1){const _=r.BYTES,{a:T,d:O}=i;S=Yb(Kr(S,_,"point")),xo(M,"zip215");const $=Yb(S),D=S[_-1];$[_-1]=D&-129;const z=Hc($),U=M?a:r.ORDER;up("point.y",z,xi,U);const K=c(z*z),W=c(K-yn),q=c(O*K-T);let{isValid:I,value:f}=u(W,q);if(!I)throw new Error("bad point: invalid y coordinate");const m=(f&yn)===yn,v=(D&128)!==0;if(!M&&f===xi&&v)throw new Error("bad point: x=0 and x_0=1");return v!==m&&(f=c(-f)),g.fromAffine({x:f,y:z})}static fromHex(S,M=!1){return g.fromBytes(Mt("point",S),M)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(S=8,M=!0){return y.createCache(this,S),M||this.multiply(Dh),this}assertValidity(){h(this)}equals(S){d(S);const{X:M,Y:_,Z:T}=this,{X:O,Y:$,Z:D}=S,z=c(M*D),U=c(O*T),K=c(_*D),W=c($*T);return z===U&&K===W}is0(){return this.equals(g.ZERO)}negate(){return new g(c(-this.X),this.Y,this.Z,c(-this.T))}double(){const{a:S}=i,{X:M,Y:_,Z:T}=this,O=c(M*M),$=c(_*_),D=c(Dh*c(T*T)),z=c(S*O),U=M+_,K=c(c(U*U)-O-$),W=z+$,q=W-D,I=z-$,f=c(K*q),m=c(W*I),v=c(K*I),R=c(q*W);return new g(f,m,R,v)}add(S){d(S);const{a:M,d:_}=i,{X:T,Y:O,Z:$,T:D}=this,{X:z,Y:U,Z:K,T:W}=S,q=c(T*z),I=c(O*U),f=c(D*_*W),m=c($*K),v=c((T+O)*(z+U)-q-I),R=m-f,A=m+f,B=c(I-M*q),j=c(v*R),C=c(A*B),b=c(v*B),P=c(R*A);return new g(j,C,P,b)}subtract(S){return this.add(S.negate())}multiply(S){if(!s.isValidNot0(S))throw new Error("invalid scalar: expected 1 <= sc < curve.n");const{p:M,f:_}=y.cached(this,S,T=>Qi(g,T));return Qi(g,[M,_])[0]}multiplyUnsafe(S,M=g.ZERO){if(!s.isValid(S))throw new Error("invalid scalar: expected 0 <= sc < curve.n");return S===xi?g.ZERO:this.is0()||S===yn?this:y.unsafe(this,S,_=>Qi(g,_),M)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}isTorsionFree(){return y.unsafe(this,i.n).is0()}toAffine(S){return p(this,S)}clearCofactor(){return o===yn?this:this.multiplyUnsafe(o)}toBytes(){const{x:S,y:M}=this.toAffine(),_=r.toBytes(M);return _[_.length-1]|=S&yn?128:0,_}toHex(){return co(this.toBytes())}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get ex(){return this.X}get ey(){return this.Y}get ez(){return this.Z}get et(){return this.T}static normalizeZ(S){return Qi(g,S)}static msm(S,M){return c2(g,s,S,M)}_setWindowSize(S){this.precompute(S)}toRawBytes(){return this.toBytes()}}g.BASE=new g(i.Gx,i.Gy,yn,c(i.Gx*i.Gy)),g.ZERO=new g(xi,yn,yn,xi),g.Fp=r,g.Fn=s;const y=new a2(g,s.BITS);return g.BASE.precompute(8),g}function bR(e,t,n={}){if(typeof t!="function")throw new Error('"hash" function param is required');Ou(n,{},{adjustScalarBytes:"function",randomBytes:"function",domain:"function",prehash:"function",mapToCurve:"function"});const{prehash:r}=n,{BASE:s,Fp:i,Fn:o}=e,a=n.randomBytes||rf,c=n.adjustScalarBytes||(U=>U),u=n.domain||((U,K,W)=>{if(xo(W,"phflag"),K.length||W)throw new Error("Contexts/pre-hash are not supported");return U});function l(U){return o.create(Hc(U))}function d(U){const K=_.secretKey;U=Mt("private key",U,K);const W=Mt("hashed private key",t(U),2*K),q=c(W.slice(0,K)),I=W.slice(K,2*K),f=l(q);return{head:q,prefix:I,scalar:f}}function p(U){const{head:K,prefix:W,scalar:q}=d(U),I=s.multiply(q),f=I.toBytes();return{head:K,prefix:W,scalar:q,point:I,pointBytes:f}}function h(U){return p(U).pointBytes}function g(U=Uint8Array.of(),...K){const W=Hr(...K);return l(t(u(W,Mt("context",U),!!r)))}function y(U,K,W={}){U=Mt("message",U),r&&(U=r(U));const{prefix:q,scalar:I,pointBytes:f}=p(K),m=g(W.context,q,U),v=s.multiply(m).toBytes(),R=g(W.context,v,f,U),A=o.create(m+R*I);if(!o.isValid(A))throw new Error("sign failed: invalid s");const B=Hr(v,o.toBytes(A));return Kr(B,_.signature,"result")}const E={zip215:!0};function S(U,K,W,q=E){const{context:I,zip215:f}=q,m=_.signature;U=Mt("signature",U,m),K=Mt("message",K),W=Mt("publicKey",W,_.publicKey),f!==void 0&&xo(f,"zip215"),r&&(K=r(K));const v=m/2,R=U.subarray(0,v),A=Hc(U.subarray(v,m));let B,j,C;try{B=e.fromBytes(W,f),j=e.fromBytes(R,f),C=s.multiplyUnsafe(A)}catch{return!1}if(!f&&B.isSmallOrder())return!1;const b=g(I,j.toBytes(),B.toBytes(),K);return j.add(B.multiplyUnsafe(b)).subtract(C).clearCofactor().is0()}const M=i.BYTES,_={secretKey:M,publicKey:M,signature:2*M,seed:M};function T(U=a(_.seed)){return Kr(U,_.seed,"seed")}function O(U){const K=z.randomSecretKey(U);return{secretKey:K,publicKey:h(K)}}function $(U){return ku(U)&&U.length===o.BYTES}function D(U,K){try{return!!e.fromBytes(U,K)}catch{return!1}}const z={getExtendedPublicKey:p,randomSecretKey:T,isValidSecretKey:$,isValidPublicKey:D,toMontgomery(U){const{y:K}=e.fromBytes(U),W=_.publicKey,q=W===32;if(!q&&W!==57)throw new Error("only defined for 25519 and 448");const I=q?i.div(yn+K,yn-K):i.div(K-yn,K+yn);return i.toBytes(I)},toMontgomerySecret(U){const K=_.secretKey;Kr(U,K);const W=t(U.subarray(0,K));return c(W).subarray(0,K)},randomPrivateKey:T,precompute(U=8,K=e.BASE){return K.precompute(U,!1)}};return Object.freeze({keygen:O,getPublicKey:h,sign:y,verify:S,utils:z,Point:e,lengths:_})}function wR(e){const t={a:e.a,d:e.d,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp,r=Fo(t.n,e.nBitLength,!0),s={Fp:n,Fn:r,uvRatio:e.uvRatio},i={randomBytes:e.randomBytes,adjustScalarBytes:e.adjustScalarBytes,domain:e.domain,prehash:e.prehash,mapToCurve:e.mapToCurve};return{CURVE:t,curveOpts:s,hash:e.hash,eddsaOpts:i}}function xR(e,t){const n=t.Point;return Object.assign({},t,{ExtendedPoint:n,CURVE:e,nBitLength:n.Fn.BITS,nByteLength:n.Fn.BYTES})}function vR(e){const{CURVE:t,curveOpts:n,hash:r,eddsaOpts:s}=wR(e),i=yR(t,n),o=bR(i,r,s);return xR(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ER=BigInt(1),n1=BigInt(2);BigInt(3);const SR=BigInt(5),_R=BigInt(8),Eg=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),l2={p:Eg,n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),h:_R,a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function AR(e){const t=BigInt(10),n=BigInt(20),r=BigInt(40),s=BigInt(80),i=Eg,a=e*e%i*e%i,c=Ct(a,n1,i)*a%i,u=Ct(c,ER,i)*e%i,l=Ct(u,SR,i)*u%i,d=Ct(l,t,i)*l%i,p=Ct(d,n,i)*d%i,h=Ct(p,r,i)*p%i,g=Ct(h,s,i)*h%i,y=Ct(g,s,i)*h%i,E=Ct(y,t,i)*l%i;return{pow_p_5_8:Ct(E,n1,i)*e%i,b2:a}}function IR(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}const r1=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");function TR(e,t){const n=Eg,r=an(t*t*t,n),s=an(r*r*t,n),i=AR(e*s).pow_p_5_8;let o=an(e*r*i,n);const a=an(t*o*o,n),c=o,u=an(o*r1,n),l=a===e,d=a===an(-e,n),p=a===an(-e*r1,n);return l&&(o=c),(d||p)&&(o=u),aR(o,n)&&(o=an(-o,n)),{isValid:l||d,value:o}}const RR=Fo(l2.p,{isLE:!0}),NR={...l2,Fp:RR,hash:X8,adjustScalarBytes:IR,uvRatio:TR},Pu=vR(NR);var Sg={exports:{}};const CR={},MR=Object.freeze(Object.defineProperty({__proto__:null,default:CR},Symbol.toStringTag,{value:"Module"})),kR=ug(MR);Sg.exports;(function(e){(function(t,n){function r(I,f){if(!I)throw new Error(f||"Assertion failed")}function s(I,f){I.super_=f;var m=function(){};m.prototype=f.prototype,I.prototype=new m,I.prototype.constructor=I}function i(I,f,m){if(i.isBN(I))return I;this.negative=0,this.words=null,this.length=0,this.red=null,I!==null&&((f==="le"||f==="be")&&(m=f,f=10),this._init(I||0,f||10,m||"be"))}typeof t=="object"?t.exports=i:n.BN=i,i.BN=i,i.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=kR.Buffer}catch{}i.isBN=function(f){return f instanceof i?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===i.wordSize&&Array.isArray(f.words)},i.max=function(f,m){return f.cmp(m)>0?f:m},i.min=function(f,m){return f.cmp(m)<0?f:m},i.prototype._init=function(f,m,v){if(typeof f=="number")return this._initNumber(f,m,v);if(typeof f=="object")return this._initArray(f,m,v);m==="hex"&&(m=16),r(m===(m|0)&&m>=2&&m<=36),f=f.toString().replace(/\s+/g,"");var R=0;f[0]==="-"&&(R++,this.negative=1),R<f.length&&(m===16?this._parseHex(f,R,v):(this._parseBase(f,m,R),v==="le"&&this._initArray(this.toArray(),m,v)))},i.prototype._initNumber=function(f,m,v){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),v==="le"&&this._initArray(this.toArray(),m,v)},i.prototype._initArray=function(f,m,v){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var A,B,j=0;if(v==="be")for(R=f.length-1,A=0;R>=0;R-=3)B=f[R]|f[R-1]<<8|f[R-2]<<16,this.words[A]|=B<<j&67108863,this.words[A+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,A++);else if(v==="le")for(R=0,A=0;R<f.length;R+=3)B=f[R]|f[R+1]<<8|f[R+2]<<16,this.words[A]|=B<<j&67108863,this.words[A+1]=B>>>26-j&67108863,j+=24,j>=26&&(j-=26,A++);return this._strip()};function a(I,f){var m=I.charCodeAt(f);if(m>=48&&m<=57)return m-48;if(m>=65&&m<=70)return m-55;if(m>=97&&m<=102)return m-87;r(!1,"Invalid character in "+I)}function c(I,f,m){var v=a(I,m);return m-1>=f&&(v|=a(I,m-1)<<4),v}i.prototype._parseHex=function(f,m,v){this.length=Math.ceil((f.length-m)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var A=0,B=0,j;if(v==="be")for(R=f.length-1;R>=m;R-=2)j=c(f,m,R)<<A,this.words[B]|=j&67108863,A>=18?(A-=18,B+=1,this.words[B]|=j>>>26):A+=8;else{var C=f.length-m;for(R=C%2===0?m+1:m;R<f.length;R+=2)j=c(f,m,R)<<A,this.words[B]|=j&67108863,A>=18?(A-=18,B+=1,this.words[B]|=j>>>26):A+=8}this._strip()};function u(I,f,m,v){for(var R=0,A=0,B=Math.min(I.length,m),j=f;j<B;j++){var C=I.charCodeAt(j)-48;R*=v,C>=49?A=C-49+10:C>=17?A=C-17+10:A=C,r(C>=0&&A<v,"Invalid character"),R+=A}return R}i.prototype._parseBase=function(f,m,v){this.words=[0],this.length=1;for(var R=0,A=1;A<=67108863;A*=m)R++;R--,A=A/m|0;for(var B=f.length-v,j=B%R,C=Math.min(B,B-j)+v,b=0,P=v;P<C;P+=R)b=u(f,P,P+R,m),this.imuln(A),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b);if(j!==0){var X=1;for(b=u(f,P,f.length,m),P=0;P<j;P++)X*=m;this.imuln(X),this.words[0]+b<67108864?this.words[0]+=b:this._iaddn(b)}this._strip()},i.prototype.copy=function(f){f.words=new Array(this.length);for(var m=0;m<this.length;m++)f.words[m]=this.words[m];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(I,f){I.words=f.words,I.length=f.length,I.negative=f.negative,I.red=f.red}if(i.prototype._move=function(f){l(f,this)},i.prototype.clone=function(){var f=new i(null);return this.copy(f),f},i.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},i.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},i.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{i.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{i.prototype.inspect=d}else i.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];i.prototype.toString=function(f,m){f=f||10,m=m|0||1;var v;if(f===16||f==="hex"){v="";for(var R=0,A=0,B=0;B<this.length;B++){var j=this.words[B],C=((j<<R|A)&16777215).toString(16);A=j>>>24-R&16777215,R+=2,R>=26&&(R-=26,B--),A!==0||B!==this.length-1?v=p[6-C.length]+C+v:v=C+v}for(A!==0&&(v=A.toString(16)+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}if(f===(f|0)&&f>=2&&f<=36){var b=h[f],P=g[f];v="";var X=this.clone();for(X.negative=0;!X.isZero();){var ee=X.modrn(P).toString(f);X=X.idivn(P),X.isZero()?v=ee+v:v=p[b-ee.length]+ee+v}for(this.isZero()&&(v="0"+v);v.length%m!==0;)v="0"+v;return this.negative!==0&&(v="-"+v),v}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},i.prototype.toJSON=function(){return this.toString(16,2)},o&&(i.prototype.toBuffer=function(f,m){return this.toArrayLike(o,f,m)}),i.prototype.toArray=function(f,m){return this.toArrayLike(Array,f,m)};var y=function(f,m){return f.allocUnsafe?f.allocUnsafe(m):new f(m)};i.prototype.toArrayLike=function(f,m,v){this._strip();var R=this.byteLength(),A=v||Math.max(1,R);r(R<=A,"byte array longer than desired length"),r(A>0,"Requested array length <= 0");var B=y(f,A),j=m==="le"?"LE":"BE";return this["_toArrayLike"+j](B,R),B},i.prototype._toArrayLikeLE=function(f,m){for(var v=0,R=0,A=0,B=0;A<this.length;A++){var j=this.words[A]<<B|R;f[v++]=j&255,v<f.length&&(f[v++]=j>>8&255),v<f.length&&(f[v++]=j>>16&255),B===6?(v<f.length&&(f[v++]=j>>24&255),R=0,B=0):(R=j>>>24,B+=2)}if(v<f.length)for(f[v++]=R;v<f.length;)f[v++]=0},i.prototype._toArrayLikeBE=function(f,m){for(var v=f.length-1,R=0,A=0,B=0;A<this.length;A++){var j=this.words[A]<<B|R;f[v--]=j&255,v>=0&&(f[v--]=j>>8&255),v>=0&&(f[v--]=j>>16&255),B===6?(v>=0&&(f[v--]=j>>24&255),R=0,B=0):(R=j>>>24,B+=2)}if(v>=0)for(f[v--]=R;v>=0;)f[v--]=0},Math.clz32?i.prototype._countBits=function(f){return 32-Math.clz32(f)}:i.prototype._countBits=function(f){var m=f,v=0;return m>=4096&&(v+=13,m>>>=13),m>=64&&(v+=7,m>>>=7),m>=8&&(v+=4,m>>>=4),m>=2&&(v+=2,m>>>=2),v+m},i.prototype._zeroBits=function(f){if(f===0)return 26;var m=f,v=0;return m&8191||(v+=13,m>>>=13),m&127||(v+=7,m>>>=7),m&15||(v+=4,m>>>=4),m&3||(v+=2,m>>>=2),m&1||v++,v},i.prototype.bitLength=function(){var f=this.words[this.length-1],m=this._countBits(f);return(this.length-1)*26+m};function E(I){for(var f=new Array(I.bitLength()),m=0;m<f.length;m++){var v=m/26|0,R=m%26;f[m]=I.words[v]>>>R&1}return f}i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,m=0;m<this.length;m++){var v=this._zeroBits(this.words[m]);if(f+=v,v!==26)break}return f},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},i.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return this.negative!==0},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var m=0;m<f.length;m++)this.words[m]=this.words[m]|f.words[m];return this._strip()},i.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},i.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},i.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},i.prototype.iuand=function(f){var m;this.length>f.length?m=f:m=this;for(var v=0;v<m.length;v++)this.words[v]=this.words[v]&f.words[v];return this.length=m.length,this._strip()},i.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},i.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},i.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},i.prototype.iuxor=function(f){var m,v;this.length>f.length?(m=this,v=f):(m=f,v=this);for(var R=0;R<v.length;R++)this.words[R]=m.words[R]^v.words[R];if(this!==m)for(;R<m.length;R++)this.words[R]=m.words[R];return this.length=m.length,this._strip()},i.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},i.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},i.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},i.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var m=Math.ceil(f/26)|0,v=f%26;this._expand(m),v>0&&m--;for(var R=0;R<m;R++)this.words[R]=~this.words[R]&67108863;return v>0&&(this.words[R]=~this.words[R]&67108863>>26-v),this._strip()},i.prototype.notn=function(f){return this.clone().inotn(f)},i.prototype.setn=function(f,m){r(typeof f=="number"&&f>=0);var v=f/26|0,R=f%26;return this._expand(v+1),m?this.words[v]=this.words[v]|1<<R:this.words[v]=this.words[v]&~(1<<R),this._strip()},i.prototype.iadd=function(f){var m;if(this.negative!==0&&f.negative===0)return this.negative=0,m=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,m=this.isub(f),f.negative=1,m._normSign();var v,R;this.length>f.length?(v=this,R=f):(v=f,R=this);for(var A=0,B=0;B<R.length;B++)m=(v.words[B]|0)+(R.words[B]|0)+A,this.words[B]=m&67108863,A=m>>>26;for(;A!==0&&B<v.length;B++)m=(v.words[B]|0)+A,this.words[B]=m&67108863,A=m>>>26;if(this.length=v.length,A!==0)this.words[this.length]=A,this.length++;else if(v!==this)for(;B<v.length;B++)this.words[B]=v.words[B];return this},i.prototype.add=function(f){var m;return f.negative!==0&&this.negative===0?(f.negative=0,m=this.sub(f),f.negative^=1,m):f.negative===0&&this.negative!==0?(this.negative=0,m=f.sub(this),this.negative=1,m):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},i.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var m=this.iadd(f);return f.negative=1,m._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var v=this.cmp(f);if(v===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,A;v>0?(R=this,A=f):(R=f,A=this);for(var B=0,j=0;j<A.length;j++)m=(R.words[j]|0)-(A.words[j]|0)+B,B=m>>26,this.words[j]=m&67108863;for(;B!==0&&j<R.length;j++)m=(R.words[j]|0)+B,B=m>>26,this.words[j]=m&67108863;if(B===0&&j<R.length&&R!==this)for(;j<R.length;j++)this.words[j]=R.words[j];return this.length=Math.max(this.length,j),R!==this&&(this.negative=1),this._strip()},i.prototype.sub=function(f){return this.clone().isub(f)};function S(I,f,m){m.negative=f.negative^I.negative;var v=I.length+f.length|0;m.length=v,v=v-1|0;var R=I.words[0]|0,A=f.words[0]|0,B=R*A,j=B&67108863,C=B/67108864|0;m.words[0]=j;for(var b=1;b<v;b++){for(var P=C>>>26,X=C&67108863,ee=Math.min(b,f.length-1),oe=Math.max(0,b-I.length+1);oe<=ee;oe++){var he=b-oe|0;R=I.words[he]|0,A=f.words[oe]|0,B=R*A+X,P+=B/67108864|0,X=B&67108863}m.words[b]=X|0,C=P|0}return C!==0?m.words[b]=C|0:m.length--,m._strip()}var M=function(f,m,v){var R=f.words,A=m.words,B=v.words,j=0,C,b,P,X=R[0]|0,ee=X&8191,oe=X>>>13,he=R[1]|0,Se=he&8191,be=he>>>13,He=R[2]|0,Ve=He&8191,Ue=He>>>13,jt=R[3]|0,Ye=jt&8191,it=jt>>>13,Fr=R[4]|0,pt=Fr&8191,Tt=Fr>>>13,ml=R[5]|0,vt=ml&8191,lt=ml>>>13,fr=R[6]|0,mt=fr&8191,Rt=fr>>>13,Wr=R[7]|0,Nt=Wr&8191,k=Wr>>>13,w=R[8]|0,x=w&8191,L=w>>>13,F=R[9]|0,H=F&8191,J=F>>>13,je=A[0]|0,Oe=je&8191,ke=je>>>13,dt=A[1]|0,Ne=dt&8191,$t=dt>>>13,vb=A[2]|0,Dt=vb&8191,zt=vb>>>13,Eb=A[3]|0,Ut=Eb&8191,Ft=Eb>>>13,Sb=A[4]|0,Wt=Sb&8191,Vt=Sb>>>13,_b=A[5]|0,qt=_b&8191,Ht=_b>>>13,Ab=A[6]|0,Gt=Ab&8191,Kt=Ab>>>13,Ib=A[7]|0,Zt=Ib&8191,Yt=Ib>>>13,Tb=A[8]|0,Jt=Tb&8191,Qt=Tb>>>13,Rb=A[9]|0,Xt=Rb&8191,en=Rb>>>13;v.negative=f.negative^m.negative,v.length=19,C=Math.imul(ee,Oe),b=Math.imul(ee,ke),b=b+Math.imul(oe,Oe)|0,P=Math.imul(oe,ke);var dh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(dh>>>26)|0,dh&=67108863,C=Math.imul(Se,Oe),b=Math.imul(Se,ke),b=b+Math.imul(be,Oe)|0,P=Math.imul(be,ke),C=C+Math.imul(ee,Ne)|0,b=b+Math.imul(ee,$t)|0,b=b+Math.imul(oe,Ne)|0,P=P+Math.imul(oe,$t)|0;var fh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(fh>>>26)|0,fh&=67108863,C=Math.imul(Ve,Oe),b=Math.imul(Ve,ke),b=b+Math.imul(Ue,Oe)|0,P=Math.imul(Ue,ke),C=C+Math.imul(Se,Ne)|0,b=b+Math.imul(Se,$t)|0,b=b+Math.imul(be,Ne)|0,P=P+Math.imul(be,$t)|0,C=C+Math.imul(ee,Dt)|0,b=b+Math.imul(ee,zt)|0,b=b+Math.imul(oe,Dt)|0,P=P+Math.imul(oe,zt)|0;var hh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(hh>>>26)|0,hh&=67108863,C=Math.imul(Ye,Oe),b=Math.imul(Ye,ke),b=b+Math.imul(it,Oe)|0,P=Math.imul(it,ke),C=C+Math.imul(Ve,Ne)|0,b=b+Math.imul(Ve,$t)|0,b=b+Math.imul(Ue,Ne)|0,P=P+Math.imul(Ue,$t)|0,C=C+Math.imul(Se,Dt)|0,b=b+Math.imul(Se,zt)|0,b=b+Math.imul(be,Dt)|0,P=P+Math.imul(be,zt)|0,C=C+Math.imul(ee,Ut)|0,b=b+Math.imul(ee,Ft)|0,b=b+Math.imul(oe,Ut)|0,P=P+Math.imul(oe,Ft)|0;var ph=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(ph>>>26)|0,ph&=67108863,C=Math.imul(pt,Oe),b=Math.imul(pt,ke),b=b+Math.imul(Tt,Oe)|0,P=Math.imul(Tt,ke),C=C+Math.imul(Ye,Ne)|0,b=b+Math.imul(Ye,$t)|0,b=b+Math.imul(it,Ne)|0,P=P+Math.imul(it,$t)|0,C=C+Math.imul(Ve,Dt)|0,b=b+Math.imul(Ve,zt)|0,b=b+Math.imul(Ue,Dt)|0,P=P+Math.imul(Ue,zt)|0,C=C+Math.imul(Se,Ut)|0,b=b+Math.imul(Se,Ft)|0,b=b+Math.imul(be,Ut)|0,P=P+Math.imul(be,Ft)|0,C=C+Math.imul(ee,Wt)|0,b=b+Math.imul(ee,Vt)|0,b=b+Math.imul(oe,Wt)|0,P=P+Math.imul(oe,Vt)|0;var mh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(mh>>>26)|0,mh&=67108863,C=Math.imul(vt,Oe),b=Math.imul(vt,ke),b=b+Math.imul(lt,Oe)|0,P=Math.imul(lt,ke),C=C+Math.imul(pt,Ne)|0,b=b+Math.imul(pt,$t)|0,b=b+Math.imul(Tt,Ne)|0,P=P+Math.imul(Tt,$t)|0,C=C+Math.imul(Ye,Dt)|0,b=b+Math.imul(Ye,zt)|0,b=b+Math.imul(it,Dt)|0,P=P+Math.imul(it,zt)|0,C=C+Math.imul(Ve,Ut)|0,b=b+Math.imul(Ve,Ft)|0,b=b+Math.imul(Ue,Ut)|0,P=P+Math.imul(Ue,Ft)|0,C=C+Math.imul(Se,Wt)|0,b=b+Math.imul(Se,Vt)|0,b=b+Math.imul(be,Wt)|0,P=P+Math.imul(be,Vt)|0,C=C+Math.imul(ee,qt)|0,b=b+Math.imul(ee,Ht)|0,b=b+Math.imul(oe,qt)|0,P=P+Math.imul(oe,Ht)|0;var gh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(gh>>>26)|0,gh&=67108863,C=Math.imul(mt,Oe),b=Math.imul(mt,ke),b=b+Math.imul(Rt,Oe)|0,P=Math.imul(Rt,ke),C=C+Math.imul(vt,Ne)|0,b=b+Math.imul(vt,$t)|0,b=b+Math.imul(lt,Ne)|0,P=P+Math.imul(lt,$t)|0,C=C+Math.imul(pt,Dt)|0,b=b+Math.imul(pt,zt)|0,b=b+Math.imul(Tt,Dt)|0,P=P+Math.imul(Tt,zt)|0,C=C+Math.imul(Ye,Ut)|0,b=b+Math.imul(Ye,Ft)|0,b=b+Math.imul(it,Ut)|0,P=P+Math.imul(it,Ft)|0,C=C+Math.imul(Ve,Wt)|0,b=b+Math.imul(Ve,Vt)|0,b=b+Math.imul(Ue,Wt)|0,P=P+Math.imul(Ue,Vt)|0,C=C+Math.imul(Se,qt)|0,b=b+Math.imul(Se,Ht)|0,b=b+Math.imul(be,qt)|0,P=P+Math.imul(be,Ht)|0,C=C+Math.imul(ee,Gt)|0,b=b+Math.imul(ee,Kt)|0,b=b+Math.imul(oe,Gt)|0,P=P+Math.imul(oe,Kt)|0;var yh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(yh>>>26)|0,yh&=67108863,C=Math.imul(Nt,Oe),b=Math.imul(Nt,ke),b=b+Math.imul(k,Oe)|0,P=Math.imul(k,ke),C=C+Math.imul(mt,Ne)|0,b=b+Math.imul(mt,$t)|0,b=b+Math.imul(Rt,Ne)|0,P=P+Math.imul(Rt,$t)|0,C=C+Math.imul(vt,Dt)|0,b=b+Math.imul(vt,zt)|0,b=b+Math.imul(lt,Dt)|0,P=P+Math.imul(lt,zt)|0,C=C+Math.imul(pt,Ut)|0,b=b+Math.imul(pt,Ft)|0,b=b+Math.imul(Tt,Ut)|0,P=P+Math.imul(Tt,Ft)|0,C=C+Math.imul(Ye,Wt)|0,b=b+Math.imul(Ye,Vt)|0,b=b+Math.imul(it,Wt)|0,P=P+Math.imul(it,Vt)|0,C=C+Math.imul(Ve,qt)|0,b=b+Math.imul(Ve,Ht)|0,b=b+Math.imul(Ue,qt)|0,P=P+Math.imul(Ue,Ht)|0,C=C+Math.imul(Se,Gt)|0,b=b+Math.imul(Se,Kt)|0,b=b+Math.imul(be,Gt)|0,P=P+Math.imul(be,Kt)|0,C=C+Math.imul(ee,Zt)|0,b=b+Math.imul(ee,Yt)|0,b=b+Math.imul(oe,Zt)|0,P=P+Math.imul(oe,Yt)|0;var bh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(bh>>>26)|0,bh&=67108863,C=Math.imul(x,Oe),b=Math.imul(x,ke),b=b+Math.imul(L,Oe)|0,P=Math.imul(L,ke),C=C+Math.imul(Nt,Ne)|0,b=b+Math.imul(Nt,$t)|0,b=b+Math.imul(k,Ne)|0,P=P+Math.imul(k,$t)|0,C=C+Math.imul(mt,Dt)|0,b=b+Math.imul(mt,zt)|0,b=b+Math.imul(Rt,Dt)|0,P=P+Math.imul(Rt,zt)|0,C=C+Math.imul(vt,Ut)|0,b=b+Math.imul(vt,Ft)|0,b=b+Math.imul(lt,Ut)|0,P=P+Math.imul(lt,Ft)|0,C=C+Math.imul(pt,Wt)|0,b=b+Math.imul(pt,Vt)|0,b=b+Math.imul(Tt,Wt)|0,P=P+Math.imul(Tt,Vt)|0,C=C+Math.imul(Ye,qt)|0,b=b+Math.imul(Ye,Ht)|0,b=b+Math.imul(it,qt)|0,P=P+Math.imul(it,Ht)|0,C=C+Math.imul(Ve,Gt)|0,b=b+Math.imul(Ve,Kt)|0,b=b+Math.imul(Ue,Gt)|0,P=P+Math.imul(Ue,Kt)|0,C=C+Math.imul(Se,Zt)|0,b=b+Math.imul(Se,Yt)|0,b=b+Math.imul(be,Zt)|0,P=P+Math.imul(be,Yt)|0,C=C+Math.imul(ee,Jt)|0,b=b+Math.imul(ee,Qt)|0,b=b+Math.imul(oe,Jt)|0,P=P+Math.imul(oe,Qt)|0;var wh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(wh>>>26)|0,wh&=67108863,C=Math.imul(H,Oe),b=Math.imul(H,ke),b=b+Math.imul(J,Oe)|0,P=Math.imul(J,ke),C=C+Math.imul(x,Ne)|0,b=b+Math.imul(x,$t)|0,b=b+Math.imul(L,Ne)|0,P=P+Math.imul(L,$t)|0,C=C+Math.imul(Nt,Dt)|0,b=b+Math.imul(Nt,zt)|0,b=b+Math.imul(k,Dt)|0,P=P+Math.imul(k,zt)|0,C=C+Math.imul(mt,Ut)|0,b=b+Math.imul(mt,Ft)|0,b=b+Math.imul(Rt,Ut)|0,P=P+Math.imul(Rt,Ft)|0,C=C+Math.imul(vt,Wt)|0,b=b+Math.imul(vt,Vt)|0,b=b+Math.imul(lt,Wt)|0,P=P+Math.imul(lt,Vt)|0,C=C+Math.imul(pt,qt)|0,b=b+Math.imul(pt,Ht)|0,b=b+Math.imul(Tt,qt)|0,P=P+Math.imul(Tt,Ht)|0,C=C+Math.imul(Ye,Gt)|0,b=b+Math.imul(Ye,Kt)|0,b=b+Math.imul(it,Gt)|0,P=P+Math.imul(it,Kt)|0,C=C+Math.imul(Ve,Zt)|0,b=b+Math.imul(Ve,Yt)|0,b=b+Math.imul(Ue,Zt)|0,P=P+Math.imul(Ue,Yt)|0,C=C+Math.imul(Se,Jt)|0,b=b+Math.imul(Se,Qt)|0,b=b+Math.imul(be,Jt)|0,P=P+Math.imul(be,Qt)|0,C=C+Math.imul(ee,Xt)|0,b=b+Math.imul(ee,en)|0,b=b+Math.imul(oe,Xt)|0,P=P+Math.imul(oe,en)|0;var xh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(xh>>>26)|0,xh&=67108863,C=Math.imul(H,Ne),b=Math.imul(H,$t),b=b+Math.imul(J,Ne)|0,P=Math.imul(J,$t),C=C+Math.imul(x,Dt)|0,b=b+Math.imul(x,zt)|0,b=b+Math.imul(L,Dt)|0,P=P+Math.imul(L,zt)|0,C=C+Math.imul(Nt,Ut)|0,b=b+Math.imul(Nt,Ft)|0,b=b+Math.imul(k,Ut)|0,P=P+Math.imul(k,Ft)|0,C=C+Math.imul(mt,Wt)|0,b=b+Math.imul(mt,Vt)|0,b=b+Math.imul(Rt,Wt)|0,P=P+Math.imul(Rt,Vt)|0,C=C+Math.imul(vt,qt)|0,b=b+Math.imul(vt,Ht)|0,b=b+Math.imul(lt,qt)|0,P=P+Math.imul(lt,Ht)|0,C=C+Math.imul(pt,Gt)|0,b=b+Math.imul(pt,Kt)|0,b=b+Math.imul(Tt,Gt)|0,P=P+Math.imul(Tt,Kt)|0,C=C+Math.imul(Ye,Zt)|0,b=b+Math.imul(Ye,Yt)|0,b=b+Math.imul(it,Zt)|0,P=P+Math.imul(it,Yt)|0,C=C+Math.imul(Ve,Jt)|0,b=b+Math.imul(Ve,Qt)|0,b=b+Math.imul(Ue,Jt)|0,P=P+Math.imul(Ue,Qt)|0,C=C+Math.imul(Se,Xt)|0,b=b+Math.imul(Se,en)|0,b=b+Math.imul(be,Xt)|0,P=P+Math.imul(be,en)|0;var vh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(vh>>>26)|0,vh&=67108863,C=Math.imul(H,Dt),b=Math.imul(H,zt),b=b+Math.imul(J,Dt)|0,P=Math.imul(J,zt),C=C+Math.imul(x,Ut)|0,b=b+Math.imul(x,Ft)|0,b=b+Math.imul(L,Ut)|0,P=P+Math.imul(L,Ft)|0,C=C+Math.imul(Nt,Wt)|0,b=b+Math.imul(Nt,Vt)|0,b=b+Math.imul(k,Wt)|0,P=P+Math.imul(k,Vt)|0,C=C+Math.imul(mt,qt)|0,b=b+Math.imul(mt,Ht)|0,b=b+Math.imul(Rt,qt)|0,P=P+Math.imul(Rt,Ht)|0,C=C+Math.imul(vt,Gt)|0,b=b+Math.imul(vt,Kt)|0,b=b+Math.imul(lt,Gt)|0,P=P+Math.imul(lt,Kt)|0,C=C+Math.imul(pt,Zt)|0,b=b+Math.imul(pt,Yt)|0,b=b+Math.imul(Tt,Zt)|0,P=P+Math.imul(Tt,Yt)|0,C=C+Math.imul(Ye,Jt)|0,b=b+Math.imul(Ye,Qt)|0,b=b+Math.imul(it,Jt)|0,P=P+Math.imul(it,Qt)|0,C=C+Math.imul(Ve,Xt)|0,b=b+Math.imul(Ve,en)|0,b=b+Math.imul(Ue,Xt)|0,P=P+Math.imul(Ue,en)|0;var Eh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Eh>>>26)|0,Eh&=67108863,C=Math.imul(H,Ut),b=Math.imul(H,Ft),b=b+Math.imul(J,Ut)|0,P=Math.imul(J,Ft),C=C+Math.imul(x,Wt)|0,b=b+Math.imul(x,Vt)|0,b=b+Math.imul(L,Wt)|0,P=P+Math.imul(L,Vt)|0,C=C+Math.imul(Nt,qt)|0,b=b+Math.imul(Nt,Ht)|0,b=b+Math.imul(k,qt)|0,P=P+Math.imul(k,Ht)|0,C=C+Math.imul(mt,Gt)|0,b=b+Math.imul(mt,Kt)|0,b=b+Math.imul(Rt,Gt)|0,P=P+Math.imul(Rt,Kt)|0,C=C+Math.imul(vt,Zt)|0,b=b+Math.imul(vt,Yt)|0,b=b+Math.imul(lt,Zt)|0,P=P+Math.imul(lt,Yt)|0,C=C+Math.imul(pt,Jt)|0,b=b+Math.imul(pt,Qt)|0,b=b+Math.imul(Tt,Jt)|0,P=P+Math.imul(Tt,Qt)|0,C=C+Math.imul(Ye,Xt)|0,b=b+Math.imul(Ye,en)|0,b=b+Math.imul(it,Xt)|0,P=P+Math.imul(it,en)|0;var Sh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Sh>>>26)|0,Sh&=67108863,C=Math.imul(H,Wt),b=Math.imul(H,Vt),b=b+Math.imul(J,Wt)|0,P=Math.imul(J,Vt),C=C+Math.imul(x,qt)|0,b=b+Math.imul(x,Ht)|0,b=b+Math.imul(L,qt)|0,P=P+Math.imul(L,Ht)|0,C=C+Math.imul(Nt,Gt)|0,b=b+Math.imul(Nt,Kt)|0,b=b+Math.imul(k,Gt)|0,P=P+Math.imul(k,Kt)|0,C=C+Math.imul(mt,Zt)|0,b=b+Math.imul(mt,Yt)|0,b=b+Math.imul(Rt,Zt)|0,P=P+Math.imul(Rt,Yt)|0,C=C+Math.imul(vt,Jt)|0,b=b+Math.imul(vt,Qt)|0,b=b+Math.imul(lt,Jt)|0,P=P+Math.imul(lt,Qt)|0,C=C+Math.imul(pt,Xt)|0,b=b+Math.imul(pt,en)|0,b=b+Math.imul(Tt,Xt)|0,P=P+Math.imul(Tt,en)|0;var _h=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(_h>>>26)|0,_h&=67108863,C=Math.imul(H,qt),b=Math.imul(H,Ht),b=b+Math.imul(J,qt)|0,P=Math.imul(J,Ht),C=C+Math.imul(x,Gt)|0,b=b+Math.imul(x,Kt)|0,b=b+Math.imul(L,Gt)|0,P=P+Math.imul(L,Kt)|0,C=C+Math.imul(Nt,Zt)|0,b=b+Math.imul(Nt,Yt)|0,b=b+Math.imul(k,Zt)|0,P=P+Math.imul(k,Yt)|0,C=C+Math.imul(mt,Jt)|0,b=b+Math.imul(mt,Qt)|0,b=b+Math.imul(Rt,Jt)|0,P=P+Math.imul(Rt,Qt)|0,C=C+Math.imul(vt,Xt)|0,b=b+Math.imul(vt,en)|0,b=b+Math.imul(lt,Xt)|0,P=P+Math.imul(lt,en)|0;var Ah=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Ah>>>26)|0,Ah&=67108863,C=Math.imul(H,Gt),b=Math.imul(H,Kt),b=b+Math.imul(J,Gt)|0,P=Math.imul(J,Kt),C=C+Math.imul(x,Zt)|0,b=b+Math.imul(x,Yt)|0,b=b+Math.imul(L,Zt)|0,P=P+Math.imul(L,Yt)|0,C=C+Math.imul(Nt,Jt)|0,b=b+Math.imul(Nt,Qt)|0,b=b+Math.imul(k,Jt)|0,P=P+Math.imul(k,Qt)|0,C=C+Math.imul(mt,Xt)|0,b=b+Math.imul(mt,en)|0,b=b+Math.imul(Rt,Xt)|0,P=P+Math.imul(Rt,en)|0;var Ih=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Ih>>>26)|0,Ih&=67108863,C=Math.imul(H,Zt),b=Math.imul(H,Yt),b=b+Math.imul(J,Zt)|0,P=Math.imul(J,Yt),C=C+Math.imul(x,Jt)|0,b=b+Math.imul(x,Qt)|0,b=b+Math.imul(L,Jt)|0,P=P+Math.imul(L,Qt)|0,C=C+Math.imul(Nt,Xt)|0,b=b+Math.imul(Nt,en)|0,b=b+Math.imul(k,Xt)|0,P=P+Math.imul(k,en)|0;var Th=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Th>>>26)|0,Th&=67108863,C=Math.imul(H,Jt),b=Math.imul(H,Qt),b=b+Math.imul(J,Jt)|0,P=Math.imul(J,Qt),C=C+Math.imul(x,Xt)|0,b=b+Math.imul(x,en)|0,b=b+Math.imul(L,Xt)|0,P=P+Math.imul(L,en)|0;var Rh=(j+C|0)+((b&8191)<<13)|0;j=(P+(b>>>13)|0)+(Rh>>>26)|0,Rh&=67108863,C=Math.imul(H,Xt),b=Math.imul(H,en),b=b+Math.imul(J,Xt)|0,P=Math.imul(J,en);var Nh=(j+C|0)+((b&8191)<<13)|0;return j=(P+(b>>>13)|0)+(Nh>>>26)|0,Nh&=67108863,B[0]=dh,B[1]=fh,B[2]=hh,B[3]=ph,B[4]=mh,B[5]=gh,B[6]=yh,B[7]=bh,B[8]=wh,B[9]=xh,B[10]=vh,B[11]=Eh,B[12]=Sh,B[13]=_h,B[14]=Ah,B[15]=Ih,B[16]=Th,B[17]=Rh,B[18]=Nh,j!==0&&(B[19]=j,v.length++),v};Math.imul||(M=S);function _(I,f,m){m.negative=f.negative^I.negative,m.length=I.length+f.length;for(var v=0,R=0,A=0;A<m.length-1;A++){var B=R;R=0;for(var j=v&67108863,C=Math.min(A,f.length-1),b=Math.max(0,A-I.length+1);b<=C;b++){var P=A-b,X=I.words[P]|0,ee=f.words[b]|0,oe=X*ee,he=oe&67108863;B=B+(oe/67108864|0)|0,he=he+j|0,j=he&67108863,B=B+(he>>>26)|0,R+=B>>>26,B&=67108863}m.words[A]=j,v=B,B=R}return v!==0?m.words[A]=v:m.length--,m._strip()}function T(I,f,m){return _(I,f,m)}i.prototype.mulTo=function(f,m){var v,R=this.length+f.length;return this.length===10&&f.length===10?v=M(this,f,m):R<63?v=S(this,f,m):R<1024?v=_(this,f,m):v=T(this,f,m),v},i.prototype.mul=function(f){var m=new i(null);return m.words=new Array(this.length+f.length),this.mulTo(f,m)},i.prototype.mulf=function(f){var m=new i(null);return m.words=new Array(this.length+f.length),T(this,f,m)},i.prototype.imul=function(f){return this.clone().mulTo(f,this)},i.prototype.imuln=function(f){var m=f<0;m&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var v=0,R=0;R<this.length;R++){var A=(this.words[R]|0)*f,B=(A&67108863)+(v&67108863);v>>=26,v+=A/67108864|0,v+=B>>>26,this.words[R]=B&67108863}return v!==0&&(this.words[R]=v,this.length++),this.length=f===0?1:this.length,m?this.ineg():this},i.prototype.muln=function(f){return this.clone().imuln(f)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(f){var m=E(f);if(m.length===0)return new i(1);for(var v=this,R=0;R<m.length&&m[R]===0;R++,v=v.sqr());if(++R<m.length)for(var A=v.sqr();R<m.length;R++,A=A.sqr())m[R]!==0&&(v=v.mul(A));return v},i.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var m=f%26,v=(f-m)/26,R=67108863>>>26-m<<26-m,A;if(m!==0){var B=0;for(A=0;A<this.length;A++){var j=this.words[A]&R,C=(this.words[A]|0)-j<<m;this.words[A]=C|B,B=j>>>26-m}B&&(this.words[A]=B,this.length++)}if(v!==0){for(A=this.length-1;A>=0;A--)this.words[A+v]=this.words[A];for(A=0;A<v;A++)this.words[A]=0;this.length+=v}return this._strip()},i.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},i.prototype.iushrn=function(f,m,v){r(typeof f=="number"&&f>=0);var R;m?R=(m-m%26)/26:R=0;var A=f%26,B=Math.min((f-A)/26,this.length),j=67108863^67108863>>>A<<A,C=v;if(R-=B,R=Math.max(0,R),C){for(var b=0;b<B;b++)C.words[b]=this.words[b];C.length=B}if(B!==0)if(this.length>B)for(this.length-=B,b=0;b<this.length;b++)this.words[b]=this.words[b+B];else this.words[0]=0,this.length=1;var P=0;for(b=this.length-1;b>=0&&(P!==0||b>=R);b--){var X=this.words[b]|0;this.words[b]=P<<26-A|X>>>A,P=X&j}return C&&P!==0&&(C.words[C.length++]=P),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},i.prototype.ishrn=function(f,m,v){return r(this.negative===0),this.iushrn(f,m,v)},i.prototype.shln=function(f){return this.clone().ishln(f)},i.prototype.ushln=function(f){return this.clone().iushln(f)},i.prototype.shrn=function(f){return this.clone().ishrn(f)},i.prototype.ushrn=function(f){return this.clone().iushrn(f)},i.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var m=f%26,v=(f-m)/26,R=1<<m;if(this.length<=v)return!1;var A=this.words[v];return!!(A&R)},i.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var m=f%26,v=(f-m)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=v)return this;if(m!==0&&v++,this.length=Math.min(v,this.length),m!==0){var R=67108863^67108863>>>m<<m;this.words[this.length-1]&=R}return this._strip()},i.prototype.maskn=function(f){return this.clone().imaskn(f)},i.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},i.prototype._iaddn=function(f){this.words[0]+=f;for(var m=0;m<this.length&&this.words[m]>=67108864;m++)this.words[m]-=67108864,m===this.length-1?this.words[m+1]=1:this.words[m+1]++;return this.length=Math.max(this.length,m+1),this},i.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var m=0;m<this.length&&this.words[m]<0;m++)this.words[m]+=67108864,this.words[m+1]-=1;return this._strip()},i.prototype.addn=function(f){return this.clone().iaddn(f)},i.prototype.subn=function(f){return this.clone().isubn(f)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(f,m,v){var R=f.length+v,A;this._expand(R);var B,j=0;for(A=0;A<f.length;A++){B=(this.words[A+v]|0)+j;var C=(f.words[A]|0)*m;B-=C&67108863,j=(B>>26)-(C/67108864|0),this.words[A+v]=B&67108863}for(;A<this.length-v;A++)B=(this.words[A+v]|0)+j,j=B>>26,this.words[A+v]=B&67108863;if(j===0)return this._strip();for(r(j===-1),j=0,A=0;A<this.length;A++)B=-(this.words[A]|0)+j,j=B>>26,this.words[A]=B&67108863;return this.negative=1,this._strip()},i.prototype._wordDiv=function(f,m){var v=this.length-f.length,R=this.clone(),A=f,B=A.words[A.length-1]|0,j=this._countBits(B);v=26-j,v!==0&&(A=A.ushln(v),R.iushln(v),B=A.words[A.length-1]|0);var C=R.length-A.length,b;if(m!=="mod"){b=new i(null),b.length=C+1,b.words=new Array(b.length);for(var P=0;P<b.length;P++)b.words[P]=0}var X=R.clone()._ishlnsubmul(A,1,C);X.negative===0&&(R=X,b&&(b.words[C]=1));for(var ee=C-1;ee>=0;ee--){var oe=(R.words[A.length+ee]|0)*67108864+(R.words[A.length+ee-1]|0);for(oe=Math.min(oe/B|0,67108863),R._ishlnsubmul(A,oe,ee);R.negative!==0;)oe--,R.negative=0,R._ishlnsubmul(A,1,ee),R.isZero()||(R.negative^=1);b&&(b.words[ee]=oe)}return b&&b._strip(),R._strip(),m!=="div"&&v!==0&&R.iushrn(v),{div:b||null,mod:R}},i.prototype.divmod=function(f,m,v){if(r(!f.isZero()),this.isZero())return{div:new i(0),mod:new i(0)};var R,A,B;return this.negative!==0&&f.negative===0?(B=this.neg().divmod(f,m),m!=="mod"&&(R=B.div.neg()),m!=="div"&&(A=B.mod.neg(),v&&A.negative!==0&&A.iadd(f)),{div:R,mod:A}):this.negative===0&&f.negative!==0?(B=this.divmod(f.neg(),m),m!=="mod"&&(R=B.div.neg()),{div:R,mod:B.mod}):this.negative&f.negative?(B=this.neg().divmod(f.neg(),m),m!=="div"&&(A=B.mod.neg(),v&&A.negative!==0&&A.isub(f)),{div:B.div,mod:A}):f.length>this.length||this.cmp(f)<0?{div:new i(0),mod:this}:f.length===1?m==="div"?{div:this.divn(f.words[0]),mod:null}:m==="mod"?{div:null,mod:new i(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new i(this.modrn(f.words[0]))}:this._wordDiv(f,m)},i.prototype.div=function(f){return this.divmod(f,"div",!1).div},i.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},i.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},i.prototype.divRound=function(f){var m=this.divmod(f);if(m.mod.isZero())return m.div;var v=m.div.negative!==0?m.mod.isub(f):m.mod,R=f.ushrn(1),A=f.andln(1),B=v.cmp(R);return B<0||A===1&&B===0?m.div:m.div.negative!==0?m.div.isubn(1):m.div.iaddn(1)},i.prototype.modrn=function(f){var m=f<0;m&&(f=-f),r(f<=67108863);for(var v=(1<<26)%f,R=0,A=this.length-1;A>=0;A--)R=(v*R+(this.words[A]|0))%f;return m?-R:R},i.prototype.modn=function(f){return this.modrn(f)},i.prototype.idivn=function(f){var m=f<0;m&&(f=-f),r(f<=67108863);for(var v=0,R=this.length-1;R>=0;R--){var A=(this.words[R]|0)+v*67108864;this.words[R]=A/f|0,v=A%f}return this._strip(),m?this.ineg():this},i.prototype.divn=function(f){return this.clone().idivn(f)},i.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var m=this,v=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var R=new i(1),A=new i(0),B=new i(0),j=new i(1),C=0;m.isEven()&&v.isEven();)m.iushrn(1),v.iushrn(1),++C;for(var b=v.clone(),P=m.clone();!m.isZero();){for(var X=0,ee=1;!(m.words[0]&ee)&&X<26;++X,ee<<=1);if(X>0)for(m.iushrn(X);X-- >0;)(R.isOdd()||A.isOdd())&&(R.iadd(b),A.isub(P)),R.iushrn(1),A.iushrn(1);for(var oe=0,he=1;!(v.words[0]&he)&&oe<26;++oe,he<<=1);if(oe>0)for(v.iushrn(oe);oe-- >0;)(B.isOdd()||j.isOdd())&&(B.iadd(b),j.isub(P)),B.iushrn(1),j.iushrn(1);m.cmp(v)>=0?(m.isub(v),R.isub(B),A.isub(j)):(v.isub(m),B.isub(R),j.isub(A))}return{a:B,b:j,gcd:v.iushln(C)}},i.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var m=this,v=f.clone();m.negative!==0?m=m.umod(f):m=m.clone();for(var R=new i(1),A=new i(0),B=v.clone();m.cmpn(1)>0&&v.cmpn(1)>0;){for(var j=0,C=1;!(m.words[0]&C)&&j<26;++j,C<<=1);if(j>0)for(m.iushrn(j);j-- >0;)R.isOdd()&&R.iadd(B),R.iushrn(1);for(var b=0,P=1;!(v.words[0]&P)&&b<26;++b,P<<=1);if(b>0)for(v.iushrn(b);b-- >0;)A.isOdd()&&A.iadd(B),A.iushrn(1);m.cmp(v)>=0?(m.isub(v),R.isub(A)):(v.isub(m),A.isub(R))}var X;return m.cmpn(1)===0?X=R:X=A,X.cmpn(0)<0&&X.iadd(f),X},i.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var m=this.clone(),v=f.clone();m.negative=0,v.negative=0;for(var R=0;m.isEven()&&v.isEven();R++)m.iushrn(1),v.iushrn(1);do{for(;m.isEven();)m.iushrn(1);for(;v.isEven();)v.iushrn(1);var A=m.cmp(v);if(A<0){var B=m;m=v,v=B}else if(A===0||v.cmpn(1)===0)break;m.isub(v)}while(!0);return v.iushln(R)},i.prototype.invm=function(f){return this.egcd(f).a.umod(f)},i.prototype.isEven=function(){return(this.words[0]&1)===0},i.prototype.isOdd=function(){return(this.words[0]&1)===1},i.prototype.andln=function(f){return this.words[0]&f},i.prototype.bincn=function(f){r(typeof f=="number");var m=f%26,v=(f-m)/26,R=1<<m;if(this.length<=v)return this._expand(v+1),this.words[v]|=R,this;for(var A=R,B=v;A!==0&&B<this.length;B++){var j=this.words[B]|0;j+=A,A=j>>>26,j&=67108863,this.words[B]=j}return A!==0&&(this.words[B]=A,this.length++),this},i.prototype.isZero=function(){return this.length===1&&this.words[0]===0},i.prototype.cmpn=function(f){var m=f<0;if(this.negative!==0&&!m)return-1;if(this.negative===0&&m)return 1;this._strip();var v;if(this.length>1)v=1;else{m&&(f=-f),r(f<=67108863,"Number is too big");var R=this.words[0]|0;v=R===f?0:R<f?-1:1}return this.negative!==0?-v|0:v},i.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var m=this.ucmp(f);return this.negative!==0?-m|0:m},i.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var m=0,v=this.length-1;v>=0;v--){var R=this.words[v]|0,A=f.words[v]|0;if(R!==A){R<A?m=-1:R>A&&(m=1);break}}return m},i.prototype.gtn=function(f){return this.cmpn(f)===1},i.prototype.gt=function(f){return this.cmp(f)===1},i.prototype.gten=function(f){return this.cmpn(f)>=0},i.prototype.gte=function(f){return this.cmp(f)>=0},i.prototype.ltn=function(f){return this.cmpn(f)===-1},i.prototype.lt=function(f){return this.cmp(f)===-1},i.prototype.lten=function(f){return this.cmpn(f)<=0},i.prototype.lte=function(f){return this.cmp(f)<=0},i.prototype.eqn=function(f){return this.cmpn(f)===0},i.prototype.eq=function(f){return this.cmp(f)===0},i.red=function(f){return new W(f)},i.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(f){return this.red=f,this},i.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},i.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},i.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},i.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},i.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},i.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},i.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},i.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var O={k256:null,p224:null,p192:null,p25519:null};function $(I,f){this.name=I,this.p=new i(f,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var f=new i(null);return f.words=new Array(Math.ceil(this.n/13)),f},$.prototype.ireduce=function(f){var m=f,v;do this.split(m,this.tmp),m=this.imulK(m),m=m.iadd(this.tmp),v=m.bitLength();while(v>this.n);var R=v<this.n?-1:m.ucmp(this.p);return R===0?(m.words[0]=0,m.length=1):R>0?m.isub(this.p):m.strip!==void 0?m.strip():m._strip(),m},$.prototype.split=function(f,m){f.iushrn(this.n,0,m)},$.prototype.imulK=function(f){return f.imul(this.k)};function D(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}s(D,$),D.prototype.split=function(f,m){for(var v=4194303,R=Math.min(f.length,9),A=0;A<R;A++)m.words[A]=f.words[A];if(m.length=R,f.length<=9){f.words[0]=0,f.length=1;return}var B=f.words[9];for(m.words[m.length++]=B&v,A=10;A<f.length;A++){var j=f.words[A]|0;f.words[A-10]=(j&v)<<4|B>>>22,B=j}B>>>=22,f.words[A-10]=B,B===0&&f.length>10?f.length-=10:f.length-=9},D.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var m=0,v=0;v<f.length;v++){var R=f.words[v]|0;m+=R*977,f.words[v]=m&67108863,m=R*64+(m/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function z(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}s(z,$);function U(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}s(U,$);function K(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}s(K,$),K.prototype.imulK=function(f){for(var m=0,v=0;v<f.length;v++){var R=(f.words[v]|0)*19+m,A=R&67108863;R>>>=26,f.words[v]=A,m=R}return m!==0&&(f.words[f.length++]=m),f},i._prime=function(f){if(O[f])return O[f];var m;if(f==="k256")m=new D;else if(f==="p224")m=new z;else if(f==="p192")m=new U;else if(f==="p25519")m=new K;else throw new Error("Unknown prime "+f);return O[f]=m,m};function W(I){if(typeof I=="string"){var f=i._prime(I);this.m=f.p,this.prime=f}else r(I.gtn(1),"modulus must be greater than 1"),this.m=I,this.prime=null}W.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},W.prototype._verify2=function(f,m){r((f.negative|m.negative)===0,"red works only with positives"),r(f.red&&f.red===m.red,"red works only with red numbers")},W.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},W.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},W.prototype.add=function(f,m){this._verify2(f,m);var v=f.add(m);return v.cmp(this.m)>=0&&v.isub(this.m),v._forceRed(this)},W.prototype.iadd=function(f,m){this._verify2(f,m);var v=f.iadd(m);return v.cmp(this.m)>=0&&v.isub(this.m),v},W.prototype.sub=function(f,m){this._verify2(f,m);var v=f.sub(m);return v.cmpn(0)<0&&v.iadd(this.m),v._forceRed(this)},W.prototype.isub=function(f,m){this._verify2(f,m);var v=f.isub(m);return v.cmpn(0)<0&&v.iadd(this.m),v},W.prototype.shl=function(f,m){return this._verify1(f),this.imod(f.ushln(m))},W.prototype.imul=function(f,m){return this._verify2(f,m),this.imod(f.imul(m))},W.prototype.mul=function(f,m){return this._verify2(f,m),this.imod(f.mul(m))},W.prototype.isqr=function(f){return this.imul(f,f.clone())},W.prototype.sqr=function(f){return this.mul(f,f)},W.prototype.sqrt=function(f){if(f.isZero())return f.clone();var m=this.m.andln(3);if(r(m%2===1),m===3){var v=this.m.add(new i(1)).iushrn(2);return this.pow(f,v)}for(var R=this.m.subn(1),A=0;!R.isZero()&&R.andln(1)===0;)A++,R.iushrn(1);r(!R.isZero());var B=new i(1).toRed(this),j=B.redNeg(),C=this.m.subn(1).iushrn(1),b=this.m.bitLength();for(b=new i(2*b*b).toRed(this);this.pow(b,C).cmp(j)!==0;)b.redIAdd(j);for(var P=this.pow(b,R),X=this.pow(f,R.addn(1).iushrn(1)),ee=this.pow(f,R),oe=A;ee.cmp(B)!==0;){for(var he=ee,Se=0;he.cmp(B)!==0;Se++)he=he.redSqr();r(Se<oe);var be=this.pow(P,new i(1).iushln(oe-Se-1));X=X.redMul(be),P=be.redSqr(),ee=ee.redMul(P),oe=Se}return X},W.prototype.invm=function(f){var m=f._invmp(this.m);return m.negative!==0?(m.negative=0,this.imod(m).redNeg()):this.imod(m)},W.prototype.pow=function(f,m){if(m.isZero())return new i(1).toRed(this);if(m.cmpn(1)===0)return f.clone();var v=4,R=new Array(1<<v);R[0]=new i(1).toRed(this),R[1]=f;for(var A=2;A<R.length;A++)R[A]=this.mul(R[A-1],f);var B=R[0],j=0,C=0,b=m.bitLength()%26;for(b===0&&(b=26),A=m.length-1;A>=0;A--){for(var P=m.words[A],X=b-1;X>=0;X--){var ee=P>>X&1;if(B!==R[0]&&(B=this.sqr(B)),ee===0&&j===0){C=0;continue}j<<=1,j|=ee,C++,!(C!==v&&(A!==0||X!==0))&&(B=this.mul(B,R[j]),C=0,j=0)}b=26}return B},W.prototype.convertTo=function(f){var m=f.umod(this.m);return m===f?m.clone():m},W.prototype.convertFrom=function(f){var m=f.clone();return m.red=null,m},i.mont=function(f){return new q(f)};function q(I){W.call(this,I),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}s(q,W),q.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},q.prototype.convertFrom=function(f){var m=this.imod(f.mul(this.rinv));return m.red=null,m},q.prototype.imul=function(f,m){if(f.isZero()||m.isZero())return f.words[0]=0,f.length=1,f;var v=f.imul(m),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=v.isub(R).iushrn(this.shift),B=A;return A.cmp(this.m)>=0?B=A.isub(this.m):A.cmpn(0)<0&&(B=A.iadd(this.m)),B._forceRed(this)},q.prototype.mul=function(f,m){if(f.isZero()||m.isZero())return new i(0)._forceRed(this);var v=f.mul(m),R=v.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),A=v.isub(R).iushrn(this.shift),B=A;return A.cmp(this.m)>=0?B=A.isub(this.m):A.cmpn(0)<0&&(B=A.iadd(this.m)),B._forceRed(this)},q.prototype.invm=function(f){var m=this.imod(f._invmp(this.m).mul(this.r2));return m._forceRed(this)}})(e,Qr)})(Sg);var d2=Sg.exports;const s1=Nu(d2);var lp={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(e,t){var n=Be,r=n.Buffer;function s(o,a){for(var c in o)a[c]=o[c]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(s(n,t),t.Buffer=i);function i(o,a,c){return r(o,a,c)}i.prototype=Object.create(r.prototype),s(r,i),i.from=function(o,a,c){if(typeof o=="number")throw new TypeError("Argument must not be a number");return r(o,a,c)},i.alloc=function(o,a,c){if(typeof o!="number")throw new TypeError("Argument must be a number");var u=r(o);return a!==void 0?typeof c=="string"?u.fill(a,c):u.fill(a):u.fill(0),u},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(o)}})(lp,lp.exports);var f2=lp.exports,Sl=f2.Buffer;function BR(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=Sl.from(h)),!Sl.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var g=0,y=0,E=0,S=h.length;E!==S&&h[E]===0;)E++,g++;for(var M=(S-E)*u+1>>>0,_=new Uint8Array(M);E!==S;){for(var T=h[E],O=0,$=M-1;(T!==0||O<y)&&$!==-1;$--,O++)T+=256*_[$]>>>0,_[$]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");y=O,E++}for(var D=M-y;D!==M&&_[D]===0;)D++;for(var z=a.repeat(g);D<M;++D)z+=e.charAt(_[D]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return Sl.alloc(0);for(var g=0,y=0,E=0;h[g]===a;)y++,g++;for(var S=(h.length-g)*c+1>>>0,M=new Uint8Array(S);g<h.length;){var _=h.charCodeAt(g);if(_>255)return;var T=t[_];if(T===255)return;for(var O=0,$=S-1;(T!==0||O<E)&&$!==-1;$--,O++)T+=o*M[$]>>>0,M[$]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=O,g++}for(var D=S-E;D!==S&&M[D]===0;)D++;var z=Sl.allocUnsafe(y+(S-D));z.fill(0,0,y);for(var U=y;D!==S;)z[U++]=M[D++];return z}function p(h){var g=d(h);if(g)return g;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:p}}var OR=BR,PR=OR,LR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",jR=PR(LR);const Tn=Nu(jR),dp=bg;var In={},_l=f2.Buffer;function $R(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if((Array.isArray(h)||h instanceof Uint8Array)&&(h=_l.from(h)),!_l.isBuffer(h))throw new TypeError("Expected Buffer");if(h.length===0)return"";for(var g=0,y=0,E=0,S=h.length;E!==S&&h[E]===0;)E++,g++;for(var M=(S-E)*u+1>>>0,_=new Uint8Array(M);E!==S;){for(var T=h[E],O=0,$=M-1;(T!==0||O<y)&&$!==-1;$--,O++)T+=256*_[$]>>>0,_[$]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");y=O,E++}for(var D=M-y;D!==M&&_[D]===0;)D++;for(var z=a.repeat(g);D<M;++D)z+=e.charAt(_[D]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return _l.alloc(0);for(var g=0,y=0,E=0;h[g]===a;)y++,g++;for(var S=(h.length-g)*c+1>>>0,M=new Uint8Array(S);g<h.length;){var _=h.charCodeAt(g);if(_>255)return;var T=t[_];if(T===255)return;for(var O=0,$=S-1;(T!==0||O<E)&&$!==-1;$--,O++)T+=o*M[$]>>>0,M[$]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=O,g++}for(var D=S-E;D!==S&&M[D]===0;)D++;var z=_l.allocUnsafe(y+(S-D));z.fill(0,0,y);for(var U=y;D!==S;)z[U++]=M[D++];return z}function p(h){var g=d(h);if(g)return g;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:p}}var DR=$R,zR=DR,UR="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",FR=zR(UR);function Fs(e,t,n){return t<=e&&e<=n}function of(e){if(e===void 0)return{};if(e===Object(e))return e;throw TypeError("Could not convert argument to dictionary")}function WR(e){for(var t=String(e),n=t.length,r=0,s=[];r<n;){var i=t.charCodeAt(r);if(i<55296||i>57343)s.push(i);else if(56320<=i&&i<=57343)s.push(65533);else if(55296<=i&&i<=56319)if(r===n-1)s.push(65533);else{var o=e.charCodeAt(r+1);if(56320<=o&&o<=57343){var a=i&1023,c=o&1023;s.push(65536+(a<<10)+c),r+=1}else s.push(65533)}r+=1}return s}function VR(e){for(var t="",n=0;n<e.length;++n){var r=e[n];r<=65535?t+=String.fromCharCode(r):(r-=65536,t+=String.fromCharCode((r>>10)+55296,(r&1023)+56320))}return t}var pd=-1;function _g(e){this.tokens=[].slice.call(e)}_g.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():pd},prepend:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(e)},push:function(e){if(Array.isArray(e))for(var t=e;t.length;)this.tokens.push(t.shift());else this.tokens.push(e)}};var Ma=-1;function zh(e,t){if(e)throw TypeError("Decoder error");return t||65533}var md="utf-8";function gd(e,t){if(!(this instanceof gd))return new gd(e,t);if(e=e!==void 0?String(e).toLowerCase():md,e!==md)throw new Error("Encoding not supported. Only utf-8 is supported");t=of(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=!!t.fatal,this._ignoreBOM=!!t.ignoreBOM,Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}gd.prototype={decode:function(t,n){var r;typeof t=="object"&&t instanceof ArrayBuffer?r=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):r=new Uint8Array(0),n=of(n),this._streaming||(this._decoder=new qR({fatal:this._fatal}),this._BOMseen=!1),this._streaming=!!n.stream;for(var s=new _g(r),i=[],o;!s.endOfStream()&&(o=this._decoder.handler(s,s.read()),o!==Ma);)o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o));if(!this._streaming){do{if(o=this._decoder.handler(s,s.read()),o===Ma)break;o!==null&&(Array.isArray(o)?i.push.apply(i,o):i.push(o))}while(!s.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),VR(i)}};function yd(e,t){if(!(this instanceof yd))return new yd(e,t);if(e=e!==void 0?String(e).toLowerCase():md,e!==md)throw new Error("Encoding not supported. Only utf-8 is supported");t=of(t),this._streaming=!1,this._encoder=null,this._options={fatal:!!t.fatal},Object.defineProperty(this,"encoding",{value:"utf-8"})}yd.prototype={encode:function(t,n){t=t?String(t):"",n=of(n),this._streaming||(this._encoder=new HR(this._options)),this._streaming=!!n.stream;for(var r=[],s=new _g(WR(t)),i;!s.endOfStream()&&(i=this._encoder.handler(s,s.read()),i!==Ma);)Array.isArray(i)?r.push.apply(r,i):r.push(i);if(!this._streaming){for(;i=this._encoder.handler(s,s.read()),i!==Ma;)Array.isArray(i)?r.push.apply(r,i):r.push(i);this._encoder=null}return new Uint8Array(r)}};function qR(e){var t=e.fatal,n=0,r=0,s=0,i=128,o=191;this.handler=function(a,c){if(c===pd&&s!==0)return s=0,zh(t);if(c===pd)return Ma;if(s===0){if(Fs(c,0,127))return c;if(Fs(c,194,223))s=1,n=c-192;else if(Fs(c,224,239))c===224&&(i=160),c===237&&(o=159),s=2,n=c-224;else if(Fs(c,240,244))c===240&&(i=144),c===244&&(o=143),s=3,n=c-240;else return zh(t);return n=n<<6*s,null}if(!Fs(c,i,o))return n=s=r=0,i=128,o=191,a.prepend(c),zh(t);if(i=128,o=191,r+=1,n+=c-128<<6*(s-r),r!==s)return null;var u=n;return n=s=r=0,u}}function HR(e){e.fatal,this.handler=function(t,n){if(n===pd)return Ma;if(Fs(n,0,127))return n;var r,s;Fs(n,128,2047)?(r=1,s=192):Fs(n,2048,65535)?(r=2,s=224):Fs(n,65536,1114111)&&(r=3,s=240);for(var i=[(n>>6*r)+s];r>0;){var o=n>>6*(r-1);i.push(128|o&63),r-=1}return i}}const GR=Object.freeze(Object.defineProperty({__proto__:null,TextDecoder:gd,TextEncoder:yd},Symbol.toStringTag,{value:"Module"})),KR=ug(GR);var ZR=Qr&&Qr.__createBinding||(Object.create?function(e,t,n,r){r===void 0&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){r===void 0&&(r=n),e[r]=t[n]}),YR=Qr&&Qr.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_s=Qr&&Qr.__decorate||function(e,t,n,r){var s=arguments.length,i=s<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(i=(s<3?o(i):s>3?o(t,n,i):o(t,n))||i);return s>3&&i&&Object.defineProperty(t,n,i),i},JR=Qr&&Qr.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var n in e)n!=="default"&&Object.hasOwnProperty.call(e,n)&&ZR(t,e,n);return YR(t,e),t},h2=Qr&&Qr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(In,"__esModule",{value:!0});var p2=In.deserializeUnchecked=x2=In.deserialize=w2=In.serialize=In.BinaryReader=In.BinaryWriter=In.BorshError=In.baseDecode=In.baseEncode=void 0;const Ri=h2(d2),m2=h2(FR),QR=JR(KR),XR=typeof TextDecoder!="function"?QR.TextDecoder:TextDecoder,e3=new XR("utf-8",{fatal:!0});function t3(e){return typeof e=="string"&&(e=Buffer.from(e,"utf8")),m2.default.encode(Buffer.from(e))}In.baseEncode=t3;function n3(e){return Buffer.from(m2.default.decode(e))}In.baseDecode=n3;const Uh=1024;class Kn extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}In.BorshError=Kn;class g2{constructor(){this.buf=Buffer.alloc(Uh),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Uh)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ri.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ri.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ri.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new Ri.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Uh)]),this.length+=t.length}writeString(t){this.maybeResize();const n=Buffer.from(t,"utf8");this.writeU32(n.length),this.writeBuffer(n)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,n){this.maybeResize(),this.writeU32(t.length);for(const r of t)this.maybeResize(),n(r)}toArray(){return this.buf.subarray(0,this.length)}}In.BinaryWriter=g2;function As(e,t,n){const r=n.value;n.value=function(...s){try{return r.apply(this,s)}catch(i){if(i instanceof RangeError){const o=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(o)>=0)throw new Kn("Reached the end of buffer when deserializing")}throw i}}}class Sr{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new Ri.default(t,"le")}readU128(){const t=this.readBuffer(16);return new Ri.default(t,"le")}readU256(){const t=this.readBuffer(32);return new Ri.default(t,"le")}readU512(){const t=this.readBuffer(64);return new Ri.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Kn(`Expected buffer length ${t} isn't within bounds`);const n=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,n}readString(){const t=this.readU32(),n=this.readBuffer(t);try{return e3.decode(n)}catch(r){throw new Kn(`Error decoding UTF-8 string: ${r}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const n=this.readU32(),r=Array();for(let s=0;s<n;++s)r.push(t());return r}}_s([As],Sr.prototype,"readU8",null);_s([As],Sr.prototype,"readU16",null);_s([As],Sr.prototype,"readU32",null);_s([As],Sr.prototype,"readU64",null);_s([As],Sr.prototype,"readU128",null);_s([As],Sr.prototype,"readU256",null);_s([As],Sr.prototype,"readU512",null);_s([As],Sr.prototype,"readString",null);_s([As],Sr.prototype,"readFixedArray",null);_s([As],Sr.prototype,"readArray",null);In.BinaryReader=Sr;function y2(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Hi(e,t,n,r,s){try{if(typeof r=="string")s[`write${y2(r)}`](n);else if(r instanceof Array)if(typeof r[0]=="number"){if(n.length!==r[0])throw new Kn(`Expecting byte array of length ${r[0]}, but got ${n.length} bytes`);s.writeFixedArray(n)}else if(r.length===2&&typeof r[1]=="number"){if(n.length!==r[1])throw new Kn(`Expecting byte array of length ${r[1]}, but got ${n.length} bytes`);for(let i=0;i<r[1];i++)Hi(e,null,n[i],r[0],s)}else s.writeArray(n,i=>{Hi(e,t,i,r[0],s)});else if(r.kind!==void 0)switch(r.kind){case"option":{n==null?s.writeU8(0):(s.writeU8(1),Hi(e,t,n,r.type,s));break}case"map":{s.writeU32(n.size),n.forEach((i,o)=>{Hi(e,t,o,r.key,s),Hi(e,t,i,r.value,s)});break}default:throw new Kn(`FieldType ${r} unrecognized`)}else b2(e,n,s)}catch(i){throw i instanceof Kn&&i.addToFieldPath(t),i}}function b2(e,t,n){if(typeof t.borshSerialize=="function"){t.borshSerialize(n);return}const r=e.get(t.constructor);if(!r)throw new Kn(`Class ${t.constructor.name} is missing in schema`);if(r.kind==="struct")r.fields.map(([s,i])=>{Hi(e,s,t[s],i,n)});else if(r.kind==="enum"){const s=t[r.field];for(let i=0;i<r.values.length;++i){const[o,a]=r.values[i];if(o===s){n.writeU8(i),Hi(e,o,t[o],a,n);break}}}else throw new Kn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function r3(e,t,n=g2){const r=new n;return b2(e,t,r),r.toArray()}var w2=In.serialize=r3;function Gi(e,t,n,r){try{if(typeof n=="string")return r[`read${y2(n)}`]();if(n instanceof Array){if(typeof n[0]=="number")return r.readFixedArray(n[0]);if(typeof n[1]=="number"){const s=[];for(let i=0;i<n[1];i++)s.push(Gi(e,null,n[0],r));return s}else return r.readArray(()=>Gi(e,t,n[0],r))}if(n.kind==="option")return r.readU8()?Gi(e,t,n.type,r):void 0;if(n.kind==="map"){let s=new Map;const i=r.readU32();for(let o=0;o<i;o++){const a=Gi(e,t,n.key,r),c=Gi(e,t,n.value,r);s.set(a,c)}return s}return Ag(e,n,r)}catch(s){throw s instanceof Kn&&s.addToFieldPath(t),s}}function Ag(e,t,n){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(n);const r=e.get(t);if(!r)throw new Kn(`Class ${t.name} is missing in schema`);if(r.kind==="struct"){const s={};for(const[i,o]of e.get(t).fields)s[i]=Gi(e,i,o,n);return new t(s)}if(r.kind==="enum"){const s=n.readU8();if(s>=r.values.length)throw new Kn(`Enum index: ${s} is out of range`);const[i,o]=r.values[s],a=Gi(e,i,o,n);return new t({[i]:a})}throw new Kn(`Unexpected schema kind: ${r.kind} for ${t.constructor.name}`)}function s3(e,t,n,r=Sr){const s=new r(n),i=Ag(e,t,s);if(s.offset<n.length)throw new Kn(`Unexpected ${n.length-s.offset} bytes after deserialized data`);return i}var x2=In.deserialize=s3;function i3(e,t,n,r=Sr){const s=new r(n);return Ag(e,t,s)}p2=In.deserializeUnchecked=i3;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.s16=Z.s8=Z.nu64be=Z.u48be=Z.u40be=Z.u32be=Z.u24be=Z.u16be=Sn=Z.nu64=Z.u48=Z.u40=Te=Z.u32=Z.u24=Cr=Z.u16=tt=Z.u8=uo=Z.offset=Z.greedy=Z.Constant=Z.UTF8=Z.CString=Z.Blob=Z.Boolean=Z.BitField=Z.BitStructure=Z.VariantLayout=Z.Union=Z.UnionLayoutDiscriminator=Z.UnionDiscriminator=Z.Structure=Z.Sequence=Z.DoubleBE=Z.Double=Z.FloatBE=Z.Float=Z.NearInt64BE=Z.NearInt64=Z.NearUInt64BE=Z.NearUInt64=Z.IntBE=Z.Int=Z.UIntBE=Z.UInt=Z.OffsetLayout=Z.GreedyCount=Z.ExternalLayout=Z.bindConstructorLayout=Z.nameWithProperty=Z.Layout=Z.uint8ArrayToBuffer=Z.checkUint8Array=void 0;Z.constant=Z.utf8=Z.cstr=ft=Z.blob=Z.unionLayoutDiscriminator=Z.union=Dn=Z.seq=Z.bits=we=Z.struct=Z.f64be=Z.f64=Z.f32be=Z.f32=Z.ns64be=Z.s48be=Z.s40be=Z.s32be=Z.s24be=Z.s16be=mr=Z.ns64=Z.s48=Z.s40=Z.s32=Z.s24=void 0;const Ig=Be;function nc(e){if(!(e instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}Z.checkUint8Array=nc;function Xe(e){return nc(e),Ig.Buffer.from(e.buffer,e.byteOffset,e.length)}Z.uint8ArrayToBuffer=Xe;class st{constructor(t,n){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=n}makeDestinationObject(){return{}}getSpan(t,n){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const n=Object.create(this.constructor.prototype);return Object.assign(n,this),n.property=t,n}fromArray(t){}}Z.Layout=st;function Tg(e,t){return t.property?e+"["+t.property+"]":e}Z.nameWithProperty=Tg;function o3(e,t){if(typeof e!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(e,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof st))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");e.layout_=t,t.boundConstructor_=e,t.makeDestinationObject=()=>new e,Object.defineProperty(e.prototype,"encode",{value(n,r){return t.encode(this,n,r)},writable:!0}),Object.defineProperty(e,"decode",{value(n,r){return t.decode(n,r)},writable:!0})}Z.bindConstructorLayout=o3;class rr extends st{isCount(){throw new Error("ExternalLayout is abstract")}}Z.ExternalLayout=rr;class v2 extends rr{constructor(t=1,n){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,n),this.elementSpan=t}isCount(){return!0}decode(t,n=0){nc(t);const r=t.length-n;return Math.floor(r/this.elementSpan)}encode(t,n,r){return 0}}Z.GreedyCount=v2;class Rg extends rr{constructor(t,n=0,r){if(!(t instanceof st))throw new TypeError("layout must be a Layout");if(!Number.isInteger(n))throw new TypeError("offset must be integer or undefined");super(t.span,r||t.property),this.layout=t,this.offset=n}isCount(){return this.layout instanceof Or||this.layout instanceof Yr}decode(t,n=0){return this.layout.decode(t,n+this.offset)}encode(t,n,r=0){return this.layout.encode(t,n,r+this.offset)}}Z.OffsetLayout=Rg;class Or extends st{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Xe(t).readUIntLE(n,this.span)}encode(t,n,r=0){return Xe(n).writeUIntLE(t,r,this.span),this.span}}Z.UInt=Or;class Yr extends st{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Xe(t).readUIntBE(n,this.span)}encode(t,n,r=0){return Xe(n).writeUIntBE(t,r,this.span),this.span}}Z.UIntBE=Yr;class Wo extends st{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Xe(t).readIntLE(n,this.span)}encode(t,n,r=0){return Xe(n).writeIntLE(t,r,this.span),this.span}}Z.Int=Wo;class rc extends st{constructor(t,n){if(super(t,n),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,n=0){return Xe(t).readIntBE(n,this.span)}encode(t,n,r=0){return Xe(n).writeIntBE(t,r,this.span),this.span}}Z.IntBE=rc;const fp=Math.pow(2,32);function af(e){const t=Math.floor(e/fp),n=e-t*fp;return{hi32:t,lo32:n}}function cf(e,t){return e*fp+t}class E2 extends st{constructor(t){super(8,t)}decode(t,n=0){const r=Xe(t),s=r.readUInt32LE(n),i=r.readUInt32LE(n+4);return cf(i,s)}encode(t,n,r=0){const s=af(t),i=Xe(n);return i.writeUInt32LE(s.lo32,r),i.writeUInt32LE(s.hi32,r+4),8}}Z.NearUInt64=E2;class S2 extends st{constructor(t){super(8,t)}decode(t,n=0){const r=Xe(t),s=r.readUInt32BE(n),i=r.readUInt32BE(n+4);return cf(s,i)}encode(t,n,r=0){const s=af(t),i=Xe(n);return i.writeUInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Z.NearUInt64BE=S2;class _2 extends st{constructor(t){super(8,t)}decode(t,n=0){const r=Xe(t),s=r.readUInt32LE(n),i=r.readInt32LE(n+4);return cf(i,s)}encode(t,n,r=0){const s=af(t),i=Xe(n);return i.writeUInt32LE(s.lo32,r),i.writeInt32LE(s.hi32,r+4),8}}Z.NearInt64=_2;class A2 extends st{constructor(t){super(8,t)}decode(t,n=0){const r=Xe(t),s=r.readInt32BE(n),i=r.readUInt32BE(n+4);return cf(s,i)}encode(t,n,r=0){const s=af(t),i=Xe(n);return i.writeInt32BE(s.hi32,r),i.writeUInt32BE(s.lo32,r+4),8}}Z.NearInt64BE=A2;class I2 extends st{constructor(t){super(4,t)}decode(t,n=0){return Xe(t).readFloatLE(n)}encode(t,n,r=0){return Xe(n).writeFloatLE(t,r),4}}Z.Float=I2;class T2 extends st{constructor(t){super(4,t)}decode(t,n=0){return Xe(t).readFloatBE(n)}encode(t,n,r=0){return Xe(n).writeFloatBE(t,r),4}}Z.FloatBE=T2;class R2 extends st{constructor(t){super(8,t)}decode(t,n=0){return Xe(t).readDoubleLE(n)}encode(t,n,r=0){return Xe(n).writeDoubleLE(t,r),8}}Z.Double=R2;class N2 extends st{constructor(t){super(8,t)}decode(t,n=0){return Xe(t).readDoubleBE(n)}encode(t,n,r=0){return Xe(n).writeDoubleBE(t,r),8}}Z.DoubleBE=N2;class C2 extends st{constructor(t,n,r){if(!(t instanceof st))throw new TypeError("elementLayout must be a Layout");if(!(n instanceof rr&&n.isCount()||Number.isInteger(n)&&0<=n))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let s=-1;!(n instanceof rr)&&0<t.span&&(s=n*t.span),super(s,r),this.elementLayout=t,this.count=n}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0,s=this.count;if(s instanceof rr&&(s=s.decode(t,n)),0<this.elementLayout.span)r=s*this.elementLayout.span;else{let i=0;for(;i<s;)r+=this.elementLayout.getSpan(t,n+r),++i}return r}decode(t,n=0){const r=[];let s=0,i=this.count;for(i instanceof rr&&(i=i.decode(t,n));s<i;)r.push(this.elementLayout.decode(t,n)),n+=this.elementLayout.getSpan(t,n),s+=1;return r}encode(t,n,r=0){const s=this.elementLayout,i=t.reduce((o,a)=>o+s.encode(a,n,r+o),0);return this.count instanceof rr&&this.count.encode(t.length,n,r),i}}Z.Sequence=C2;class M2 extends st{constructor(t,n,r){if(!(Array.isArray(t)&&t.reduce((i,o)=>i&&o instanceof st,!0)))throw new TypeError("fields must be array of Layout instances");typeof n=="boolean"&&r===void 0&&(r=n,n=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let s=-1;try{s=t.reduce((i,o)=>i+o.getSpan(),0)}catch{}super(s,n),this.fields=t,this.decodePrefixes=!!r}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;try{r=this.fields.reduce((s,i)=>{const o=i.getSpan(t,n);return n+=o,s+o},0)}catch{throw new RangeError("indeterminate span")}return r}decode(t,n=0){nc(t);const r=this.makeDestinationObject();for(const s of this.fields)if(s.property!==void 0&&(r[s.property]=s.decode(t,n)),n+=s.getSpan(t,n),this.decodePrefixes&&t.length===n)break;return r}encode(t,n,r=0){const s=r;let i=0,o=0;for(const a of this.fields){let c=a.span;if(o=0<c?c:0,a.property!==void 0){const u=t[a.property];u!==void 0&&(o=a.encode(u,n,r),0>c&&(c=a.getSpan(n,r)))}i=r,r+=c}return i+o-s}fromArray(t){const n=this.makeDestinationObject();for(const r of this.fields)r.property!==void 0&&0<t.length&&(n[r.property]=t.shift());return n}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let n=0;for(const r of this.fields){if(r.property===t)return n;0>r.span?n=-1:0<=n&&(n+=r.span)}}}Z.Structure=M2;class Ng{constructor(t){this.property=t}decode(t,n){throw new Error("UnionDiscriminator is abstract")}encode(t,n,r){throw new Error("UnionDiscriminator is abstract")}}Z.UnionDiscriminator=Ng;class bd extends Ng{constructor(t,n){if(!(t instanceof rr&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(n||t.property||"variant"),this.layout=t}decode(t,n){return this.layout.decode(t,n)}encode(t,n,r){return this.layout.encode(t,n,r)}}Z.UnionLayoutDiscriminator=bd;class Cg extends st{constructor(t,n,r){let s;if(t instanceof Or||t instanceof Yr)s=new bd(new Rg(t));else if(t instanceof rr&&t.isCount())s=new bd(t);else if(t instanceof Ng)s=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(n===void 0&&(n=null),!(n===null||n instanceof st))throw new TypeError("defaultLayout must be null or a Layout");if(n!==null){if(0>n.span)throw new Error("defaultLayout must have constant span");n.property===void 0&&(n=n.replicate("content"))}let i=-1;n&&(i=n.span,0<=i&&(t instanceof Or||t instanceof Yr)&&(i+=s.layout.span)),super(i,r),this.discriminator=s,this.usesPrefixDiscriminator=t instanceof Or||t instanceof Yr,this.defaultLayout=n,this.registry={};let o=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return o(a)},this.configGetSourceVariant=function(a){o=a.bind(this)}}getSpan(t,n=0){if(0<=this.span)return this.span;const r=this.getVariant(t,n);if(!r)throw new Error("unable to determine span for unrecognized variant");return r.getSpan(t,n)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const n=this.registry[t[this.discriminator.property]];if(n&&(!n.layout||n.property&&Object.prototype.hasOwnProperty.call(t,n.property)))return n}else for(const n in this.registry){const r=this.registry[n];if(r.property&&Object.prototype.hasOwnProperty.call(t,r.property))return r}throw new Error("unable to infer src variant")}decode(t,n=0){let r;const s=this.discriminator,i=s.decode(t,n),o=this.registry[i];if(o===void 0){const a=this.defaultLayout;let c=0;this.usesPrefixDiscriminator&&(c=s.layout.span),r=this.makeDestinationObject(),r[s.property]=i,r[a.property]=a.decode(t,n+c)}else r=o.decode(t,n);return r}encode(t,n,r=0){const s=this.getSourceVariant(t);if(s===void 0){const i=this.discriminator,o=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],n,r),a+o.encode(t[o.property],n,r+a)}return s.encode(t,n,r)}addVariant(t,n,r){const s=new k2(this,t,n,r);return this.registry[t]=s,s}getVariant(t,n=0){let r;return t instanceof Uint8Array?r=this.discriminator.decode(t,n):r=t,this.registry[r]}}Z.Union=Cg;class k2 extends st{constructor(t,n,r,s){if(!(t instanceof Cg))throw new TypeError("union must be a Union");if(!Number.isInteger(n)||0>n)throw new TypeError("variant must be a (non-negative) integer");if(typeof r=="string"&&s===void 0&&(s=r,r=null),r){if(!(r instanceof st))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=r.span&&r.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof s!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=r?r.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,s),this.union=t,this.variant=n,this.layout=r||null}getSpan(t,n=0){if(0<=this.span)return this.span;let r=0;this.union.usesPrefixDiscriminator&&(r=this.union.discriminator.layout.span);let s=0;return this.layout&&(s=this.layout.getSpan(t,n+r)),r+s}decode(t,n=0){const r=this.makeDestinationObject();if(this!==this.union.getVariant(t,n))throw new Error("variant mismatch");let s=0;return this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout?r[this.property]=this.layout.decode(t,n+s):this.property?r[this.property]=!0:this.union.usesPrefixDiscriminator&&(r[this.union.discriminator.property]=this.variant),r}encode(t,n,r=0){let s=0;if(this.union.usesPrefixDiscriminator&&(s=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,n,r);let i=s;if(this.layout&&(this.layout.encode(t[this.property],n,r+s),i+=this.layout.getSpan(n,r+s),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}Z.VariantLayout=k2;function na(e){return 0>e&&(e+=4294967296),e}class Mg extends st{constructor(t,n,r){if(!(t instanceof Or||t instanceof Yr))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof n=="string"&&r===void 0&&(r=n,n=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,r),this.word=t,this.msb=!!n,this.fields=[];let s=0;this._packedSetValue=function(i){return s=na(i),this},this._packedGetValue=function(){return s}}decode(t,n=0){const r=this.makeDestinationObject(),s=this.word.decode(t,n);this._packedSetValue(s);for(const i of this.fields)i.property!==void 0&&(r[i.property]=i.decode(t));return r}encode(t,n,r=0){const s=this.word.decode(n,r);this._packedSetValue(s);for(const i of this.fields)if(i.property!==void 0){const o=t[i.property];o!==void 0&&i.encode(o)}return this.word.encode(this._packedGetValue(),n,r)}addField(t,n){const r=new kg(this,t,n);return this.fields.push(r),r}addBoolean(t){const n=new B2(this,t);return this.fields.push(n),n}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const n of this.fields)if(n.property===t)return n}}Z.BitStructure=Mg;class kg{constructor(t,n,r){if(!(t instanceof Mg))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(n)||0>=n)throw new TypeError("bits must be positive integer");const s=8*t.span,i=t.fields.reduce((o,a)=>o+a.bits,0);if(n+i>s)throw new Error("bits too long for span remainder ("+(s-i)+" of "+s+" remain)");this.container=t,this.bits=n,this.valueMask=(1<<n)-1,n===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=s-i-n),this.wordMask=na(this.valueMask<<this.start),this.property=r}decode(t,n){const r=this.container._packedGetValue();return na(r&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==na(t&this.valueMask))throw new TypeError(Tg("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const n=this.container._packedGetValue(),r=na(t<<this.start);this.container._packedSetValue(na(n&~this.wordMask)|r)}}Z.BitField=kg;let B2=class extends kg{constructor(t,n){super(t,1,n)}decode(t,n){return!!super.decode(t,n)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}};Z.Boolean=B2;let O2=class extends st{constructor(t,n){if(!(t instanceof rr&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let r=-1;t instanceof rr||(r=t),super(r,n),this.length=t}getSpan(t,n){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),r}decode(t,n=0){let r=this.span;return 0>r&&(r=this.length.decode(t,n)),Xe(t).slice(n,n+r)}encode(t,n,r){let s=this.length;if(this.length instanceof rr&&(s=t.length),!(t instanceof Uint8Array&&s===t.length))throw new TypeError(Tg("Blob.encode",this)+" requires (length "+s+") Uint8Array as src");if(r+s>n.length)throw new RangeError("encoding overruns Uint8Array");const i=Xe(t);return Xe(n).write(i.toString("hex"),r,s,"hex"),this.length instanceof rr&&this.length.encode(s,n,r),s}};Z.Blob=O2;class P2 extends st{constructor(t){super(-1,t)}getSpan(t,n=0){nc(t);let r=n;for(;r<t.length&&t[r]!==0;)r+=1;return 1+r-n}decode(t,n=0){const r=this.getSpan(t,n);return Xe(t).slice(n,n+r-1).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Ig.Buffer.from(t,"utf8"),i=s.length;if(r+i>n.length)throw new RangeError("encoding overruns Buffer");const o=Xe(n);return s.copy(o,r),o[r+i]=0,i+1}}Z.CString=P2;class L2 extends st{constructor(t,n){if(typeof t=="string"&&n===void 0&&(n=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,n),this.maxSpan=t}getSpan(t,n=0){return nc(t),t.length-n}decode(t,n=0){const r=this.getSpan(t,n);if(0<=this.maxSpan&&this.maxSpan<r)throw new RangeError("text length exceeds maxSpan");return Xe(t).slice(n,n+r).toString("utf-8")}encode(t,n,r=0){typeof t!="string"&&(t=String(t));const s=Ig.Buffer.from(t,"utf8"),i=s.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(r+i>n.length)throw new RangeError("encoding overruns Buffer");return s.copy(Xe(n),r),i}}Z.UTF8=L2;class j2 extends st{constructor(t,n){super(0,n),this.value=t}decode(t,n){return this.value}encode(t,n,r){return 0}}Z.Constant=j2;Z.greedy=(e,t)=>new v2(e,t);var uo=Z.offset=(e,t,n)=>new Rg(e,t,n),tt=Z.u8=e=>new Or(1,e),Cr=Z.u16=e=>new Or(2,e);Z.u24=e=>new Or(3,e);var Te=Z.u32=e=>new Or(4,e);Z.u40=e=>new Or(5,e);Z.u48=e=>new Or(6,e);var Sn=Z.nu64=e=>new E2(e);Z.u16be=e=>new Yr(2,e);Z.u24be=e=>new Yr(3,e);Z.u32be=e=>new Yr(4,e);Z.u40be=e=>new Yr(5,e);Z.u48be=e=>new Yr(6,e);Z.nu64be=e=>new S2(e);Z.s8=e=>new Wo(1,e);Z.s16=e=>new Wo(2,e);Z.s24=e=>new Wo(3,e);Z.s32=e=>new Wo(4,e);Z.s40=e=>new Wo(5,e);Z.s48=e=>new Wo(6,e);var mr=Z.ns64=e=>new _2(e);Z.s16be=e=>new rc(2,e);Z.s24be=e=>new rc(3,e);Z.s32be=e=>new rc(4,e);Z.s40be=e=>new rc(5,e);Z.s48be=e=>new rc(6,e);Z.ns64be=e=>new A2(e);Z.f32=e=>new I2(e);Z.f32be=e=>new T2(e);Z.f64=e=>new R2(e);Z.f64be=e=>new N2(e);var we=Z.struct=(e,t,n)=>new M2(e,t,n);Z.bits=(e,t,n)=>new Mg(e,t,n);var Dn=Z.seq=(e,t,n)=>new C2(e,t,n);Z.union=(e,t,n)=>new Cg(e,t,n);Z.unionLayoutDiscriminator=(e,t)=>new bd(e,t);var ft=Z.blob=(e,t)=>new O2(e,t);Z.cstr=e=>new P2(e);Z.utf8=(e,t)=>new L2(e,t);Z.constant=(e,t)=>new j2(e,t);var a3=8078011;function $2(e){return Array.isArray(e)?"%5B"+e.map($2).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function c3([e,t]){return`${e}=${$2(t)}`}function u3(e){const t=Object.entries(e).map(c3).join("&");return btoa(t)}function l3(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${u3(t)}'`),`${n}\``}}var d3=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=l3(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},f3=8078e3,h3=8078001,p3=8078002,m3=8078004,g3=8078005,y3=8078006,hp=8078013,b3=8078014;function D2(e){return Array.isArray(e)?"%5B"+e.map(D2).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function w3([e,t]){return`${e}=${D2(t)}`}function x3(e){const t=Object.entries(e).map(w3).join("&");return btoa(t)}function v3(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${x3(t)}'`),`${n}\``}}var ms=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=v3(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},E3=(e,t)=>{if(e.length>=t)return e;const n=new Uint8Array(t).fill(0);return n.set(e),n},S3=(e,t)=>E3(e.length<=t?e:e.slice(0,t),t);function Ki(e,t,n){const r=n===0&&e.length===t.length?e:e.slice(n,n+t.length);return r.length!==t.length?!1:t.every((s,i)=>s===r[i])}function ka(e,t){return"fixedSize"in t?t.fixedSize:t.getSizeFromValue(e)}function ln(e){return Object.freeze({...e,encode:t=>{const n=new Uint8Array(ka(t,e));return e.write(t,n,0),n}})}function Ot(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}function _t(e){return"fixedSize"in e&&typeof e.fixedSize=="number"}function _3(e){if(!_t(e))throw new ms(p3)}function A3(e){return!_t(e)}function z2(e,t){if(_t(e)!==_t(t))throw new ms(m3);if(_t(e)&&_t(t)&&e.fixedSize!==t.fixedSize)throw new ms(g3,{decoderFixedSize:t.fixedSize,encoderFixedSize:e.fixedSize});if(!_t(e)&&!_t(t)&&e.maxSize!==t.maxSize)throw new ms(y3,{decoderMaxSize:t.maxSize,encoderMaxSize:e.maxSize});return{...t,...e,decode:t.decode,encode:e.encode,read:t.read,write:e.write}}function I3(e,t,n=0){if(t.length-n<=0)throw new ms(f3,{codecDescription:e})}function Bg(e,t,n,r=0){const s=n.length-r;if(s<t)throw new ms(h3,{bytesLength:s,codecDescription:e,expected:t})}function wd(e,t,n){if(t<0||t>n)throw new ms(b3,{bytesLength:n,codecDescription:e,offset:t})}function U2(e,t){const n=(o,a,c)=>{const u=e.encode(o);return c=t.write(u.length,a,c),a.set(u,c),c+u.length};if(_t(t)&&_t(e))return ln({...e,fixedSize:t.fixedSize+e.fixedSize,write:n});const r=_t(t)?t.fixedSize:t.maxSize??null,s=_t(e)?e.fixedSize:e.maxSize??null,i=r!==null&&s!==null?r+s:null;return ln({...e,...i!==null?{maxSize:i}:{},getSizeFromValue:o=>{const a=ka(o,e);return ka(a,t)+a},write:n})}function et(e,t){const n=(o,a)=>{const[c,u]=t.read(o,a),l=Number(c);return a=u,(a>0||o.length>l)&&(o=o.slice(a,a+l)),Bg("addDecoderSizePrefix",l,o),[e.decode(o),a+l]};if(_t(t)&&_t(e))return Ot({...e,fixedSize:t.fixedSize+e.fixedSize,read:n});const r=_t(t)?t.fixedSize:t.maxSize??null,s=_t(e)?e.fixedSize:e.maxSize??null,i=r!==null&&s!==null?r+s:null;return Ot({...e,...i!==null?{maxSize:i}:{},read:n})}function uf(e,t){return ln({fixedSize:t,write:(n,r,s)=>{const i=e.encode(n),o=i.length>t?i.slice(0,t):i;return r.set(o,s),s+t}})}function sc(e,t){return Ot({fixedSize:t,read:(n,r)=>{Bg("fixCodecSize",t,n,r),(r>0||n.length>t)&&(n=n.slice(r,r+t)),_t(e)&&(n=S3(n,e.fixedSize));const[s]=e.read(n,0);return[s,r+t]}})}function T3(e,t){return ln({...e,write:(n,r,s)=>{const i=u=>F2(u,r.length),o=t.preOffset?t.preOffset({bytes:r,preOffset:s,wrapBytes:i}):s;wd("offsetEncoder",o,r.length);const a=e.write(n,r,o),c=t.postOffset?t.postOffset({bytes:r,newPreOffset:o,postOffset:a,preOffset:s,wrapBytes:i}):a;return wd("offsetEncoder",c,r.length),c}})}function R3(e,t){return Ot({...e,read:(n,r)=>{const s=u=>F2(u,n.length),i=t.preOffset?t.preOffset({bytes:n,preOffset:r,wrapBytes:s}):r;wd("offsetDecoder",i,n.length);const[o,a]=e.read(n,i),c=t.postOffset?t.postOffset({bytes:n,newPreOffset:i,postOffset:a,preOffset:r,wrapBytes:s}):a;return wd("offsetDecoder",c,n.length),[o,c]}})}function F2(e,t){return t===0?0:(e%t+t)%t}function N3(e,t){if(_t(e)){const n=t(e.fixedSize);if(n<0)throw new ms(hp,{bytesLength:n,codecDescription:"resizeEncoder"});return ln({...e,fixedSize:n})}return ln({...e,getSizeFromValue:n=>{const r=t(e.getSizeFromValue(n));if(r<0)throw new ms(hp,{bytesLength:r,codecDescription:"resizeEncoder"});return r}})}function C3(e,t){if(_t(e)){const n=t(e.fixedSize);if(n<0)throw new ms(hp,{bytesLength:n,codecDescription:"resizeDecoder"});return Ot({...e,fixedSize:n})}return e}function M3(e,t){return T3(N3(e,n=>n+t),{preOffset:({preOffset:n})=>n+t})}function k3(e,t){return R3(C3(e,n=>n+t),{postOffset:({postOffset:n})=>n+t})}function Is(e,t){return ln({...A3(e)?{...e,getSizeFromValue:n=>e.getSizeFromValue(t(n))}:e,write:(n,r,s)=>e.write(t(n),r,s)})}function Pr(e,t){return Ot({...e,read:(n,r)=>{const[s,i]=e.read(n,r);return[t(s,n,r),i]}})}function W2(e,t,n,r){if(r<t||r>n)throw new d3(a3,{codecDescription:e,max:n,min:t,value:r})}function V2(e){return(e==null?void 0:e.endian)!==1}function Og(e){return ln({fixedSize:e.size,write(t,n,r){e.range&&W2(e.name,e.range[0],e.range[1],t);const s=new ArrayBuffer(e.size);return e.set(new DataView(s),t,V2(e.config)),n.set(new Uint8Array(s),r),r+e.size}})}function ic(e){return Ot({fixedSize:e.size,read(t,n=0){I3(e.name,t,n),Bg(e.name,e.size,t,n);const r=new DataView(B3(t,n,e.size));return[e.get(r,V2(e.config)),n+e.size]}})}function B3(e,t,n){const r=e.byteOffset+(t??0),s=n??e.byteLength;return e.buffer.slice(r,r+s)}var i1=(e={})=>ic({config:e,get:(t,n)=>t.getFloat64(0,n),name:"f64",size:8}),o1=(e={})=>ic({config:e,get:(t,n)=>t.getInt16(0,n),name:"i16",size:2}),xr=()=>ln({getSizeFromValue:e=>e<=127?1:e<=16383?2:3,maxSize:3,write:(e,t,n)=>{W2("shortU16",0,65535,e);const r=[0];for(let s=0;;s+=1){const i=Number(e)>>s*7;if(i===0)break;const o=127&i;r[s]=o,s>0&&(r[s-1]|=128)}return t.set(r,n),n+r.length}}),Li=()=>Ot({maxSize:3,read:(e,t)=>{let n=0,r=0;for(;++r;){const s=r-1,i=e[t+s],o=127&i;if(n|=o<<s*7,!(i&128))break}return[n,t+r]}}),ot=(e={})=>ic({config:e,get:(t,n)=>t.getUint16(0,n),name:"u16",size:2}),q2=(e={})=>Og({config:e,name:"u32",range:[0,+"0xffffffff"],set:(t,n,r)=>t.setUint32(0,Number(n),r),size:4}),Ws=(e={})=>ic({config:e,get:(t,n)=>t.getUint32(0,n),name:"u32",size:4}),Pg=(e={})=>Og({config:e,name:"u64",range:[0n,BigInt("0xffffffffffffffff")],set:(t,n,r)=>t.setBigUint64(0,BigInt(n),r),size:8}),jn=(e={})=>ic({config:e,get:(t,n)=>t.getBigUint64(0,n),name:"u64",size:8}),O3=(e={})=>z2(Pg(e),jn(e)),pn=()=>Og({name:"u8",range:[0,+"0xff"],set:(e,t)=>e.setUint8(0,Number(t)),size:1}),ws=()=>ic({get:e=>e.getUint8(0),name:"u8",size:1});class P3 extends TypeError{constructor(t,n){let r;const{message:s,explanation:i,...o}=t,{path:a}=t,c=a.length===0?s:`At path: ${a.join(".")} -- ${s}`;super(i??c),i!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[t,...n()])}}function L3(e){return Lu(e)&&typeof e[Symbol.iterator]=="function"}function Lu(e){return typeof e=="object"&&e!=null}function xd(e){return Lu(e)&&!Array.isArray(e)}function Xr(e){return typeof e=="symbol"?e.toString():typeof e=="string"?JSON.stringify(e):`${e}`}function j3(e){const{done:t,value:n}=e.next();return t?void 0:n}function $3(e,t,n,r){if(e===!0)return;e===!1?e={}:typeof e=="string"&&(e={message:e});const{path:s,branch:i}=t,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Xr(r)}\``}=e;return{value:r,type:o,refinement:a,key:s[s.length-1],path:s,branch:i,...e,message:c}}function*a1(e,t,n,r){L3(e)||(e=[e]);for(const s of e){const i=$3(s,t,n,r);i&&(yield i)}}function*Lg(e,t,n={}){const{path:r=[],branch:s=[e],coerce:i=!1,mask:o=!1}=n,a={path:r,branch:s,mask:o};i&&(e=t.coercer(e,a));let c="valid";for(const u of t.validator(e,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of t.entries(e,a)){const p=Lg(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?s:[...s,l],coerce:i,mask:o,message:n.message});for(const h of p)h[0]?(c=h[0].refinement!=null?"not_refined":"not_valid",yield[h[0],void 0]):i&&(l=h[1],u===void 0?e=l:e instanceof Map?e.set(u,l):e instanceof Set?e.add(l):Lu(e)&&(l!==void 0||u in e)&&(e[u]=l))}if(c!=="not_valid")for(const u of t.refiner(e,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,e])}let Ts=class{constructor(t){const{type:n,schema:r,validator:s,refiner:i,coercer:o=c=>c,entries:a=function*(){}}=t;this.type=n,this.schema=r,this.entries=a,this.coercer=o,s?this.validator=(c,u)=>{const l=s(c,u);return a1(l,u,this,c)}:this.validator=()=>[],i?this.refiner=(c,u)=>{const l=i(c,u);return a1(l,u,this,c)}:this.refiner=()=>[]}assert(t,n){return D3(t,this,n)}create(t,n){return ue(t,this,n)}is(t){return H2(t,this)}mask(t,n){return z3(t,this,n)}validate(t,n={}){return ju(t,this,n)}};function D3(e,t,n){const r=ju(e,t,{message:n});if(r[0])throw r[0]}function ue(e,t,n){const r=ju(e,t,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function z3(e,t,n){const r=ju(e,t,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function H2(e,t){return!ju(e,t)[0]}function ju(e,t,n={}){const r=Lg(e,t,n),s=j3(r);return s[0]?[new P3(s[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,s[1]]}function Vo(e,t){return new Ts({type:e,schema:null,validator:t})}function U3(){return Vo("any",()=>!0)}function le(e){return new Ts({type:"array",schema:e,*entries(t){if(e&&Array.isArray(t))for(const[n,r]of t.entries())yield[n,r,e]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||`Expected an array value, but received: ${Xr(t)}`}})}function xs(){return Vo("boolean",e=>typeof e=="boolean")}function jg(e){return Vo("instance",t=>t instanceof e||`Expected a \`${e.name}\` instance, but received: ${Xr(t)}`)}function St(e){const t=Xr(e),n=typeof e;return new Ts({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?e:null,validator(r){return r===e||`Expected the literal \`${t}\`, but received: ${Xr(r)}`}})}function F3(){return Vo("never",()=>!1)}function de(e){return new Ts({...e,validator:(t,n)=>t===null||e.validator(t,n),refiner:(t,n)=>t===null||e.refiner(t,n)})}function G(){return Vo("number",e=>typeof e=="number"&&!isNaN(e)||`Expected a number, but received: ${Xr(e)}`)}function Ae(e){return new Ts({...e,validator:(t,n)=>t===void 0||e.validator(t,n),refiner:(t,n)=>t===void 0||e.refiner(t,n)})}function G2(e,t){return new Ts({type:"record",schema:null,*entries(n){if(Lu(n))for(const r in n){const s=n[r];yield[r,r,e],yield[r,s,t]}},validator(n){return xd(n)||`Expected an object, but received: ${Xr(n)}`},coercer(n){return xd(n)?{...n}:n}})}function ce(){return Vo("string",e=>typeof e=="string"||`Expected a string, but received: ${Xr(e)}`)}function $g(e){const t=F3();return new Ts({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(e.length,n.length);for(let s=0;s<r;s++)yield[s,n[s],e[s]||t]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Xr(n)}`},coercer(n){return Array.isArray(n)?n.slice():n}})}function re(e){const t=Object.keys(e);return new Ts({type:"type",schema:e,*entries(n){if(Lu(n))for(const r of t)yield[r,n[r],e[r]]},validator(n){return xd(n)||`Expected an object, but received: ${Xr(n)}`},coercer(n){return xd(n)?{...n}:n}})}function Yn(e){const t=e.map(n=>n.type).join(" | ");return new Ts({type:"union",schema:null,coercer(n,r){for(const s of e){const[i,o]=s.validate(n,{coerce:!0,mask:r.mask});if(!i)return o}return n},validator(n,r){const s=[];for(const i of e){const[...o]=Lg(n,i,r),[a]=o;if(a[0])for(const[c]of o)c&&s.push(c);else return[]}return[`Expected the value to satisfy a union of \`${t}\`, but received: ${Xr(n)}`,...s]}})}function oc(){return Vo("unknown",()=>!0)}function $u(e,t,n){return new Ts({...e,coercer:(r,s)=>H2(r,t)?e.coercer(n(r,s),s):e.coercer(r,s)})}var Al,W3=new Uint8Array(16);function K2(){if(!Al&&(Al=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Al))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Al(W3)}const V3=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function lf(e){return typeof e=="string"&&V3.test(e)}var En=[];for(var Fh=0;Fh<256;++Fh)En.push((Fh+256).toString(16).substr(1));function df(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(En[e[t+0]]+En[e[t+1]]+En[e[t+2]]+En[e[t+3]]+"-"+En[e[t+4]]+En[e[t+5]]+"-"+En[e[t+6]]+En[e[t+7]]+"-"+En[e[t+8]]+En[e[t+9]]+"-"+En[e[t+10]]+En[e[t+11]]+En[e[t+12]]+En[e[t+13]]+En[e[t+14]]+En[e[t+15]]).toLowerCase();if(!lf(n))throw TypeError("Stringified UUID is invalid");return n}var c1,Wh,Vh=0,qh=0;function q3(e,t,n){var r=t&&n||0,s=t||new Array(16);e=e||{};var i=e.node||c1,o=e.clockseq!==void 0?e.clockseq:Wh;if(i==null||o==null){var a=e.random||(e.rng||K2)();i==null&&(i=c1=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Wh=(a[6]<<8|a[7])&16383)}var c=e.msecs!==void 0?e.msecs:Date.now(),u=e.nsecs!==void 0?e.nsecs:qh+1,l=c-Vh+(u-qh)/1e4;if(l<0&&e.clockseq===void 0&&(o=o+1&16383),(l<0||c>Vh)&&e.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Vh=c,qh=u,Wh=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;s[r++]=d>>>24&255,s[r++]=d>>>16&255,s[r++]=d>>>8&255,s[r++]=d&255;var p=c/4294967296*1e4&268435455;s[r++]=p>>>8&255,s[r++]=p&255,s[r++]=p>>>24&15|16,s[r++]=p>>>16&255,s[r++]=o>>>8|128,s[r++]=o&255;for(var h=0;h<6;++h)s[r+h]=i[h];return t||df(s)}function Z2(e){if(!lf(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function H3(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var G3="6ba7b810-9dad-11d1-80b4-00c04fd430c8",K3="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function Y2(e,t,n){function r(s,i,o,a){if(typeof s=="string"&&(s=H3(s)),typeof i=="string"&&(i=Z2(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+s.length);if(c.set(i),c.set(s,i.length),c=n(c),c[6]=c[6]&15|t,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return df(c)}try{r.name=e}catch{}return r.DNS=G3,r.URL=K3,r}function Z3(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return Y3(J3(Q3(e),e.length*8))}function Y3(e){for(var t=[],n=e.length*32,r="0123456789abcdef",s=0;s<n;s+=8){var i=e[s>>5]>>>s%32&255,o=parseInt(r.charAt(i>>>4&15)+r.charAt(i&15),16);t.push(o)}return t}function J2(e){return(e+64>>>9<<4)+14+1}function J3(e,t){e[t>>5]|=128<<t%32,e[J2(t)-1]=t;for(var n=1732584193,r=-271733879,s=-1732584194,i=271733878,o=0;o<e.length;o+=16){var a=n,c=r,u=s,l=i;n=Mn(n,r,s,i,e[o],7,-680876936),i=Mn(i,n,r,s,e[o+1],12,-389564586),s=Mn(s,i,n,r,e[o+2],17,606105819),r=Mn(r,s,i,n,e[o+3],22,-1044525330),n=Mn(n,r,s,i,e[o+4],7,-176418897),i=Mn(i,n,r,s,e[o+5],12,1200080426),s=Mn(s,i,n,r,e[o+6],17,-1473231341),r=Mn(r,s,i,n,e[o+7],22,-45705983),n=Mn(n,r,s,i,e[o+8],7,1770035416),i=Mn(i,n,r,s,e[o+9],12,-1958414417),s=Mn(s,i,n,r,e[o+10],17,-42063),r=Mn(r,s,i,n,e[o+11],22,-1990404162),n=Mn(n,r,s,i,e[o+12],7,1804603682),i=Mn(i,n,r,s,e[o+13],12,-40341101),s=Mn(s,i,n,r,e[o+14],17,-1502002290),r=Mn(r,s,i,n,e[o+15],22,1236535329),n=kn(n,r,s,i,e[o+1],5,-165796510),i=kn(i,n,r,s,e[o+6],9,-1069501632),s=kn(s,i,n,r,e[o+11],14,643717713),r=kn(r,s,i,n,e[o],20,-373897302),n=kn(n,r,s,i,e[o+5],5,-701558691),i=kn(i,n,r,s,e[o+10],9,38016083),s=kn(s,i,n,r,e[o+15],14,-660478335),r=kn(r,s,i,n,e[o+4],20,-405537848),n=kn(n,r,s,i,e[o+9],5,568446438),i=kn(i,n,r,s,e[o+14],9,-1019803690),s=kn(s,i,n,r,e[o+3],14,-187363961),r=kn(r,s,i,n,e[o+8],20,1163531501),n=kn(n,r,s,i,e[o+13],5,-1444681467),i=kn(i,n,r,s,e[o+2],9,-51403784),s=kn(s,i,n,r,e[o+7],14,1735328473),r=kn(r,s,i,n,e[o+12],20,-1926607734),n=Bn(n,r,s,i,e[o+5],4,-378558),i=Bn(i,n,r,s,e[o+8],11,-2022574463),s=Bn(s,i,n,r,e[o+11],16,1839030562),r=Bn(r,s,i,n,e[o+14],23,-35309556),n=Bn(n,r,s,i,e[o+1],4,-1530992060),i=Bn(i,n,r,s,e[o+4],11,1272893353),s=Bn(s,i,n,r,e[o+7],16,-155497632),r=Bn(r,s,i,n,e[o+10],23,-1094730640),n=Bn(n,r,s,i,e[o+13],4,681279174),i=Bn(i,n,r,s,e[o],11,-358537222),s=Bn(s,i,n,r,e[o+3],16,-722521979),r=Bn(r,s,i,n,e[o+6],23,76029189),n=Bn(n,r,s,i,e[o+9],4,-640364487),i=Bn(i,n,r,s,e[o+12],11,-421815835),s=Bn(s,i,n,r,e[o+15],16,530742520),r=Bn(r,s,i,n,e[o+2],23,-995338651),n=On(n,r,s,i,e[o],6,-198630844),i=On(i,n,r,s,e[o+7],10,1126891415),s=On(s,i,n,r,e[o+14],15,-1416354905),r=On(r,s,i,n,e[o+5],21,-57434055),n=On(n,r,s,i,e[o+12],6,1700485571),i=On(i,n,r,s,e[o+3],10,-1894986606),s=On(s,i,n,r,e[o+10],15,-1051523),r=On(r,s,i,n,e[o+1],21,-2054922799),n=On(n,r,s,i,e[o+8],6,1873313359),i=On(i,n,r,s,e[o+15],10,-30611744),s=On(s,i,n,r,e[o+6],15,-1560198380),r=On(r,s,i,n,e[o+13],21,1309151649),n=On(n,r,s,i,e[o+4],6,-145523070),i=On(i,n,r,s,e[o+11],10,-1120210379),s=On(s,i,n,r,e[o+2],15,718787259),r=On(r,s,i,n,e[o+9],21,-343485551),n=Ni(n,a),r=Ni(r,c),s=Ni(s,u),i=Ni(i,l)}return[n,r,s,i]}function Q3(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(J2(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function Ni(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function X3(e,t){return e<<t|e>>>32-t}function ff(e,t,n,r,s,i){return Ni(X3(Ni(Ni(t,e),Ni(r,i)),s),n)}function Mn(e,t,n,r,s,i,o){return ff(t&n|~t&r,e,t,s,i,o)}function kn(e,t,n,r,s,i,o){return ff(t&r|n&~r,e,t,s,i,o)}function Bn(e,t,n,r,s,i,o){return ff(t^n^r,e,t,s,i,o)}function On(e,t,n,r,s,i,o){return ff(n^(t|~r),e,t,s,i,o)}var e4=Y2("v3",48,Z3);function t4(e,t,n){e=e||{};var r=e.random||(e.rng||K2)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=r[s];return t}return df(r)}function n4(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Hh(e,t){return e<<t|e>>>32-t}function r4(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var s=0;s<r.length;++s)e.push(r.charCodeAt(s))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,o=Math.ceil(i/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=e[c*64+l*4]<<24|e[c*64+l*4+1]<<16|e[c*64+l*4+2]<<8|e[c*64+l*4+3];a[c]=u}a[o-1][14]=(e.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(e.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var p=new Uint32Array(80),h=0;h<16;++h)p[h]=a[d][h];for(var g=16;g<80;++g)p[g]=Hh(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var y=n[0],E=n[1],S=n[2],M=n[3],_=n[4],T=0;T<80;++T){var O=Math.floor(T/20),$=Hh(y,5)+n4(O,E,S,M)+_+t[O]+p[T]>>>0;_=M,M=S,S=Hh(E,30)>>>0,E=y,y=$}n[0]=n[0]+y>>>0,n[1]=n[1]+E>>>0,n[2]=n[2]+S>>>0,n[3]=n[3]+M>>>0,n[4]=n[4]+_>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var s4=Y2("v5",80,r4);const i4="00000000-0000-0000-0000-000000000000";function o4(e){if(!lf(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}const a4=Object.freeze(Object.defineProperty({__proto__:null,NIL:i4,parse:Z2,stringify:df,v1:q3,v3:e4,v4:t4,v5:s4,validate:lf,version:o4},Symbol.toStringTag,{value:"Module"})),Q2=ug(a4),c4=Q2.v4,u4=function(e,t,n,r){if(typeof e!="string")throw new TypeError(e+" must be a string");r=r||{};const s=typeof r.version=="number"?r.version:2;if(s!==1&&s!==2)throw new TypeError(s+" must be 1 or 2");const i={method:e};if(s===2&&(i.jsonrpc="2.0"),t){if(typeof t!="object"&&!Array.isArray(t))throw new TypeError(t+" must be an object, array or omitted");i.params=t}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return c4()};i.id=o(i,r)}else s===2&&n===null?r.notificationIdNull&&(i.id=null):i.id=n;return i};var l4=u4;const d4=Q2.v4,f4=l4,Gc=function(e,t){if(!(this instanceof Gc))return new Gc(e,t);t||(t={}),this.options={reviver:typeof t.reviver<"u"?t.reviver:null,replacer:typeof t.replacer<"u"?t.replacer:null,generator:typeof t.generator<"u"?t.generator:function(){return d4()},version:typeof t.version<"u"?t.version:2,notificationIdNull:typeof t.notificationIdNull=="boolean"?t.notificationIdNull:!1},this.callServer=e};var h4=Gc;Gc.prototype.request=function(e,t,n,r){const s=this;let i=null;const o=Array.isArray(e)&&typeof t=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&e&&typeof e=="object"&&typeof t=="function")r=t,i=e;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{i=f4(e,t,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return i}let c;try{c=JSON.stringify(i,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){s._parseResponse(u,l,r)}),i};Gc.prototype._parseResponse=function(e,t,n){if(e){n(e);return}if(!t)return n();let r;try{r=JSON.parse(t,this.options.reviver)}catch(s){return n(s)}if(n.length===3)if(Array.isArray(r)){const s=function(o){return typeof o.error<"u"},i=function(o){return!s(o)};return n(null,r.filter(s),r.filter(i))}else return n(null,r.error,r.result);n(null,r)};const p4=Nu(h4);var X2={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function i(c,u,l,d,p){if(typeof l!="function")throw new TypeError("The listener must be a function");var h=new s(l,d||c,p),g=n?n+u:u;return c._events[g]?c._events[g].fn?c._events[g]=[c._events[g],h]:c._events[g].push(h):(c._events[g]=h,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)t.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,h=d.length,g=new Array(h);p<h;p++)g[p]=d[p].fn;return g},a.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,p,h,g){var y=n?n+u:u;if(!this._events[y])return!1;var E=this._events[y],S=arguments.length,M,_;if(E.fn){switch(E.once&&this.removeListener(u,E.fn,void 0,!0),S){case 1:return E.fn.call(E.context),!0;case 2:return E.fn.call(E.context,l),!0;case 3:return E.fn.call(E.context,l,d),!0;case 4:return E.fn.call(E.context,l,d,p),!0;case 5:return E.fn.call(E.context,l,d,p,h),!0;case 6:return E.fn.call(E.context,l,d,p,h,g),!0}for(_=1,M=new Array(S-1);_<S;_++)M[_-1]=arguments[_];E.fn.apply(E.context,M)}else{var T=E.length,O;for(_=0;_<T;_++)switch(E[_].once&&this.removeListener(u,E[_].fn,void 0,!0),S){case 1:E[_].fn.call(E[_].context);break;case 2:E[_].fn.call(E[_].context,l);break;case 3:E[_].fn.call(E[_].context,l,d);break;case 4:E[_].fn.call(E[_].context,l,d,p);break;default:if(!M)for(O=1,M=new Array(S-1);O<S;O++)M[O-1]=arguments[O];E[_].fn.apply(E[_].context,M)}}return!0},a.prototype.on=function(u,l,d){return i(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return i(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,p){var h=n?n+u:u;if(!this._events[h])return this;if(!l)return o(this,h),this;var g=this._events[h];if(g.fn)g.fn===l&&(!p||g.once)&&(!d||g.context===d)&&o(this,h);else{for(var y=0,E=[],S=g.length;y<S;y++)(g[y].fn!==l||p&&!g[y].once||d&&g[y].context!==d)&&E.push(g[y]);E.length?this._events[h]=E.length===1?E[0]:E:o(this,h)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(X2);var m4=X2.exports;const Dg=Nu(m4);var g4=class extends Dg{constructor(t,n){super();_e(this,"socket");this.socket=new window.WebSocket(t,n.protocols),this.socket.onopen=()=>this.emit("open"),this.socket.onmessage=r=>this.emit("message",r.data),this.socket.onerror=r=>this.emit("error",r),this.socket.onclose=r=>{this.emit("close",r.code,r.reason)}}send(t,n,r){const s=r||n;try{this.socket.send(t),s()}catch(i){s(i)}}close(t,n){this.socket.close(t,n)}addEventListener(t,n,r){this.socket.addEventListener(t,n,r)}};function y4(e,t){return new g4(e,t)}var b4=class{encode(e){return JSON.stringify(e)}decode(e){return JSON.parse(e)}},w4=class extends Dg{constructor(t,n="ws://localhost:8080",{autoconnect:r=!0,reconnect:s=!0,reconnect_interval:i=1e3,max_reconnects:o=5,...a}={},c,u){super();_e(this,"address");_e(this,"rpc_id");_e(this,"queue");_e(this,"options");_e(this,"autoconnect");_e(this,"ready");_e(this,"reconnect");_e(this,"reconnect_timer_id");_e(this,"reconnect_interval");_e(this,"max_reconnects");_e(this,"rest_options");_e(this,"current_reconnects");_e(this,"generate_request_id");_e(this,"socket");_e(this,"webSocketFactory");_e(this,"dataPack");this.webSocketFactory=t,this.queue={},this.rpc_id=0,this.address=n,this.autoconnect=r,this.ready=!1,this.reconnect=s,this.reconnect_timer_id=void 0,this.reconnect_interval=i,this.max_reconnects=o,this.rest_options=a,this.current_reconnects=0,this.generate_request_id=c||(()=>typeof this.rpc_id=="number"?++this.rpc_id:Number(this.rpc_id)+1),u?this.dataPack=u:this.dataPack=new b4,this.autoconnect&&this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}connect(){this.socket||this._connect(this.address,{autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects,...this.rest_options})}call(t,n,r,s){return!s&&typeof r=="object"&&(s=r,r=null),new Promise((i,o)=>{if(!this.ready)return o(new Error("socket not ready"));const a=this.generate_request_id(t,n),c={jsonrpc:"2.0",method:t,params:n||void 0,id:a};this.socket.send(this.dataPack.encode(c),s,u=>{if(u)return o(u);this.queue[a]={promise:[i,o]},r&&(this.queue[a].timeout=setTimeout(()=>{delete this.queue[a],o(new Error("reply timeout"))},r))})})}async login(t){const n=await this.call("rpc.login",t);if(!n)throw new Error("authentication failed");return n}async listMethods(){return await this.call("__listMethods")}notify(t,n){return new Promise((r,s)=>{if(!this.ready)return s(new Error("socket not ready"));const i={jsonrpc:"2.0",method:t,params:n};this.socket.send(this.dataPack.encode(i),o=>{if(o)return s(o);r()})})}async subscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.on",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed subscribing to an event '"+t+"' with: "+n[t]);return n}async unsubscribe(t){typeof t=="string"&&(t=[t]);const n=await this.call("rpc.off",t);if(typeof t=="string"&&n[t]!=="ok")throw new Error("Failed unsubscribing from an event with: "+n);return n}close(t,n){this.socket&&this.socket.close(t||1e3,n)}setAutoReconnect(t){this.reconnect=t}setReconnectInterval(t){this.reconnect_interval=t}setMaxReconnects(t){this.max_reconnects=t}getCurrentReconnects(){return this.current_reconnects}getMaxReconnects(){return this.max_reconnects}isReconnecting(){return this.reconnect_timer_id!==void 0}willReconnect(){return this.reconnect&&(this.max_reconnects===0||this.current_reconnects<this.max_reconnects)}_connect(t,n){clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(t,n),this.socket.addEventListener("open",()=>{this.ready=!0,this.emit("open"),this.current_reconnects=0}),this.socket.addEventListener("message",({data:r})=>{r instanceof ArrayBuffer&&(r=Be.Buffer.from(r).toString());try{r=this.dataPack.decode(r)}catch{return}if(r.notification&&this.listeners(r.notification).length){if(!Object.keys(r.params).length)return this.emit(r.notification);const s=[r.notification];if(r.params.constructor===Object)s.push(r.params);else for(let i=0;i<r.params.length;i++)s.push(r.params[i]);return Promise.resolve().then(()=>{this.emit.apply(this,s)})}if(!this.queue[r.id])return r.method?Promise.resolve().then(()=>{this.emit(r.method,r==null?void 0:r.params)}):void 0;"error"in r=="result"in r&&this.queue[r.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),this.queue[r.id].timeout&&clearTimeout(this.queue[r.id].timeout),r.error?this.queue[r.id].promise[1](r.error):this.queue[r.id].promise[0](r.result),delete this.queue[r.id]}),this.socket.addEventListener("error",r=>this.emit("error",r)),this.socket.addEventListener("close",({code:r,reason:s})=>{this.ready&&setTimeout(()=>this.emit("close",r,s),0),this.ready=!1,this.socket=void 0,r!==1e3&&(this.current_reconnects++,this.reconnect&&(this.max_reconnects>this.current_reconnects||this.max_reconnects===0)?this.reconnect_timer_id=setTimeout(()=>this._connect(t,n),this.reconnect_interval):this.reconnect&&this.max_reconnects>0&&this.current_reconnects>=this.max_reconnects&&setTimeout(()=>this.emit("max_reconnects_reached",r,s),1))})}};const x4=BigInt(0),xc=BigInt(1),v4=BigInt(2),E4=BigInt(7),S4=BigInt(256),_4=BigInt(113),eE=[],tE=[],nE=[];for(let e=0,t=xc,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],eE.push(2*(5*r+n)),tE.push((e+1)*(e+2)/2%64);let s=x4;for(let i=0;i<7;i++)t=(t<<xc^(t>>E4)*_4)%S4,t&v4&&(s^=xc<<(xc<<BigInt(i))-xc);nE.push(s)}const rE=Wv(nE,!0),A4=rE[0],I4=rE[1],u1=(e,t,n)=>n>32?z8(e,t,n):$8(e,t,n),l1=(e,t,n)=>n>32?U8(e,t,n):D8(e,t,n);function T4(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let o=0;o<10;o++)n[o]=e[o]^e[o+10]^e[o+20]^e[o+30]^e[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=u1(u,l,1)^n[a],p=l1(u,l,1)^n[a+1];for(let h=0;h<50;h+=10)e[o+h]^=d,e[o+h+1]^=p}let s=e[2],i=e[3];for(let o=0;o<24;o++){const a=tE[o],c=u1(s,i,a),u=l1(s,i,a),l=eE[o];s=e[l],i=e[l+1],e[l]=c,e[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=e[o+a];for(let a=0;a<10;a++)e[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=A4[r],e[1]^=I4[r]}Pi(n)}class zg extends gg{constructor(t,n,r,s=!1,i=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=i,Ra(r),!(0<t&&t<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=R8(this.state)}clone(){return this._cloneInto()}keccak(){qb(this.state32),T4(this.state32,this.rounds),qb(this.state32),this.posOut=0,this.pos=0}update(t){Na(this),t=nf(t),ti(t);const{blockLen:n,state:r}=this,s=t.length;for(let i=0;i<s;){const o=Math.min(n-this.pos,s-i);for(let a=0;a<o;a++)r[this.pos++]^=t[i++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){Na(this,!1),ti(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,i=t.length;s<i;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,i-s);t.set(n.subarray(this.posOut,this.posOut+o),s),this.posOut+=o,s+=o}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return Ra(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(zv(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Pi(this.state)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:i,enableXOF:o}=this;return t||(t=new zg(n,r,s,o,i)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=i,t.suffix=r,t.outputLen=s,t.enableXOF=o,t.destroyed=this.destroyed,t}}const R4=(e,t,n)=>yg(()=>new zg(t,e,n)),sE=R4(1,136,256/8);class iE extends gg{constructor(t,n){super(),this.finished=!1,this.destroyed=!1,Dv(t);const r=nf(n);if(this.iHash=t.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,i=new Uint8Array(s);i.set(r.length>s?t.create().update(r).digest():r);for(let o=0;o<i.length;o++)i[o]^=54;this.iHash.update(i),this.oHash=t.create();for(let o=0;o<i.length;o++)i[o]^=106;this.oHash.update(i),Pi(i)}update(t){return Na(this),this.iHash.update(t),this}digestInto(t){Na(this),ti(t,this.outputLen),this.finished=!0,this.iHash.digestInto(t),this.oHash.update(t),this.oHash.digestInto(t),this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);return this.digestInto(t),t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:s,destroyed:i,blockLen:o,outputLen:a}=this;return t=t,t.finished=s,t.destroyed=i,t.blockLen=o,t.outputLen=a,t.oHash=n._cloneInto(t.oHash),t.iHash=r._cloneInto(t.iHash),t}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const Ug=(e,t,n)=>new iE(e,t).update(n).digest();Ug.create=(e,t)=>new iE(e,t);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const d1=(e,t)=>(e+(e>=0?t:-t)/oE)/t;function N4(e,t,n){const[[r,s],[i,o]]=t,a=d1(o*e,n),c=d1(-s*e,n);let u=e-a*r-c*i,l=-a*s-c*o;const d=u<Ks,p=l<Ks;d&&(u=-u),p&&(l=-l);const h=Bu(Math.ceil(Gv(n)/2))+wa;if(u<Ks||u>=h||l<Ks||l>=h)throw new Error("splitScalar (endomorphism): failed, k="+e);return{k1neg:d,k1:u,k2neg:p,k2:l}}function pp(e){if(!["compact","recovered","der"].includes(e))throw new Error('Signature format must be "compact", "recovered", or "der"');return e}function Gh(e,t){const n={};for(let r of Object.keys(t))n[r]=e[r]===void 0?t[r]:e[r];return xo(n.lowS,"lowS"),xo(n.prehash,"prehash"),n.format!==void 0&&pp(n.format),n}let C4=class extends Error{constructor(t=""){super(t)}};const Ds={Err:C4,_tlv:{encode:(e,t)=>{const{Err:n}=Ds;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=El(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?El(s.length/2|128):"";return El(e)+i+s+t},decode(e,t){const{Err:n}=Ds;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Ds;if(e<Ks)throw new t("integer: negative integers are not allowed");let n=El(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Ds;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return sf(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Ds,s=Mt("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Ds,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}},Ks=BigInt(0),wa=BigInt(1),oE=BigInt(2),Il=BigInt(3),M4=BigInt(4);function da(e,t){const{BYTES:n}=e;let r;if(typeof t=="bigint")r=t;else{let s=Mt("private key",t);try{r=e.fromBytes(s)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof t}`)}}if(!e.isValidNot0(r))throw new Error("invalid private key: out of range [1..N-1]");return r}function k4(e,t={}){const n=u2("weierstrass",e,t),{Fp:r,Fn:s}=n;let i=n.CURVE;const{h:o,n:a}=i;Ou(t,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:c}=t;if(c&&(!r.is0(i.a)||typeof c.beta!="bigint"||!Array.isArray(c.basises)))throw new Error('invalid endo: expected "beta": bigint and "basises": array');const u=cE(r,s);function l(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function d(q,I,f){const{x:m,y:v}=I.toAffine(),R=r.toBytes(m);if(xo(f,"isCompressed"),f){l();const A=!r.isOdd(v);return Hr(aE(A),R)}else return Hr(Uint8Array.of(4),R,r.toBytes(v))}function p(q){Kr(q,void 0,"Point");const{publicKey:I,publicKeyUncompressed:f}=u,m=q.length,v=q[0],R=q.subarray(1);if(m===I&&(v===2||v===3)){const A=r.fromBytes(R);if(!r.isValid(A))throw new Error("bad point: is not on curve, wrong x");const B=y(A);let j;try{j=r.sqrt(B)}catch(P){const X=P instanceof Error?": "+P.message:"";throw new Error("bad point: is not on curve, sqrt error"+X)}l();const C=r.isOdd(j);return(v&1)===1!==C&&(j=r.neg(j)),{x:A,y:j}}else if(m===f&&v===4){const A=r.BYTES,B=r.fromBytes(R.subarray(0,A)),j=r.fromBytes(R.subarray(A,A*2));if(!E(B,j))throw new Error("bad point: is not on curve");return{x:B,y:j}}else throw new Error(`bad point: got length ${m}, expected compressed=${I} or uncompressed=${f}`)}const h=t.toBytes||d,g=t.fromBytes||p;function y(q){const I=r.sqr(q),f=r.mul(I,q);return r.add(r.add(f,r.mul(q,i.a)),i.b)}function E(q,I){const f=r.sqr(I),m=y(q);return r.eql(f,m)}if(!E(i.Gx,i.Gy))throw new Error("bad curve params: generator point");const S=r.mul(r.pow(i.a,Il),M4),M=r.mul(r.sqr(i.b),BigInt(27));if(r.is0(r.add(S,M)))throw new Error("bad curve params: a or b");function _(q,I,f=!1){if(!r.isValid(I)||f&&r.is0(I))throw new Error(`bad point coordinate ${q}`);return I}function T(q){if(!(q instanceof U))throw new Error("ProjectivePoint expected")}function O(q){if(!c||!c.basises)throw new Error("no endo");return N4(q,c.basises,s.ORDER)}const $=fd((q,I)=>{const{X:f,Y:m,Z:v}=q;if(r.eql(v,r.ONE))return{x:f,y:m};const R=q.is0();I==null&&(I=R?r.ONE:r.inv(v));const A=r.mul(f,I),B=r.mul(m,I),j=r.mul(v,I);if(R)return{x:r.ZERO,y:r.ZERO};if(!r.eql(j,r.ONE))throw new Error("invZ was invalid");return{x:A,y:B}}),D=fd(q=>{if(q.is0()){if(t.allowInfinityPoint&&!r.is0(q.Y))return;throw new Error("bad point: ZERO")}const{x:I,y:f}=q.toAffine();if(!r.isValid(I)||!r.isValid(f))throw new Error("bad point: x or y not field elements");if(!E(I,f))throw new Error("bad point: equation left != right");if(!q.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function z(q,I,f,m,v){return f=new U(r.mul(f.X,q),f.Y,f.Z),I=hd(m,I),f=hd(v,f),I.add(f)}class U{constructor(I,f,m){this.X=_("x",I),this.Y=_("y",f,!0),this.Z=_("z",m),Object.freeze(this)}static CURVE(){return i}static fromAffine(I){const{x:f,y:m}=I||{};if(!I||!r.isValid(f)||!r.isValid(m))throw new Error("invalid affine point");if(I instanceof U)throw new Error("projective point not allowed");return r.is0(f)&&r.is0(m)?U.ZERO:new U(f,m,r.ONE)}static fromBytes(I){const f=U.fromAffine(g(Kr(I,void 0,"point")));return f.assertValidity(),f}static fromHex(I){return U.fromBytes(Mt("pointHex",I))}get x(){return this.toAffine().x}get y(){return this.toAffine().y}precompute(I=8,f=!0){return W.createCache(this,I),f||this.multiply(Il),this}assertValidity(){D(this)}hasEvenY(){const{y:I}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(I)}equals(I){T(I);const{X:f,Y:m,Z:v}=this,{X:R,Y:A,Z:B}=I,j=r.eql(r.mul(f,B),r.mul(R,v)),C=r.eql(r.mul(m,B),r.mul(A,v));return j&&C}negate(){return new U(this.X,r.neg(this.Y),this.Z)}double(){const{a:I,b:f}=i,m=r.mul(f,Il),{X:v,Y:R,Z:A}=this;let B=r.ZERO,j=r.ZERO,C=r.ZERO,b=r.mul(v,v),P=r.mul(R,R),X=r.mul(A,A),ee=r.mul(v,R);return ee=r.add(ee,ee),C=r.mul(v,A),C=r.add(C,C),B=r.mul(I,C),j=r.mul(m,X),j=r.add(B,j),B=r.sub(P,j),j=r.add(P,j),j=r.mul(B,j),B=r.mul(ee,B),C=r.mul(m,C),X=r.mul(I,X),ee=r.sub(b,X),ee=r.mul(I,ee),ee=r.add(ee,C),C=r.add(b,b),b=r.add(C,b),b=r.add(b,X),b=r.mul(b,ee),j=r.add(j,b),X=r.mul(R,A),X=r.add(X,X),b=r.mul(X,ee),B=r.sub(B,b),C=r.mul(X,P),C=r.add(C,C),C=r.add(C,C),new U(B,j,C)}add(I){T(I);const{X:f,Y:m,Z:v}=this,{X:R,Y:A,Z:B}=I;let j=r.ZERO,C=r.ZERO,b=r.ZERO;const P=i.a,X=r.mul(i.b,Il);let ee=r.mul(f,R),oe=r.mul(m,A),he=r.mul(v,B),Se=r.add(f,m),be=r.add(R,A);Se=r.mul(Se,be),be=r.add(ee,oe),Se=r.sub(Se,be),be=r.add(f,v);let He=r.add(R,B);return be=r.mul(be,He),He=r.add(ee,he),be=r.sub(be,He),He=r.add(m,v),j=r.add(A,B),He=r.mul(He,j),j=r.add(oe,he),He=r.sub(He,j),b=r.mul(P,be),j=r.mul(X,he),b=r.add(j,b),j=r.sub(oe,b),b=r.add(oe,b),C=r.mul(j,b),oe=r.add(ee,ee),oe=r.add(oe,ee),he=r.mul(P,he),be=r.mul(X,be),oe=r.add(oe,he),he=r.sub(ee,he),he=r.mul(P,he),be=r.add(be,he),ee=r.mul(oe,be),C=r.add(C,ee),ee=r.mul(He,be),j=r.mul(Se,j),j=r.sub(j,ee),ee=r.mul(Se,oe),b=r.mul(He,b),b=r.add(b,ee),new U(j,C,b)}subtract(I){return this.add(I.negate())}is0(){return this.equals(U.ZERO)}multiply(I){const{endo:f}=t;if(!s.isValidNot0(I))throw new Error("invalid scalar: out of range");let m,v;const R=A=>W.cached(this,A,B=>Qi(U,B));if(f){const{k1neg:A,k1:B,k2neg:j,k2:C}=O(I),{p:b,f:P}=R(B),{p:X,f:ee}=R(C);v=P.add(ee),m=z(f.beta,b,X,A,j)}else{const{p:A,f:B}=R(I);m=A,v=B}return Qi(U,[m,v])[0]}multiplyUnsafe(I){const{endo:f}=t,m=this;if(!s.isValid(I))throw new Error("invalid scalar: out of range");if(I===Ks||m.is0())return U.ZERO;if(I===wa)return m;if(W.hasCache(this))return this.multiply(I);if(f){const{k1neg:v,k1:R,k2neg:A,k2:B}=O(I),{p1:j,p2:C}=pR(U,m,R,B);return z(f.beta,j,C,v,A)}else return W.unsafe(m,I)}multiplyAndAddUnsafe(I,f,m){const v=this.multiplyUnsafe(f).add(I.multiplyUnsafe(m));return v.is0()?void 0:v}toAffine(I){return $(this,I)}isTorsionFree(){const{isTorsionFree:I}=t;return o===wa?!0:I?I(U,this):W.unsafe(this,a).is0()}clearCofactor(){const{clearCofactor:I}=t;return o===wa?this:I?I(U,this):this.multiplyUnsafe(o)}isSmallOrder(){return this.multiplyUnsafe(o).is0()}toBytes(I=!0){return xo(I,"isCompressed"),this.assertValidity(),h(U,this,I)}toHex(I=!0){return co(this.toBytes(I))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}get px(){return this.X}get py(){return this.X}get pz(){return this.Z}toRawBytes(I=!0){return this.toBytes(I)}_setWindowSize(I){this.precompute(I)}static normalizeZ(I){return Qi(U,I)}static msm(I,f){return c2(U,s,I,f)}static fromPrivateKey(I){return U.BASE.multiply(da(s,I))}}U.BASE=new U(i.Gx,i.Gy,r.ONE),U.ZERO=new U(r.ZERO,r.ONE,r.ZERO),U.Fp=r,U.Fn=s;const K=s.BITS,W=new a2(U,t.endo?Math.ceil(K/2):K);return U.BASE.precompute(8),U}function aE(e){return Uint8Array.of(e?2:3)}function cE(e,t){return{secretKey:t.BYTES,publicKey:1+e.BYTES,publicKeyUncompressed:1+2*e.BYTES,publicKeyHasPrefix:!0,signature:2*t.BYTES}}function B4(e,t={}){const{Fn:n}=e,r=t.randomBytes||rf,s=Object.assign(cE(e.Fp,n),{seed:s2(n.ORDER)});function i(h){try{return!!da(n,h)}catch{return!1}}function o(h,g){const{publicKey:y,publicKeyUncompressed:E}=s;try{const S=h.length;return g===!0&&S!==y||g===!1&&S!==E?!1:!!e.fromBytes(h)}catch{return!1}}function a(h=r(s.seed)){return dR(Kr(h,s.seed,"seed"),n.ORDER)}function c(h,g=!0){return e.BASE.multiply(da(n,h)).toBytes(g)}function u(h){const g=a(h);return{secretKey:g,publicKey:c(g)}}function l(h){if(typeof h=="bigint")return!1;if(h instanceof e)return!0;const{secretKey:g,publicKey:y,publicKeyUncompressed:E}=s;if(n.allowedLengths||g===y)return;const S=Mt("key",h).length;return S===y||S===E}function d(h,g,y=!0){if(l(h)===!0)throw new Error("first arg must be private key");if(l(g)===!1)throw new Error("second arg must be public key");const E=da(n,h);return e.fromHex(g).multiply(E).toBytes(y)}return Object.freeze({getPublicKey:c,getSharedSecret:d,keygen:u,Point:e,utils:{isValidSecretKey:i,isValidPublicKey:o,randomSecretKey:a,isValidPrivateKey:i,randomPrivateKey:a,normPrivateKeyToScalar:h=>da(n,h),precompute(h=8,g=e.BASE){return g.precompute(h,!1)}},lengths:s})}function O4(e,t,n={}){Dv(t),Ou(n,{},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const r=n.randomBytes||rf,s=n.hmac||((f,...m)=>Ug(t,f,Hr(...m))),{Fp:i,Fn:o}=e,{ORDER:a,BITS:c}=o,{keygen:u,getPublicKey:l,getSharedSecret:d,utils:p,lengths:h}=B4(e,n),g={prehash:!1,lowS:typeof n.lowS=="boolean"?n.lowS:!1,format:void 0,extraEntropy:!1},y="compact";function E(f){const m=a>>wa;return f>m}function S(f,m){if(!o.isValidNot0(m))throw new Error(`invalid signature ${f}: out of range 1..Point.Fn.ORDER`);return m}function M(f,m){pp(m);const v=h.signature,R=m==="compact"?v:m==="recovered"?v+1:void 0;return Kr(f,R,`${m} signature`)}class _{constructor(m,v,R){this.r=S("r",m),this.s=S("s",v),R!=null&&(this.recovery=R),Object.freeze(this)}static fromBytes(m,v=y){M(m,v);let R;if(v==="der"){const{r:C,s:b}=Ds.toSig(Kr(m));return new _(C,b)}v==="recovered"&&(R=m[0],v="compact",m=m.subarray(1));const A=o.BYTES,B=m.subarray(0,A),j=m.subarray(A,A*2);return new _(o.fromBytes(B),o.fromBytes(j),R)}static fromHex(m,v){return this.fromBytes(dd(m),v)}addRecoveryBit(m){return new _(this.r,this.s,m)}recoverPublicKey(m){const v=i.ORDER,{r:R,s:A,recovery:B}=this;if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");if(a*oE<v&&B>1)throw new Error("recovery id is ambiguous for h>1 curve");const C=B===2||B===3?R+a:R;if(!i.isValid(C))throw new Error("recovery id 2 or 3 invalid");const b=i.toBytes(C),P=e.fromBytes(Hr(aE((B&1)===0),b)),X=o.inv(C),ee=O(Mt("msgHash",m)),oe=o.create(-ee*X),he=o.create(A*X),Se=e.BASE.multiplyUnsafe(oe).add(P.multiplyUnsafe(he));if(Se.is0())throw new Error("point at infinify");return Se.assertValidity(),Se}hasHighS(){return E(this.s)}toBytes(m=y){if(pp(m),m==="der")return dd(Ds.hexFromSig(this));const v=o.toBytes(this.r),R=o.toBytes(this.s);if(m==="recovered"){if(this.recovery==null)throw new Error("recovery bit must be present");return Hr(Uint8Array.of(this.recovery),v,R)}return Hr(v,R)}toHex(m){return co(this.toBytes(m))}assertValidity(){}static fromCompact(m){return _.fromBytes(Mt("sig",m),"compact")}static fromDER(m){return _.fromBytes(Mt("sig",m),"der")}normalizeS(){return this.hasHighS()?new _(this.r,o.neg(this.s),this.recovery):this}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return co(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return co(this.toBytes("compact"))}}const T=n.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const v=sf(m),R=m.length*8-c;return R>0?v>>BigInt(R):v},O=n.bits2int_modN||function(m){return o.create(T(m))},$=Bu(c);function D(f){return up("num < 2^"+c,f,Ks,$),o.toBytes(f)}function z(f,m){return Kr(f,void 0,"message"),m?Kr(t(f),void 0,"prehashed message"):f}function U(f,m,v){if(["recovered","canonical"].some(oe=>oe in v))throw new Error("sign() legacy options not supported");const{lowS:R,prehash:A,extraEntropy:B}=Gh(v,g);f=z(f,A);const j=O(f),C=da(o,m),b=[D(C),D(j)];if(B!=null&&B!==!1){const oe=B===!0?r(h.secretKey):B;b.push(Mt("extraEntropy",oe))}const P=Hr(...b),X=j;function ee(oe){const he=T(oe);if(!o.isValidNot0(he))return;const Se=o.inv(he),be=e.BASE.multiply(he).toAffine(),He=o.create(be.x);if(He===Ks)return;const Ve=o.create(Se*o.create(X+He*C));if(Ve===Ks)return;let Ue=(be.x===He?0:2)|Number(be.y&wa),jt=Ve;return R&&E(Ve)&&(jt=o.neg(Ve),Ue^=1),new _(He,jt,Ue)}return{seed:P,k2sig:ee}}function K(f,m,v={}){f=Mt("message",f);const{seed:R,k2sig:A}=U(f,m,v);return tR(t.outputLen,o.BYTES,s)(R,A)}function W(f){let m;const v=typeof f=="string"||ku(f),R=!v&&f!==null&&typeof f=="object"&&typeof f.r=="bigint"&&typeof f.s=="bigint";if(!v&&!R)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");if(R)m=new _(f.r,f.s);else if(v){try{m=_.fromBytes(Mt("sig",f),"der")}catch(A){if(!(A instanceof Ds.Err))throw A}if(!m)try{m=_.fromBytes(Mt("sig",f),"compact")}catch{return!1}}return m||!1}function q(f,m,v,R={}){const{lowS:A,prehash:B,format:j}=Gh(R,g);if(v=Mt("publicKey",v),m=z(Mt("message",m),B),"strict"in R)throw new Error("options.strict was renamed to lowS");const C=j===void 0?W(f):_.fromBytes(Mt("sig",f),j);if(C===!1)return!1;try{const b=e.fromBytes(v);if(A&&C.hasHighS())return!1;const{r:P,s:X}=C,ee=O(m),oe=o.inv(X),he=o.create(ee*oe),Se=o.create(P*oe),be=e.BASE.multiplyUnsafe(he).add(b.multiplyUnsafe(Se));return be.is0()?!1:o.create(be.x)===P}catch{return!1}}function I(f,m,v={}){const{prehash:R}=Gh(v,g);return m=z(m,R),_.fromBytes(f,"recovered").recoverPublicKey(m).toBytes()}return Object.freeze({keygen:u,getPublicKey:l,getSharedSecret:d,utils:p,lengths:h,Point:e,sign:K,verify:q,recoverPublicKey:I,Signature:_,hash:t})}function P4(e){const t={a:e.a,b:e.b,p:e.Fp.ORDER,n:e.n,h:e.h,Gx:e.Gx,Gy:e.Gy},n=e.Fp;let r=e.allowedPrivateKeyLengths?Array.from(new Set(e.allowedPrivateKeyLengths.map(o=>Math.ceil(o/2)))):void 0;const s=Fo(t.n,{BITS:e.nBitLength,allowedLengths:r,modFromBytes:e.wrapPrivateKey}),i={Fp:n,Fn:s,allowInfinityPoint:e.allowInfinityPoint,endo:e.endo,isTorsionFree:e.isTorsionFree,clearCofactor:e.clearCofactor,fromBytes:e.fromBytes,toBytes:e.toBytes};return{CURVE:t,curveOpts:i}}function L4(e){const{CURVE:t,curveOpts:n}=P4(e),r={hmac:e.hmac,randomBytes:e.randomBytes,lowS:e.lowS,bits2int:e.bits2int,bits2int_modN:e.bits2int_modN};return{CURVE:t,curveOpts:n,hash:e.hash,ecdsaOpts:r}}function j4(e,t){const n=t.Point;return Object.assign({},t,{ProjectivePoint:n,CURVE:Object.assign({},e,n2(n.Fn.ORDER,n.Fn.BITS))})}function $4(e){const{CURVE:t,curveOpts:n,hash:r,ecdsaOpts:s}=L4(e),i=k4(t,n),o=O4(i,r,s);return j4(e,o)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function D4(e,t){const n=r=>$4({...e,hash:r});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Fg={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:BigInt(1),a:BigInt(0),b:BigInt(7),Gx:BigInt("0x79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798"),Gy:BigInt("0x483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8")},z4={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),basises:[[BigInt("0x3086d221a7d46bcde86c90e49284eb15"),-BigInt("0xe4437ed6010e88286f547fa90abfe4c3")],[BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),BigInt("0x3086d221a7d46bcde86c90e49284eb15")]]},f1=BigInt(2);function U4(e){const t=Fg.p,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Ct(l,n,t)*l%t,p=Ct(d,n,t)*l%t,h=Ct(p,f1,t)*u%t,g=Ct(h,s,t)*h%t,y=Ct(g,i,t)*g%t,E=Ct(y,a,t)*y%t,S=Ct(E,c,t)*E%t,M=Ct(S,a,t)*y%t,_=Ct(M,n,t)*l%t,T=Ct(_,o,t)*g%t,O=Ct(T,r,t)*u%t,$=Ct(O,f1,t);if(!mp.eql(mp.sqr($),e))throw new Error("Cannot find square root");return $}const mp=Fo(Fg.p,{sqrt:U4}),F4=D4({...Fg,Fp:mp,lowS:!0,endo:z4},bg);Pu.utils.randomPrivateKey;Pu.getPublicKey;function h1(e){try{return Pu.ExtendedPoint.fromHex(e),!0}catch{return!1}}const uE=(e,t)=>Pu.sign(e,t.slice(0,32)),W4=Pu.verify,Ba=e=>Be.Buffer.isBuffer(e)?e:e instanceof Uint8Array?Be.Buffer.from(e.buffer,e.byteOffset,e.byteLength):Be.Buffer.from(e);class V4{constructor(t){Object.assign(this,t)}encode(){return Be.Buffer.from(w2(jl,this))}static decode(t){return x2(jl,this,t)}static decodeUnchecked(t){return p2(jl,this,t)}}const jl=new Map;var lE;const q4=32,ki=32;function H4(e){return e._bn!==void 0}let p1=1;class Ie extends V4{constructor(t){if(super({}),this._bn=void 0,H4(t))this._bn=t._bn;else{if(typeof t=="string"){const n=Tn.decode(t);if(n.length!=ki)throw new Error("Invalid public key input");this._bn=new s1(n)}else this._bn=new s1(t);if(this._bn.byteLength()>ki)throw new Error("Invalid public key input")}}static unique(){const t=new Ie(p1);return p1+=1,new Ie(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return Tn.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(Be.Buffer);if(t.length===ki)return t;const n=Be.Buffer.alloc(32);return t.copy(n,32-t.length),n}get[Symbol.toStringTag](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,n,r){const s=Be.Buffer.concat([t.toBuffer(),Be.Buffer.from(n),r.toBuffer()]),i=dp(s);return new Ie(i)}static createProgramAddressSync(t,n){let r=Be.Buffer.alloc(0);t.forEach(function(i){if(i.length>q4)throw new TypeError("Max seed length exceeded");r=Be.Buffer.concat([r,Ba(i)])}),r=Be.Buffer.concat([r,n.toBuffer(),Be.Buffer.from("ProgramDerivedAddress")]);const s=dp(r);if(h1(s))throw new Error("Invalid seeds, address must fall off the curve");return new Ie(s)}static async createProgramAddress(t,n){return this.createProgramAddressSync(t,n)}static findProgramAddressSync(t,n){let r=255,s;for(;r!=0;){try{const i=t.concat(Be.Buffer.from([r]));s=this.createProgramAddressSync(i,n)}catch(i){if(i instanceof TypeError)throw i;r--;continue}return[s,r]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,n){return this.findProgramAddressSync(t,n)}static isOnCurve(t){const n=new Ie(t);return h1(n.toBytes())}}lE=Ie;Ie.default=new lE("11111111111111111111111111111111");jl.set(Ie,{kind:"struct",fields:[["_bn","u256"]]});new Ie("BPFLoader1111111111111111111111111111111111");const xa=1232,Wg=127,vd=64;class dE extends Error{constructor(t){super(`Signature ${t} has expired: block height exceeded.`),this.signature=void 0,this.signature=t}}Object.defineProperty(dE.prototype,"name",{value:"TransactionExpiredBlockheightExceededError"});class fE extends Error{constructor(t,n){super(`Transaction was not confirmed in ${n.toFixed(2)} seconds. It is unknown if it succeeded or failed. Check signature ${t} using the Solana Explorer or CLI tools.`),this.signature=void 0,this.signature=t}}Object.defineProperty(fE.prototype,"name",{value:"TransactionExpiredTimeoutError"});class kc extends Error{constructor(t){super(`Signature ${t} has expired: the nonce is no longer valid.`),this.signature=void 0,this.signature=t}}Object.defineProperty(kc.prototype,"name",{value:"TransactionExpiredNonceInvalidError"});class Ed{constructor(t,n){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=n}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const n of this.keySegments()){if(t<n.length)return n[t];t-=n.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>256)throw new Error("Account index overflow encountered during compilation");const r=new Map;this.keySegments().flat().forEach((i,o)=>{r.set(i.toBase58(),o)});const s=i=>{const o=r.get(i.toBase58());if(o===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return o};return t.map(i=>({programIdIndex:s(i.programId),accountKeyIndexes:i.keys.map(o=>s(o.pubkey)),data:i.data}))}}const Fe=(e="publicKey")=>ft(32,e),G4=(e="signature")=>ft(64,e),fa=(e="string")=>{const t=we([Te("length"),Te("lengthPadding"),ft(uo(Te(),-8),"chars")],e),n=t.decode.bind(t),r=t.encode.bind(t),s=t;return s.decode=(i,o)=>n(i,o).chars.toString(),s.encode=(i,o,a)=>{const c={chars:Be.Buffer.from(i,"utf8")};return r(c,o,a)},s.alloc=i=>Te().span+Te().span+Be.Buffer.from(i,"utf8").length,s},K4=(e="authorized")=>we([Fe("staker"),Fe("withdrawer")],e),Z4=(e="lockup")=>we([mr("unixTimestamp"),mr("epoch"),Fe("custodian")],e),Y4=(e="voteInit")=>we([Fe("nodePubkey"),Fe("authorizedVoter"),Fe("authorizedWithdrawer"),tt("commission")],e),J4=(e="voteAuthorizeWithSeedArgs")=>we([Te("voteAuthorizationType"),Fe("currentAuthorityDerivedKeyOwnerPubkey"),fa("currentAuthorityDerivedKeySeed"),Fe("newAuthorized")],e);function gr(e){let t=0,n=0;for(;;){let r=e.shift();if(t|=(r&127)<<n*7,n+=1,!(r&128))break}return t}function yr(e,t){let n=t;for(;;){let r=n&127;if(n>>=7,n==0){e.push(r);break}else r|=128,e.push(r)}}function yt(e,t){if(!e)throw new Error(t||"Assertion failed")}class hf{constructor(t,n){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=n}static compile(t,n){const r=new Map,s=o=>{const a=o.toBase58();let c=r.get(a);return c===void 0&&(c={isSigner:!1,isWritable:!1,isInvoked:!1},r.set(a,c)),c},i=s(n);i.isSigner=!0,i.isWritable=!0;for(const o of t){s(o.programId).isInvoked=!0;for(const a of o.keys){const c=s(a.pubkey);c.isSigner||(c.isSigner=a.isSigner),c.isWritable||(c.isWritable=a.isWritable)}}return new hf(n,r)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];yt(t.length<=256,"Max static account keys length exceeded");const n=t.filter(([,c])=>c.isSigner&&c.isWritable),r=t.filter(([,c])=>c.isSigner&&!c.isWritable),s=t.filter(([,c])=>!c.isSigner&&c.isWritable),i=t.filter(([,c])=>!c.isSigner&&!c.isWritable),o={numRequiredSignatures:n.length+r.length,numReadonlySignedAccounts:r.length,numReadonlyUnsignedAccounts:i.length};{yt(n.length>0,"Expected at least one writable signer key");const[c]=n[0];yt(c===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...n.map(([c])=>new Ie(c)),...r.map(([c])=>new Ie(c)),...s.map(([c])=>new Ie(c)),...i.map(([c])=>new Ie(c))];return[o,a]}extractTableLookup(t){const[n,r]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&o.isWritable),[s,i]=this.drainKeysFoundInLookupTable(t.state.addresses,o=>!o.isSigner&&!o.isInvoked&&!o.isWritable);if(!(n.length===0&&s.length===0))return[{accountKey:t.key,writableIndexes:n,readonlyIndexes:s},{writable:r,readonly:i}]}drainKeysFoundInLookupTable(t,n){const r=new Array,s=new Array;for(const[i,o]of this.keyMetaMap.entries())if(n(o)){const a=new Ie(i),c=t.findIndex(u=>u.equals(a));c>=0&&(yt(c<256,"Max lookup table index exceeded"),r.push(c),s.push(a),this.keyMetaMap.delete(i))}return[r,s]}}const hE="Reached end of buffer unexpectedly";function Vs(e){if(e.length===0)throw new Error(hE);return e.shift()}function br(e,...t){const[n]=t;if(t.length===2?n+(t[1]??0)>e.length:n>=e.length)throw new Error(hE);return e.splice(...t)}class vs{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(n=>new Ie(n)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(n=>this.indexToProgramIds.set(n.programIdIndex,this.accountKeys[n.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:Tn.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new Ed(this.staticAccountKeys)}static compile(t){const n=hf.compile(t.instructions,t.payerKey),[r,s]=n.getMessageComponents(),o=new Ed(s).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:Tn.encode(a.data)}));return new vs({header:r,accountKeys:s,recentBlockhash:t.recentBlockhash,instructions:o})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const r=t-n,i=this.accountKeys.length-n-this.header.numReadonlyUnsignedAccounts;return r<i}else{const r=n-this.header.numReadonlySignedAccounts;return t<r}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,n)=>!this.isProgramId(n))}serialize(){const t=this.accountKeys.length;let n=[];yr(n,t);const r=this.instructions.map(d=>{const{accounts:p,programIdIndex:h}=d,g=Array.from(Tn.decode(d.data));let y=[];yr(y,p.length);let E=[];return yr(E,g.length),{programIdIndex:h,keyIndicesCount:Be.Buffer.from(y),keyIndices:p,dataLength:Be.Buffer.from(E),data:g}});let s=[];yr(s,r.length);let i=Be.Buffer.alloc(xa);Be.Buffer.from(s).copy(i);let o=s.length;r.forEach(d=>{const h=we([tt("programIdIndex"),ft(d.keyIndicesCount.length,"keyIndicesCount"),Dn(tt("keyIndex"),d.keyIndices.length,"keyIndices"),ft(d.dataLength.length,"dataLength"),Dn(tt("userdatum"),d.data.length,"data")]).encode(d,i,o);o+=h}),i=i.slice(0,o);const a=we([ft(1,"numRequiredSignatures"),ft(1,"numReadonlySignedAccounts"),ft(1,"numReadonlyUnsignedAccounts"),ft(n.length,"keyCount"),Dn(Fe("key"),t,"keys"),Fe("recentBlockhash")]),c={numRequiredSignatures:Be.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:Be.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:Be.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:Be.Buffer.from(n),keys:this.accountKeys.map(d=>Ba(d.toBytes())),recentBlockhash:Tn.decode(this.recentBlockhash)};let u=Be.Buffer.alloc(2048);const l=a.encode(c,u);return i.copy(u,l),u.slice(0,l+i.length)}static from(t){let n=[...t];const r=Vs(n);if(r!==(r&Wg))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const s=Vs(n),i=Vs(n),o=gr(n);let a=[];for(let p=0;p<o;p++){const h=br(n,0,ki);a.push(new Ie(Be.Buffer.from(h)))}const c=br(n,0,ki),u=gr(n);let l=[];for(let p=0;p<u;p++){const h=Vs(n),g=gr(n),y=br(n,0,g),E=gr(n),S=br(n,0,E),M=Tn.encode(Be.Buffer.from(S));l.push({programIdIndex:h,accounts:y,data:M})}const d={header:{numRequiredSignatures:r,numReadonlySignedAccounts:s,numReadonlyUnsignedAccounts:i},recentBlockhash:Tn.encode(Be.Buffer.from(c)),accountKeys:a,instructions:l};return new vs(d)}}class Kc{constructor(t){this.header=void 0,this.staticAccountKeys=void 0,this.recentBlockhash=void 0,this.compiledInstructions=void 0,this.addressTableLookups=void 0,this.header=t.header,this.staticAccountKeys=t.staticAccountKeys,this.recentBlockhash=t.recentBlockhash,this.compiledInstructions=t.compiledInstructions,this.addressTableLookups=t.addressTableLookups}get version(){return 0}get numAccountKeysFromLookups(){let t=0;for(const n of this.addressTableLookups)t+=n.readonlyIndexes.length+n.writableIndexes.length;return t}getAccountKeys(t){let n;if(t&&"accountKeysFromLookups"in t&&t.accountKeysFromLookups){if(this.numAccountKeysFromLookups!=t.accountKeysFromLookups.writable.length+t.accountKeysFromLookups.readonly.length)throw new Error("Failed to get account keys because of a mismatch in the number of account keys from lookups");n=t.accountKeysFromLookups}else if(t&&"addressLookupTableAccounts"in t&&t.addressLookupTableAccounts)n=this.resolveAddressTableLookups(t.addressLookupTableAccounts);else if(this.addressTableLookups.length>0)throw new Error("Failed to get account keys because address table lookups were not resolved");return new Ed(this.staticAccountKeys,n)}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const n=this.header.numRequiredSignatures,r=this.staticAccountKeys.length;if(t>=r){const s=t-r,i=this.addressTableLookups.reduce((o,a)=>o+a.writableIndexes.length,0);return s<i}else if(t>=this.header.numRequiredSignatures){const s=t-n,o=r-n-this.header.numReadonlyUnsignedAccounts;return s<o}else{const s=n-this.header.numReadonlySignedAccounts;return t<s}}resolveAddressTableLookups(t){const n={writable:[],readonly:[]};for(const r of this.addressTableLookups){const s=t.find(i=>i.key.equals(r.accountKey));if(!s)throw new Error(`Failed to find address lookup table account for table key ${r.accountKey.toBase58()}`);for(const i of r.writableIndexes)if(i<s.state.addresses.length)n.writable.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`);for(const i of r.readonlyIndexes)if(i<s.state.addresses.length)n.readonly.push(s.state.addresses[i]);else throw new Error(`Failed to find address for index ${i} in address lookup table ${r.accountKey.toBase58()}`)}return n}static compile(t){const n=hf.compile(t.instructions,t.payerKey),r=new Array,s={writable:new Array,readonly:new Array},i=t.addressLookupTableAccounts||[];for(const l of i){const d=n.extractTableLookup(l);if(d!==void 0){const[p,{writable:h,readonly:g}]=d;r.push(p),s.writable.push(...h),s.readonly.push(...g)}}const[o,a]=n.getMessageComponents(),u=new Ed(a,s).compileInstructions(t.instructions);return new Kc({header:o,staticAccountKeys:a,recentBlockhash:t.recentBlockhash,compiledInstructions:u,addressTableLookups:r})}serialize(){const t=Array();yr(t,this.staticAccountKeys.length);const n=this.serializeInstructions(),r=Array();yr(r,this.compiledInstructions.length);const s=this.serializeAddressTableLookups(),i=Array();yr(i,this.addressTableLookups.length);const o=we([tt("prefix"),we([tt("numRequiredSignatures"),tt("numReadonlySignedAccounts"),tt("numReadonlyUnsignedAccounts")],"header"),ft(t.length,"staticAccountKeysLength"),Dn(Fe(),this.staticAccountKeys.length,"staticAccountKeys"),Fe("recentBlockhash"),ft(r.length,"instructionsLength"),ft(n.length,"serializedInstructions"),ft(i.length,"addressTableLookupsLength"),ft(s.length,"serializedAddressTableLookups")]),a=new Uint8Array(xa),u=o.encode({prefix:128,header:this.header,staticAccountKeysLength:new Uint8Array(t),staticAccountKeys:this.staticAccountKeys.map(l=>l.toBytes()),recentBlockhash:Tn.decode(this.recentBlockhash),instructionsLength:new Uint8Array(r),serializedInstructions:n,addressTableLookupsLength:new Uint8Array(i),serializedAddressTableLookups:s},a);return a.slice(0,u)}serializeInstructions(){let t=0;const n=new Uint8Array(xa);for(const r of this.compiledInstructions){const s=Array();yr(s,r.accountKeyIndexes.length);const i=Array();yr(i,r.data.length);const o=we([tt("programIdIndex"),ft(s.length,"encodedAccountKeyIndexesLength"),Dn(tt(),r.accountKeyIndexes.length,"accountKeyIndexes"),ft(i.length,"encodedDataLength"),ft(r.data.length,"data")]);t+=o.encode({programIdIndex:r.programIdIndex,encodedAccountKeyIndexesLength:new Uint8Array(s),accountKeyIndexes:r.accountKeyIndexes,encodedDataLength:new Uint8Array(i),data:r.data},n,t)}return n.slice(0,t)}serializeAddressTableLookups(){let t=0;const n=new Uint8Array(xa);for(const r of this.addressTableLookups){const s=Array();yr(s,r.writableIndexes.length);const i=Array();yr(i,r.readonlyIndexes.length);const o=we([Fe("accountKey"),ft(s.length,"encodedWritableIndexesLength"),Dn(tt(),r.writableIndexes.length,"writableIndexes"),ft(i.length,"encodedReadonlyIndexesLength"),Dn(tt(),r.readonlyIndexes.length,"readonlyIndexes")]);t+=o.encode({accountKey:r.accountKey.toBytes(),encodedWritableIndexesLength:new Uint8Array(s),writableIndexes:r.writableIndexes,encodedReadonlyIndexesLength:new Uint8Array(i),readonlyIndexes:r.readonlyIndexes},n,t)}return n.slice(0,t)}static deserialize(t){let n=[...t];const r=Vs(n),s=r&Wg;yt(r!==s,"Expected versioned message but received legacy message");const i=s;yt(i===0,`Expected versioned message with version 0 but found version ${i}`);const o={numRequiredSignatures:Vs(n),numReadonlySignedAccounts:Vs(n),numReadonlyUnsignedAccounts:Vs(n)},a=[],c=gr(n);for(let g=0;g<c;g++)a.push(new Ie(br(n,0,ki)));const u=Tn.encode(br(n,0,ki)),l=gr(n),d=[];for(let g=0;g<l;g++){const y=Vs(n),E=gr(n),S=br(n,0,E),M=gr(n),_=new Uint8Array(br(n,0,M));d.push({programIdIndex:y,accountKeyIndexes:S,data:_})}const p=gr(n),h=[];for(let g=0;g<p;g++){const y=new Ie(br(n,0,ki)),E=gr(n),S=br(n,0,E),M=gr(n),_=br(n,0,M);h.push({accountKey:y,writableIndexes:S,readonlyIndexes:_})}return new Kc({header:o,staticAccountKeys:a,recentBlockhash:u,compiledInstructions:d,addressTableLookups:h})}}const pf={deserializeMessageVersion(e){const t=e[0],n=t&Wg;return n===t?"legacy":n},deserialize:e=>{const t=pf.deserializeMessageVersion(e);if(t==="legacy")return vs.from(e);if(t===0)return Kc.deserialize(e);throw new Error(`Transaction message version ${t} deserialization is not supported`)}};let vi=function(e){return e[e.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",e[e.PROCESSED=1]="PROCESSED",e[e.TIMED_OUT=2]="TIMED_OUT",e[e.NONCE_INVALID=3]="NONCE_INVALID",e}({});const Q4=Be.Buffer.alloc(vd).fill(0);class m1{constructor(t){this.keys=void 0,this.programId=void 0,this.data=Be.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:n,isWritable:r})=>({pubkey:t.toJSON(),isSigner:n,isWritable:r})),programId:this.programId.toJSON(),data:[...this.data]}}}class Mr{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:n,nonceInfo:r}=t;this.minNonceContextSlot=n,this.nonceInfo=r}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:n,lastValidBlockHeight:r}=t;this.recentBlockhash=n,this.lastValidBlockHeight=r}else{const{recentBlockhash:n,nonceInfo:r}=t;r&&(this.nonceInfo=r),this.recentBlockhash=n}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(n=>{"instructions"in n?this.instructions=this.instructions.concat(n.instructions):"data"in n&&"programId"in n&&"keys"in n?this.instructions.push(n):this.instructions.push(new m1(n))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,n;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?n=[this.nonceInfo.nonceInstruction,...this.instructions]:n=this.instructions):(t=this.recentBlockhash,n=this.instructions),!t)throw new Error("Transaction recentBlockhash required");n.length<1&&console.warn("No instructions provided");let r;if(this.feePayer)r=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)r=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let y=0;y<n.length;y++)if(n[y].programId===void 0)throw new Error(`Transaction instruction index ${y} has undefined program id`);const s=[],i=[];n.forEach(y=>{y.keys.forEach(S=>{i.push({...S})});const E=y.programId.toString();s.includes(E)||s.push(E)}),s.forEach(y=>{i.push({pubkey:new Ie(y),isSigner:!1,isWritable:!1})});const o=[];i.forEach(y=>{const E=y.pubkey.toString(),S=o.findIndex(M=>M.pubkey.toString()===E);S>-1?(o[S].isWritable=o[S].isWritable||y.isWritable,o[S].isSigner=o[S].isSigner||y.isSigner):o.push(y)}),o.sort(function(y,E){if(y.isSigner!==E.isSigner)return y.isSigner?-1:1;if(y.isWritable!==E.isWritable)return y.isWritable?-1:1;const S={localeMatcher:"best fit",usage:"sort",sensitivity:"variant",ignorePunctuation:!1,numeric:!1,caseFirst:"lower"};return y.pubkey.toBase58().localeCompare(E.pubkey.toBase58(),"en",S)});const a=o.findIndex(y=>y.pubkey.equals(r));if(a>-1){const[y]=o.splice(a,1);y.isSigner=!0,y.isWritable=!0,o.unshift(y)}else o.unshift({pubkey:r,isSigner:!0,isWritable:!0});for(const y of this.signatures){const E=o.findIndex(S=>S.pubkey.equals(y.publicKey));if(E>-1)o[E].isSigner||(o[E].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${y.publicKey.toString()}`)}let c=0,u=0,l=0;const d=[],p=[];o.forEach(({pubkey:y,isSigner:E,isWritable:S})=>{E?(d.push(y.toString()),c+=1,S||(u+=1)):(p.push(y.toString()),S||(l+=1))});const h=d.concat(p),g=n.map(y=>{const{data:E,programId:S}=y;return{programIdIndex:h.indexOf(S.toString()),accounts:y.keys.map(M=>h.indexOf(M.pubkey.toString())),data:Tn.encode(E)}});return g.forEach(y=>{yt(y.programIdIndex>=0),y.accounts.forEach(E=>yt(E>=0))}),new vs({header:{numRequiredSignatures:c,numReadonlySignedAccounts:u,numReadonlyUnsignedAccounts:l},accountKeys:h,recentBlockhash:t,instructions:g})}_compile(){const t=this.compileMessage(),n=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===n.length&&this.signatures.every((s,i)=>n[i].equals(s.publicKey))||(this.signatures=n.map(r=>({signature:null,publicKey:r}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const n=new Set;this.signatures=t.filter(r=>{const s=r.toString();return n.has(s)?!1:(n.add(s),!0)}).map(r=>({signature:null,publicKey:r}))}sign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}this.signatures=r.map(i=>({signature:null,publicKey:i.publicKey}));const s=this._compile();this._partialSign(s,...r)}partialSign(...t){if(t.length===0)throw new Error("No signers");const n=new Set,r=[];for(const i of t){const o=i.publicKey.toString();n.has(o)||(n.add(o),r.push(i))}const s=this._compile();this._partialSign(s,...r)}_partialSign(t,...n){const r=t.serialize();n.forEach(s=>{const i=uE(r,s.secretKey);this._addSignature(s.publicKey,Ba(i))})}addSignature(t,n){this._compile(),this._addSignature(t,n)}_addSignature(t,n){yt(n.length===64);const r=this.signatures.findIndex(s=>t.equals(s.publicKey));if(r<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[r].signature=Be.Buffer.from(n)}verifySignatures(t=!0){return!this._getMessageSignednessErrors(this.serializeMessage(),t)}_getMessageSignednessErrors(t,n){const r={};for(const{signature:s,publicKey:i}of this.signatures)s===null?n&&(r.missing||(r.missing=[])).push(i):W4(s,t,i.toBytes())||(r.invalid||(r.invalid=[])).push(i);return r.invalid||r.missing?r:void 0}serialize(t){const{requireAllSignatures:n,verifySignatures:r}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),s=this.serializeMessage();if(r){const i=this._getMessageSignednessErrors(s,n);if(i){let o="Signature verification failed.";throw i.invalid&&(o+=`
Invalid signature for public key${i.invalid.length===1?"":"(s)"} [\`${i.invalid.map(a=>a.toBase58()).join("`, `")}\`].`),i.missing&&(o+=`
Missing signature for public key${i.missing.length===1?"":"(s)"} [\`${i.missing.map(a=>a.toBase58()).join("`, `")}\`].`),new Error(o)}}return this._serialize(s)}_serialize(t){const{signatures:n}=this,r=[];yr(r,n.length);const s=r.length+n.length*64+t.length,i=Be.Buffer.alloc(s);return yt(n.length<256),Be.Buffer.from(r).copy(i,0),n.forEach(({signature:o},a)=>{o!==null&&(yt(o.length===64,"signature has invalid length"),Be.Buffer.from(o).copy(i,r.length+a*64))}),t.copy(i,r.length+n.length*64),yt(i.length<=xa,`Transaction too large: ${i.length} > ${xa}`),i}get keys(){return yt(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return yt(this.instructions.length===1),this.instructions[0].programId}get data(){return yt(this.instructions.length===1),this.instructions[0].data}static from(t){let n=[...t];const r=gr(n);let s=[];for(let i=0;i<r;i++){const o=br(n,0,vd);s.push(Tn.encode(Be.Buffer.from(o)))}return Mr.populate(vs.from(n),s)}static populate(t,n=[]){const r=new Mr;return r.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(r.feePayer=t.accountKeys[0]),n.forEach((s,i)=>{const o={signature:s==Tn.encode(Q4)?null:Tn.decode(s),publicKey:t.accountKeys[i]};r.signatures.push(o)}),t.instructions.forEach(s=>{const i=s.accounts.map(o=>{const a=t.accountKeys[o];return{pubkey:a,isSigner:r.signatures.some(c=>c.publicKey.toString()===a.toString())||t.isAccountSigner(o),isWritable:t.isAccountWritable(o)}});r.instructions.push(new m1({keys:i,programId:t.accountKeys[s.programIdIndex],data:Tn.decode(s.data)}))}),r._message=t,r._json=r.toJSON(),r}}class vo{get version(){return this.message.version}constructor(t,n){if(this.signatures=void 0,this.message=void 0,n!==void 0)yt(n.length===t.header.numRequiredSignatures,"Expected signatures length to be equal to the number of required signatures"),this.signatures=n;else{const r=[];for(let s=0;s<t.header.numRequiredSignatures;s++)r.push(new Uint8Array(vd));this.signatures=r}this.message=t}serialize(){const t=this.message.serialize(),n=Array();yr(n,this.signatures.length);const r=we([ft(n.length,"encodedSignaturesLength"),Dn(G4(),this.signatures.length,"signatures"),ft(t.length,"serializedMessage")]),s=new Uint8Array(2048),i=r.encode({encodedSignaturesLength:new Uint8Array(n),signatures:this.signatures,serializedMessage:t},s);return s.slice(0,i)}static deserialize(t){let n=[...t];const r=[],s=gr(n);for(let o=0;o<s;o++)r.push(new Uint8Array(br(n,0,vd)));const i=pf.deserialize(new Uint8Array(n));return new vo(i,r)}sign(t){const n=this.message.serialize(),r=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures);for(const s of t){const i=r.findIndex(o=>o.equals(s.publicKey));yt(i>=0,`Cannot sign with non signer key ${s.publicKey.toBase58()}`),this.signatures[i]=uE(n,s.secretKey)}}addSignature(t,n){yt(n.byteLength===64,"Signature must be 64 bytes long");const s=this.message.staticAccountKeys.slice(0,this.message.header.numRequiredSignatures).findIndex(i=>i.equals(t));yt(s>=0,`Can not add signature; \`${t.toBase58()}\` is not required to sign this transaction`),this.signatures[s]=n}}const X4=160,eN=64,tN=X4/eN,nN=1e3/tN;new Ie("SysvarC1ock11111111111111111111111111111111");new Ie("SysvarEpochSchedu1e111111111111111111111111");new Ie("Sysvar1nstructions1111111111111111111111111");new Ie("SysvarRecentB1ockHashes11111111111111111111");new Ie("SysvarRent111111111111111111111111111111111");new Ie("SysvarRewards111111111111111111111111111111");new Ie("SysvarS1otHashes111111111111111111111111111");new Ie("SysvarS1otHistory11111111111111111111111111");new Ie("SysvarStakeHistory1111111111111111111111111");class g1 extends Error{constructor({action:t,signature:n,transactionMessage:r,logs:s}){const i=s?`Logs: 
${JSON.stringify(s.slice(-10),null,2)}. `:"",o="\nCatch the `SendTransactionError` and call `getLogs()` on it for full details.";let a;switch(t){case"send":a=`Transaction ${n} resulted in an error. 
${r}. `+i+o;break;case"simulate":a=`Simulation failed. 
Message: ${r}. 
`+i+o;break;default:a=`Unknown action '${(c=>c)(t)}'`}super(a),this.signature=void 0,this.transactionMessage=void 0,this.transactionLogs=void 0,this.signature=n,this.transactionMessage=r,this.transactionLogs=s||void 0}get transactionError(){return{message:this.transactionMessage,logs:Array.isArray(this.transactionLogs)?this.transactionLogs:void 0}}get logs(){const t=this.transactionLogs;if(!(t!=null&&typeof t=="object"&&"then"in t))return t}async getLogs(t){return Array.isArray(this.transactionLogs)||(this.transactionLogs=new Promise((n,r)=>{t.getTransaction(this.signature).then(s=>{if(s&&s.meta&&s.meta.logMessages){const i=s.meta.logMessages;this.transactionLogs=i,n(i)}else r(new Error("Log messages not found"))}).catch(r)})),await this.transactionLogs}}class Ee extends Error{constructor({code:t,message:n,data:r},s){super(s!=null?`${s}: ${n}`:n),this.code=void 0,this.data=void 0,this.code=t,this.data=r,this.name="SolanaJSONRPCError"}}function ra(e){return new Promise(t=>setTimeout(t,e))}const rN=Sn("lamportsPerSignature"),pE=we([Te("version"),Te("state"),Fe("authorizedPubkey"),Fe("nonce"),we([rN],"feeCalculator")]);pE.span;class Vg{constructor(t){this.authorizedPubkey=void 0,this.nonce=void 0,this.feeCalculator=void 0,this.authorizedPubkey=t.authorizedPubkey,this.nonce=t.nonce,this.feeCalculator=t.feeCalculator}static fromAccountData(t){const n=pE.decode(Ba(t),0);return new Vg({authorizedPubkey:new Ie(n.authorizedPubkey),nonce:new Ie(n.nonce).toString(),feeCalculator:n.feeCalculator})}}function Oa(e){const t=ft(8,e),n=t.decode.bind(t),r=t.encode.bind(t),s=t,i=O3();return s.decode=(o,a)=>{const c=n(o,a);return i.decode(c)},s.encode=(o,a,c)=>{const u=i.encode(o);return r(u,a,c)},s}Object.freeze({Create:{index:0,layout:we([Te("instruction"),mr("lamports"),mr("space"),Fe("programId")])},Assign:{index:1,layout:we([Te("instruction"),Fe("programId")])},Transfer:{index:2,layout:we([Te("instruction"),Oa("lamports")])},CreateWithSeed:{index:3,layout:we([Te("instruction"),Fe("base"),fa("seed"),mr("lamports"),mr("space"),Fe("programId")])},AdvanceNonceAccount:{index:4,layout:we([Te("instruction")])},WithdrawNonceAccount:{index:5,layout:we([Te("instruction"),mr("lamports")])},InitializeNonceAccount:{index:6,layout:we([Te("instruction"),Fe("authorized")])},AuthorizeNonceAccount:{index:7,layout:we([Te("instruction"),Fe("authorized")])},Allocate:{index:8,layout:we([Te("instruction"),mr("space")])},AllocateWithSeed:{index:9,layout:we([Te("instruction"),Fe("base"),fa("seed"),mr("space"),Fe("programId")])},AssignWithSeed:{index:10,layout:we([Te("instruction"),Fe("base"),fa("seed"),Fe("programId")])},TransferWithSeed:{index:11,layout:we([Te("instruction"),Oa("lamports"),fa("seed"),Fe("programId")])},UpgradeNonceAccount:{index:12,layout:we([Te("instruction")])}});new Ie("11111111111111111111111111111111");new Ie("BPFLoader2111111111111111111111111111111111");function sN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Kh,y1;function iN(){if(y1)return Kh;y1=1;var e=Object.prototype.toString,t=Object.keys||function(r){var s=[];for(var i in r)s.push(i);return s};function n(r,s){var i,o,a,c,u,l,d;if(r===!0)return"true";if(r===!1)return"false";switch(typeof r){case"object":if(r===null)return null;if(r.toJSON&&typeof r.toJSON=="function")return n(r.toJSON(),s);if(d=e.call(r),d==="[object Array]"){for(a="[",o=r.length-1,i=0;i<o;i++)a+=n(r[i],!0)+",";return o>-1&&(a+=n(r[i],!0)),a+"]"}else if(d==="[object Object]"){for(c=t(r).sort(),o=c.length,a="",i=0;i<o;)u=c[i],l=n(r[u],!1),l!==void 0&&(a&&(a+=","),a+=JSON.stringify(u)+":"+l),i++;return"{"+a+"}"}else return JSON.stringify(r);case"function":case"undefined":return s?null:void 0;case"string":return JSON.stringify(r);default:return isFinite(r)?r:null}}return Kh=function(r){var s=n(r,!1);if(s!==void 0)return""+s},Kh}var oN=iN(),b1=sN(oN);const vc=32;function Zh(e){let t=0;for(;e>1;)e/=2,t++;return t}function aN(e){return e===0?1:(e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,e|=e>>32,e+1)}class cN{constructor(t,n,r,s,i){this.slotsPerEpoch=void 0,this.leaderScheduleSlotOffset=void 0,this.warmup=void 0,this.firstNormalEpoch=void 0,this.firstNormalSlot=void 0,this.slotsPerEpoch=t,this.leaderScheduleSlotOffset=n,this.warmup=r,this.firstNormalEpoch=s,this.firstNormalSlot=i}getEpoch(t){return this.getEpochAndSlotIndex(t)[0]}getEpochAndSlotIndex(t){if(t<this.firstNormalSlot){const n=Zh(aN(t+vc+1))-Zh(vc)-1,r=this.getSlotsInEpoch(n),s=t-(r-vc);return[n,s]}else{const n=t-this.firstNormalSlot,r=Math.floor(n/this.slotsPerEpoch),s=this.firstNormalEpoch+r,i=n%this.slotsPerEpoch;return[s,i]}}getFirstSlotInEpoch(t){return t<=this.firstNormalEpoch?(Math.pow(2,t)-1)*vc:(t-this.firstNormalEpoch)*this.slotsPerEpoch+this.firstNormalSlot}getLastSlotInEpoch(t){return this.getFirstSlotInEpoch(t)+this.getSlotsInEpoch(t)-1}getSlotsInEpoch(t){return t<this.firstNormalEpoch?Math.pow(2,t+Zh(vc)):this.slotsPerEpoch}}var uN=globalThis.fetch;class lN extends w4{constructor(t,n,r){const s=i=>{const o=y4(i,{autoconnect:!0,max_reconnects:5,reconnect:!0,reconnect_interval:1e3,...n});return"socket"in o?this.underlyingSocket=o.socket:this.underlyingSocket=o,o};super(s,t,n,r),this.underlyingSocket=void 0}call(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.call(...t):Promise.reject(new Error("Tried to call a JSON-RPC method `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}notify(...t){var r;const n=(r=this.underlyingSocket)==null?void 0:r.readyState;return n===1?super.notify(...t):Promise.reject(new Error("Tried to send a JSON-RPC notification `"+t[0]+"` but the socket was not `CONNECTING` or `OPEN` (`readyState` was "+n+")"))}}function dN(e,t){let n;try{n=e.layout.decode(t)}catch(r){throw new Error("invalid instruction; "+r)}if(n.typeIndex!==e.index)throw new Error(`invalid account data; account type mismatch ${n.typeIndex} != ${e.index}`);return n}const w1=56;class x1{constructor(t){this.key=void 0,this.state=void 0,this.key=t.key,this.state=t.state}isActive(){const t=BigInt("0xffffffffffffffff");return this.state.deactivationSlot===t}static deserialize(t){const n=dN(fN,t),r=t.length-w1;yt(r>=0,"lookup table is invalid"),yt(r%32===0,"lookup table is invalid");const s=r/32,{addresses:i}=we([Dn(Fe(),s,"addresses")]).decode(t.slice(w1));return{deactivationSlot:n.deactivationSlot,lastExtendedSlot:n.lastExtendedSlot,lastExtendedSlotStartIndex:n.lastExtendedStartIndex,authority:n.authority.length!==0?new Ie(n.authority[0]):void 0,addresses:i.map(o=>new Ie(o))}}}const fN={index:1,layout:we([Te("typeIndex"),Oa("deactivationSlot"),Sn("lastExtendedSlot"),tt("lastExtendedStartIndex"),tt(),Dn(Fe(),uo(tt(),-1),"authority")])},hN=/^[^:]+:\/\/([^:[]+|\[[^\]]+\])(:\d+)?(.*)/i;function pN(e){const t=e.match(hN);if(t==null)throw TypeError(`Failed to validate endpoint URL \`${e}\``);const[n,r,s,i]=t,o=e.startsWith("https:")?"wss:":"ws:",a=s==null?null:parseInt(s.slice(1),10),c=a==null?"":`:${a+1}`;return`${o}//${r}${c}${i}`}const It=$u(jg(Ie),ce(),e=>new Ie(e)),mE=$g([ce(),St("base64")]),qg=$u(jg(Be.Buffer),mE,e=>Be.Buffer.from(e[0],"base64")),mN=30*1e3;function gN(e){if(/^https?:/.test(e)===!1)throw new TypeError("Endpoint URL must start with `http:` or `https:`.");return e}function at(e){let t,n;if(typeof e=="string")t=e;else if(e){const{commitment:r,...s}=e;t=r,n=s}return{commitment:t,config:n}}function v1(e){return e.map(t=>"memcmp"in t?{...t,memcmp:{...t.memcmp,encoding:t.memcmp.encoding??"base58"}}:t)}function gE(e){return Yn([re({jsonrpc:St("2.0"),id:ce(),result:e}),re({jsonrpc:St("2.0"),id:ce(),error:re({code:oc(),message:ce(),data:Ae(U3())})})])}const yN=gE(oc());function $e(e){return $u(gE(e),yN,t=>"error"in t?t:{...t,result:ue(t.result,e)})}function Pt(e){return $e(re({context:re({slot:G()}),value:e}))}function mf(e){return re({context:re({slot:G()}),value:e})}function Yh(e,t){return e===0?new Kc({header:t.header,staticAccountKeys:t.accountKeys.map(n=>new Ie(n)),recentBlockhash:t.recentBlockhash,compiledInstructions:t.instructions.map(n=>({programIdIndex:n.programIdIndex,accountKeyIndexes:n.accounts,data:Tn.decode(n.data)})),addressTableLookups:t.addressTableLookups}):new vs(t)}const bN=re({foundation:G(),foundationTerm:G(),initial:G(),taper:G(),terminal:G()}),wN=$e(le(de(re({epoch:G(),effectiveSlot:G(),amount:G(),postBalance:G(),commission:Ae(de(G()))})))),xN=le(re({slot:G(),prioritizationFee:G()})),vN=re({total:G(),validator:G(),foundation:G(),epoch:G()}),EN=re({epoch:G(),slotIndex:G(),slotsInEpoch:G(),absoluteSlot:G(),blockHeight:Ae(G()),transactionCount:Ae(G())}),SN=re({slotsPerEpoch:G(),leaderScheduleSlotOffset:G(),warmup:xs(),firstNormalEpoch:G(),firstNormalSlot:G()}),_N=G2(ce(),le(G())),qo=de(Yn([re({}),ce()])),AN=re({err:qo}),IN=St("receivedSignature"),TN=re({"solana-core":ce(),"feature-set":Ae(G())}),RN=re({program:ce(),programId:It,parsed:oc()}),NN=re({programId:It,accounts:le(It),data:ce()}),E1=Pt(re({err:de(Yn([re({}),ce()])),logs:de(le(ce())),accounts:Ae(de(le(de(re({executable:xs(),owner:ce(),lamports:G(),data:le(ce()),rentEpoch:Ae(G())}))))),unitsConsumed:Ae(G()),returnData:Ae(de(re({programId:ce(),data:$g([ce(),St("base64")])}))),innerInstructions:Ae(de(le(re({index:G(),instructions:le(Yn([RN,NN]))}))))})),CN=Pt(re({byIdentity:G2(ce(),le(G())),range:re({firstSlot:G(),lastSlot:G()})}));function MN(e,t,n,r,s,i){const o=n||uN;let a;i!=null&&console.warn("You have supplied an `httpAgent` when creating a `Connection` in a browser environment.It has been ignored; `httpAgent` is only used in Node environments.");let c;return r&&(c=async(l,d)=>{const p=await new Promise((h,g)=>{try{r(l,d,(y,E)=>h([y,E]))}catch(y){g(y)}});return await o(...p)}),new p4(async(l,d)=>{const p={method:"POST",body:l,agent:a,headers:Object.assign({"Content-Type":"application/json"},t||{},MC)};try{let h=5,g,y=500;for(;c?g=await c(e,p):g=await o(e,p),!(g.status!==429||s===!0||(h-=1,h===0));)console.error(`Server responded with ${g.status} ${g.statusText}.  Retrying after ${y}ms delay...`),await ra(y),y*=2;const E=await g.text();g.ok?d(null,E):d(new Error(`${g.status} ${g.statusText}: ${E}`))}catch(h){h instanceof Error&&d(h)}},{})}function kN(e){return(t,n)=>new Promise((r,s)=>{e.request(t,n,(i,o)=>{if(i){s(i);return}r(o)})})}function BN(e){return t=>new Promise((n,r)=>{t.length===0&&n([]);const s=t.map(i=>e.request(i.methodName,i.args));e.request(s,(i,o)=>{if(i){r(i);return}n(o)})})}const ON=$e(bN),PN=$e(vN),LN=$e(xN),jN=$e(EN),$N=$e(SN),DN=$e(_N),zN=$e(G()),UN=Pt(re({total:G(),circulating:G(),nonCirculating:G(),nonCirculatingAccounts:le(It)})),gp=re({amount:ce(),uiAmount:de(G()),decimals:G(),uiAmountString:Ae(ce())}),FN=Pt(le(re({address:It,amount:ce(),uiAmount:de(G()),decimals:G(),uiAmountString:Ae(ce())}))),WN=Pt(le(re({pubkey:It,account:re({executable:xs(),owner:It,lamports:G(),data:qg,rentEpoch:G()})}))),yp=re({program:ce(),parsed:oc(),space:G()}),VN=Pt(le(re({pubkey:It,account:re({executable:xs(),owner:It,lamports:G(),data:yp,rentEpoch:G()})}))),qN=Pt(le(re({lamports:G(),address:It}))),Zc=re({executable:xs(),owner:It,lamports:G(),data:qg,rentEpoch:G()}),HN=re({pubkey:It,account:Zc}),GN=$u(Yn([jg(Be.Buffer),yp]),Yn([mE,yp]),e=>Array.isArray(e)?ue(e,qg):e),bp=re({executable:xs(),owner:It,lamports:G(),data:GN,rentEpoch:G()}),KN=re({pubkey:It,account:bp}),ZN=re({state:Yn([St("active"),St("inactive"),St("activating"),St("deactivating")]),active:G(),inactive:G()}),YN=$e(le(re({signature:ce(),slot:G(),err:qo,memo:de(ce()),blockTime:Ae(de(G()))}))),JN=$e(le(re({signature:ce(),slot:G(),err:qo,memo:de(ce()),blockTime:Ae(de(G()))}))),QN=re({subscription:G(),result:mf(Zc)}),XN=re({pubkey:It,account:Zc}),eC=re({subscription:G(),result:mf(XN)}),tC=re({parent:G(),slot:G(),root:G()}),nC=re({subscription:G(),result:tC}),rC=Yn([re({type:Yn([St("firstShredReceived"),St("completed"),St("optimisticConfirmation"),St("root")]),slot:G(),timestamp:G()}),re({type:St("createdBank"),parent:G(),slot:G(),timestamp:G()}),re({type:St("frozen"),slot:G(),timestamp:G(),stats:re({numTransactionEntries:G(),numSuccessfulTransactions:G(),numFailedTransactions:G(),maxTransactionsPerEntry:G()})}),re({type:St("dead"),slot:G(),timestamp:G(),err:ce()})]),sC=re({subscription:G(),result:rC}),iC=re({subscription:G(),result:mf(Yn([AN,IN]))}),oC=re({subscription:G(),result:G()}),aC=re({pubkey:ce(),gossip:de(ce()),tpu:de(ce()),rpc:de(ce()),version:de(ce())}),S1=re({votePubkey:ce(),nodePubkey:ce(),activatedStake:G(),epochVoteAccount:xs(),epochCredits:le($g([G(),G(),G()])),commission:G(),lastVote:G(),rootSlot:de(G())}),cC=$e(re({current:le(S1),delinquent:le(S1)})),uC=Yn([St("processed"),St("confirmed"),St("finalized")]),lC=re({slot:G(),confirmations:de(G()),err:qo,confirmationStatus:Ae(uC)}),dC=Pt(le(de(lC))),fC=$e(G()),yE=re({accountKey:It,writableIndexes:le(G()),readonlyIndexes:le(G())}),Hg=re({signatures:le(ce()),message:re({accountKeys:le(ce()),header:re({numRequiredSignatures:G(),numReadonlySignedAccounts:G(),numReadonlyUnsignedAccounts:G()}),instructions:le(re({accounts:le(G()),data:ce(),programIdIndex:G()})),recentBlockhash:ce(),addressTableLookups:Ae(le(yE))})}),bE=re({pubkey:It,signer:xs(),writable:xs(),source:Ae(Yn([St("transaction"),St("lookupTable")]))}),wE=re({accountKeys:le(bE),signatures:le(ce())}),xE=re({parsed:oc(),program:ce(),programId:It}),vE=re({accounts:le(It),data:ce(),programId:It}),hC=Yn([vE,xE]),pC=Yn([re({parsed:oc(),program:ce(),programId:ce()}),re({accounts:le(ce()),data:ce(),programId:ce()})]),EE=$u(hC,pC,e=>"accounts"in e?ue(e,vE):ue(e,xE)),SE=re({signatures:le(ce()),message:re({accountKeys:le(bE),instructions:le(EE),recentBlockhash:ce(),addressTableLookups:Ae(de(le(yE)))})}),Sd=re({accountIndex:G(),mint:ce(),owner:Ae(ce()),programId:Ae(ce()),uiTokenAmount:gp}),_E=re({writable:le(It),readonly:le(It)}),gf=re({err:qo,fee:G(),innerInstructions:Ae(de(le(re({index:G(),instructions:le(re({accounts:le(G()),data:ce(),programIdIndex:G()}))})))),preBalances:le(G()),postBalances:le(G()),logMessages:Ae(de(le(ce()))),preTokenBalances:Ae(de(le(Sd))),postTokenBalances:Ae(de(le(Sd))),loadedAddresses:Ae(_E),computeUnitsConsumed:Ae(G()),costUnits:Ae(G())}),Gg=re({err:qo,fee:G(),innerInstructions:Ae(de(le(re({index:G(),instructions:le(EE)})))),preBalances:le(G()),postBalances:le(G()),logMessages:Ae(de(le(ce()))),preTokenBalances:Ae(de(le(Sd))),postTokenBalances:Ae(de(le(Sd))),loadedAddresses:Ae(_E),computeUnitsConsumed:Ae(G()),costUnits:Ae(G())}),ac=Yn([St(0),St("legacy")]),Ho=re({pubkey:ce(),lamports:G(),postBalance:de(G()),rewardType:de(ce()),commission:Ae(de(G()))}),mC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),transactions:le(re({transaction:Hg,meta:de(gf),version:Ae(ac)})),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),gC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),yC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),transactions:le(re({transaction:wE,meta:de(gf),version:Ae(ac)})),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),bC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),transactions:le(re({transaction:SE,meta:de(Gg),version:Ae(ac)})),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),wC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),transactions:le(re({transaction:wE,meta:de(Gg),version:Ae(ac)})),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),xC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),rewards:Ae(le(Ho)),blockTime:de(G()),blockHeight:de(G())}))),vC=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),transactions:le(re({transaction:Hg,meta:de(gf)})),rewards:Ae(le(Ho)),blockTime:de(G())}))),_1=$e(de(re({blockhash:ce(),previousBlockhash:ce(),parentSlot:G(),signatures:le(ce()),blockTime:de(G())}))),Jh=$e(de(re({slot:G(),meta:de(gf),blockTime:Ae(de(G())),transaction:Hg,version:Ae(ac)}))),Tl=$e(de(re({slot:G(),transaction:SE,meta:de(Gg),blockTime:Ae(de(G())),version:Ae(ac)}))),EC=Pt(re({blockhash:ce(),lastValidBlockHeight:G()})),SC=Pt(xs()),_C=re({slot:G(),numTransactions:G(),numSlots:G(),samplePeriodSecs:G()}),AC=$e(le(_C)),IC=Pt(de(re({feeCalculator:re({lamportsPerSignature:G()})}))),TC=$e(ce()),RC=$e(ce()),NC=re({err:qo,logs:le(ce()),signature:ce()}),CC=re({result:mf(NC),subscription:G()}),MC={"solana-client":"js/1.0.0-maintenance"};class kC{constructor(t,n){this._commitment=void 0,this._confirmTransactionInitialTimeout=void 0,this._rpcEndpoint=void 0,this._rpcWsEndpoint=void 0,this._rpcClient=void 0,this._rpcRequest=void 0,this._rpcBatchRequest=void 0,this._rpcWebSocket=void 0,this._rpcWebSocketConnected=!1,this._rpcWebSocketHeartbeat=null,this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketGeneration=0,this._disableBlockhashCaching=!1,this._pollingBlockhash=!1,this._blockhashInfo={latestBlockhash:null,lastFetch:0,transactionSignatures:[],simulatedSignatures:[]},this._nextClientSubscriptionId=0,this._subscriptionDisposeFunctionsByClientSubscriptionId={},this._subscriptionHashByClientSubscriptionId={},this._subscriptionStateChangeCallbacksByHash={},this._subscriptionCallbacksByServerSubscriptionId={},this._subscriptionsByHash={},this._subscriptionsAutoDisposedByRpc=new Set,this.getBlockHeight=(()=>{const u={};return async l=>{const{commitment:d,config:p}=at(l),h=this._buildArgs([],d,void 0,p),g=b1(h);return u[g]=u[g]??(async()=>{try{const y=await this._rpcRequest("getBlockHeight",h),E=ue(y,$e(G()));if("error"in E)throw new Ee(E.error,"failed to get block height information");return E.result}finally{delete u[g]}})(),await u[g]}})();let r,s,i,o,a,c;n&&typeof n=="string"?this._commitment=n:n&&(this._commitment=n.commitment,this._confirmTransactionInitialTimeout=n.confirmTransactionInitialTimeout,r=n.wsEndpoint,s=n.httpHeaders,i=n.fetch,o=n.fetchMiddleware,a=n.disableRetryOnRateLimit,c=n.httpAgent),this._rpcEndpoint=gN(t),this._rpcWsEndpoint=r||pN(t),this._rpcClient=MN(t,s,i,o,a,c),this._rpcRequest=kN(this._rpcClient),this._rpcBatchRequest=BN(this._rpcClient),this._rpcWebSocket=new lN(this._rpcWsEndpoint,{autoconnect:!1,max_reconnects:1/0}),this._rpcWebSocket.on("open",this._wsOnOpen.bind(this)),this._rpcWebSocket.on("error",this._wsOnError.bind(this)),this._rpcWebSocket.on("close",this._wsOnClose.bind(this)),this._rpcWebSocket.on("accountNotification",this._wsOnAccountNotification.bind(this)),this._rpcWebSocket.on("programNotification",this._wsOnProgramAccountNotification.bind(this)),this._rpcWebSocket.on("slotNotification",this._wsOnSlotNotification.bind(this)),this._rpcWebSocket.on("slotsUpdatesNotification",this._wsOnSlotUpdatesNotification.bind(this)),this._rpcWebSocket.on("signatureNotification",this._wsOnSignatureNotification.bind(this)),this._rpcWebSocket.on("rootNotification",this._wsOnRootNotification.bind(this)),this._rpcWebSocket.on("logsNotification",this._wsOnLogsNotification.bind(this))}get commitment(){return this._commitment}get rpcEndpoint(){return this._rpcEndpoint}async getBalanceAndContext(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgs([t.toBase58()],r,void 0,s),o=await this._rpcRequest("getBalance",i),a=ue(o,Pt(G()));if("error"in a)throw new Ee(a.error,`failed to get balance for ${t.toBase58()}`);return a.result}async getBalance(t,n){return await this.getBalanceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get balance of account "+t.toBase58()+": "+r)})}async getBlockTime(t){const n=await this._rpcRequest("getBlockTime",[t]),r=ue(n,$e(de(G())));if("error"in r)throw new Ee(r.error,`failed to get block time for slot ${t}`);return r.result}async getMinimumLedgerSlot(){const t=await this._rpcRequest("minimumLedgerSlot",[]),n=ue(t,$e(G()));if("error"in n)throw new Ee(n.error,"failed to get minimum ledger slot");return n.result}async getFirstAvailableBlock(){const t=await this._rpcRequest("getFirstAvailableBlock",[]),n=ue(t,zN);if("error"in n)throw new Ee(n.error,"failed to get first available block");return n.result}async getSupply(t){let n={};typeof t=="string"?n={commitment:t}:t?n={...t,commitment:t&&t.commitment||this.commitment}:n={commitment:this.commitment};const r=await this._rpcRequest("getSupply",[n]),s=ue(r,UN);if("error"in s)throw new Ee(s.error,"failed to get supply");return s.result}async getTokenSupply(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenSupply",r),i=ue(s,Pt(gp));if("error"in i)throw new Ee(i.error,"failed to get token supply");return i.result}async getTokenAccountBalance(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenAccountBalance",r),i=ue(s,Pt(gp));if("error"in i)throw new Ee(i.error,"failed to get token account balance");return i.result}async getTokenAccountsByOwner(t,n,r){const{commitment:s,config:i}=at(r);let o=[t.toBase58()];"mint"in n?o.push({mint:n.mint.toBase58()}):o.push({programId:n.programId.toBase58()});const a=this._buildArgs(o,s,"base64",i),c=await this._rpcRequest("getTokenAccountsByOwner",a),u=ue(c,WN);if("error"in u)throw new Ee(u.error,`failed to get token accounts owned by account ${t.toBase58()}`);return u.result}async getParsedTokenAccountsByOwner(t,n,r){let s=[t.toBase58()];"mint"in n?s.push({mint:n.mint.toBase58()}):s.push({programId:n.programId.toBase58()});const i=this._buildArgs(s,r,"jsonParsed"),o=await this._rpcRequest("getTokenAccountsByOwner",i),a=ue(o,VN);if("error"in a)throw new Ee(a.error,`failed to get token accounts owned by account ${t.toBase58()}`);return a.result}async getLargestAccounts(t){const n={...t,commitment:t&&t.commitment||this.commitment},r=n.filter||n.commitment?[n]:[],s=await this._rpcRequest("getLargestAccounts",r),i=ue(s,qN);if("error"in i)throw new Ee(i.error,"failed to get largest accounts");return i.result}async getTokenLargestAccounts(t,n){const r=this._buildArgs([t.toBase58()],n),s=await this._rpcRequest("getTokenLargestAccounts",r),i=ue(s,FN);if("error"in i)throw new Ee(i.error,"failed to get token largest accounts");return i.result}async getAccountInfoAndContext(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgs([t.toBase58()],r,"base64",s),o=await this._rpcRequest("getAccountInfo",i),a=ue(o,Pt(de(Zc)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getParsedAccountInfo(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getAccountInfo",i),a=ue(o,Pt(de(bp)));if("error"in a)throw new Ee(a.error,`failed to get info about account ${t.toBase58()}`);return a.result}async getAccountInfo(t,n){try{return(await this.getAccountInfoAndContext(t,n)).value}catch(r){throw new Error("failed to get info about account "+t.toBase58()+": "+r)}}async getMultipleParsedAccounts(t,n){const{commitment:r,config:s}=at(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"jsonParsed",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ue(a,Pt(le(de(bp))));if("error"in c)throw new Ee(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfoAndContext(t,n){const{commitment:r,config:s}=at(n),i=t.map(u=>u.toBase58()),o=this._buildArgs([i],r,"base64",s),a=await this._rpcRequest("getMultipleAccounts",o),c=ue(a,Pt(le(de(Zc))));if("error"in c)throw new Ee(c.error,`failed to get info for accounts ${i}`);return c.result}async getMultipleAccountsInfo(t,n){return(await this.getMultipleAccountsInfoAndContext(t,n)).value}async getStakeActivation(t,n,r){const{commitment:s,config:i}=at(n),o=this._buildArgs([t.toBase58()],s,void 0,{...i,epoch:r??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getStakeActivation",o),c=ue(a,$e(ZN));if("error"in c)throw new Ee(c.error,`failed to get Stake Activation ${t.toBase58()}`);return c.result}async getProgramAccounts(t,n){const{commitment:r,config:s}=at(n),{encoding:i,...o}=s||{},a=this._buildArgs([t.toBase58()],r,i||"base64",{...o,...o.filters?{filters:v1(o.filters)}:null}),c=await this._rpcRequest("getProgramAccounts",a),u=le(HN),l=o.withContext===!0?ue(c,Pt(u)):ue(c,$e(u));if("error"in l)throw new Ee(l.error,`failed to get accounts owned by program ${t.toBase58()}`);return l.result}async getParsedProgramAccounts(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgs([t.toBase58()],r,"jsonParsed",s),o=await this._rpcRequest("getProgramAccounts",i),a=ue(o,$e(le(KN)));if("error"in a)throw new Ee(a.error,`failed to get accounts owned by program ${t.toBase58()}`);return a.result}async confirmTransaction(t,n){var i;let r;if(typeof t=="string")r=t;else{const o=t;if((i=o.abortSignal)!=null&&i.aborted)return Promise.reject(o.abortSignal.reason);r=o.signature}let s;try{s=Tn.decode(r)}catch{throw new Error("signature must be base58 encoded: "+r)}return yt(s.length===64,"signature has invalid length"),typeof t=="string"?await this.confirmTransactionUsingLegacyTimeoutStrategy({commitment:n||this.commitment,signature:r}):"lastValidBlockHeight"in t?await this.confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:n||this.commitment,strategy:t}):await this.confirmTransactionUsingDurableNonceStrategy({commitment:n||this.commitment,strategy:t})}getCancellationPromise(t){return new Promise((n,r)=>{t!=null&&(t.aborted?r(t.reason):t.addEventListener("abort",()=>{r(t.reason)}))})}getTransactionConfirmationPromise({commitment:t,signature:n}){let r,s,i=!1;const o=new Promise((c,u)=>{try{r=this.onSignature(n,(d,p)=>{r=void 0;const h={context:p,value:d};c({__type:vi.PROCESSED,response:h})},t);const l=new Promise(d=>{r==null?d():s=this._onSubscriptionStateChange(r,p=>{p==="subscribed"&&d()})});(async()=>{if(await l,i)return;const d=await this.getSignatureStatus(n);if(i||d==null)return;const{context:p,value:h}=d;if(h!=null)if(h!=null&&h.err)u(h.err);else{switch(t){case"confirmed":case"single":case"singleGossip":{if(h.confirmationStatus==="processed")return;break}case"finalized":case"max":case"root":{if(h.confirmationStatus==="processed"||h.confirmationStatus==="confirmed")return;break}case"processed":case"recent":}i=!0,c({__type:vi.PROCESSED,response:{context:p,value:h}})}})()}catch(l){u(l)}});return{abortConfirmation:()=>{s&&(s(),s=void 0),r!=null&&(this.removeSignatureListener(r),r=void 0)},confirmationPromise:o}}async confirmTransactionUsingBlockHeightExceedanceStrategy({commitment:t,strategy:{abortSignal:n,lastValidBlockHeight:r,signature:s}}){let i=!1;const o=new Promise(d=>{const p=async()=>{try{return await this.getBlockHeight(t)}catch{return-1}};(async()=>{let h=await p();if(!i){for(;h<=r;)if(await ra(1e3),i||(h=await p(),i))return;d({__type:vi.BLOCKHEIGHT_EXCEEDED})}})()}),{abortConfirmation:a,confirmationPromise:c}=this.getTransactionConfirmationPromise({commitment:t,signature:s}),u=this.getCancellationPromise(n);let l;try{const d=await Promise.race([u,c,o]);if(d.__type===vi.PROCESSED)l=d.response;else throw new dE(s)}finally{i=!0,a()}return l}async confirmTransactionUsingDurableNonceStrategy({commitment:t,strategy:{abortSignal:n,minContextSlot:r,nonceAccountPubkey:s,nonceValue:i,signature:o}}){let a=!1;const c=new Promise(h=>{let g=i,y=null;const E=async()=>{try{const{context:S,value:M}=await this.getNonceAndContext(s,{commitment:t,minContextSlot:r});return y=S.slot,M==null?void 0:M.nonce}catch{return g}};(async()=>{if(g=await E(),!a)for(;;){if(i!==g){h({__type:vi.NONCE_INVALID,slotInWhichNonceDidAdvance:y});return}if(await ra(2e3),a||(g=await E(),a))return}})()}),{abortConfirmation:u,confirmationPromise:l}=this.getTransactionConfirmationPromise({commitment:t,signature:o}),d=this.getCancellationPromise(n);let p;try{const h=await Promise.race([d,l,c]);if(h.__type===vi.PROCESSED)p=h.response;else{let g;for(;;){const y=await this.getSignatureStatus(o);if(y==null)break;if(y.context.slot<(h.slotInWhichNonceDidAdvance??r)){await ra(400);continue}g=y;break}if(g!=null&&g.value){const y=t||"finalized",{confirmationStatus:E}=g.value;switch(y){case"processed":case"recent":if(E!=="processed"&&E!=="confirmed"&&E!=="finalized")throw new kc(o);break;case"confirmed":case"single":case"singleGossip":if(E!=="confirmed"&&E!=="finalized")throw new kc(o);break;case"finalized":case"max":case"root":if(E!=="finalized")throw new kc(o);break;default:}p={context:g.context,value:{err:g.value.err}}}else throw new kc(o)}}finally{a=!0,u()}return p}async confirmTransactionUsingLegacyTimeoutStrategy({commitment:t,signature:n}){let r;const s=new Promise(c=>{let u=this._confirmTransactionInitialTimeout||6e4;switch(t){case"processed":case"recent":case"single":case"confirmed":case"singleGossip":{u=this._confirmTransactionInitialTimeout||3e4;break}}r=setTimeout(()=>c({__type:vi.TIMED_OUT,timeoutMs:u}),u)}),{abortConfirmation:i,confirmationPromise:o}=this.getTransactionConfirmationPromise({commitment:t,signature:n});let a;try{const c=await Promise.race([o,s]);if(c.__type===vi.PROCESSED)a=c.response;else throw new fE(n,c.timeoutMs/1e3)}finally{clearTimeout(r),i()}return a}async getClusterNodes(){const t=await this._rpcRequest("getClusterNodes",[]),n=ue(t,$e(le(aC)));if("error"in n)throw new Ee(n.error,"failed to get cluster nodes");return n.result}async getVoteAccounts(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getVoteAccounts",n),s=ue(r,cC);if("error"in s)throw new Ee(s.error,"failed to get vote accounts");return s.result}async getSlot(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlot",s),o=ue(i,$e(G()));if("error"in o)throw new Ee(o.error,"failed to get slot");return o.result}async getSlotLeader(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getSlotLeader",s),o=ue(i,$e(ce()));if("error"in o)throw new Ee(o.error,"failed to get slot leader");return o.result}async getSlotLeaders(t,n){const r=[t,n],s=await this._rpcRequest("getSlotLeaders",r),i=ue(s,$e(le(It)));if("error"in i)throw new Ee(i.error,"failed to get slot leaders");return i.result}async getSignatureStatus(t,n){const{context:r,value:s}=await this.getSignatureStatuses([t],n);yt(s.length===1);const i=s[0];return{context:r,value:i}}async getSignatureStatuses(t,n){const r=[t];n&&r.push(n);const s=await this._rpcRequest("getSignatureStatuses",r),i=ue(s,dC);if("error"in i)throw new Ee(i.error,"failed to get signature status");return i.result}async getTransactionCount(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getTransactionCount",s),o=ue(i,$e(G()));if("error"in o)throw new Ee(o.error,"failed to get transaction count");return o.result}async getTotalSupply(t){return(await this.getSupply({commitment:t,excludeNonCirculatingAccountsList:!0})).value.total}async getInflationGovernor(t){const n=this._buildArgs([],t),r=await this._rpcRequest("getInflationGovernor",n),s=ue(r,ON);if("error"in s)throw new Ee(s.error,"failed to get inflation");return s.result}async getInflationReward(t,n,r){const{commitment:s,config:i}=at(r),o=this._buildArgs([t.map(u=>u.toBase58())],s,void 0,{...i,epoch:n??(i==null?void 0:i.epoch)}),a=await this._rpcRequest("getInflationReward",o),c=ue(a,wN);if("error"in c)throw new Ee(c.error,"failed to get inflation reward");return c.result}async getInflationRate(){const t=await this._rpcRequest("getInflationRate",[]),n=ue(t,PN);if("error"in n)throw new Ee(n.error,"failed to get inflation rate");return n.result}async getEpochInfo(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getEpochInfo",s),o=ue(i,jN);if("error"in o)throw new Ee(o.error,"failed to get epoch info");return o.result}async getEpochSchedule(){const t=await this._rpcRequest("getEpochSchedule",[]),n=ue(t,$N);if("error"in n)throw new Ee(n.error,"failed to get epoch schedule");const r=n.result;return new cN(r.slotsPerEpoch,r.leaderScheduleSlotOffset,r.warmup,r.firstNormalEpoch,r.firstNormalSlot)}async getLeaderSchedule(){const t=await this._rpcRequest("getLeaderSchedule",[]),n=ue(t,DN);if("error"in n)throw new Ee(n.error,"failed to get leader schedule");return n.result}async getMinimumBalanceForRentExemption(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getMinimumBalanceForRentExemption",r),i=ue(s,fC);return"error"in i?(console.warn("Unable to fetch minimum balance for rent exemption"),0):i.result}async getRecentBlockhashAndContext(t){const{context:n,value:{blockhash:r}}=await this.getLatestBlockhashAndContext(t);return{context:n,value:{blockhash:r,feeCalculator:{get lamportsPerSignature(){throw new Error("The capability to fetch `lamportsPerSignature` using the `getRecentBlockhash` API is no longer offered by the network. Use the `getFeeForMessage` API to obtain the fee for a given message.")},toJSON(){return{}}}}}}async getRecentPerformanceSamples(t){const n=await this._rpcRequest("getRecentPerformanceSamples",t?[t]:[]),r=ue(n,AC);if("error"in r)throw new Ee(r.error,"failed to get recent performance samples");return r.result}async getFeeCalculatorForBlockhash(t,n){const r=this._buildArgs([t],n),s=await this._rpcRequest("getFeeCalculatorForBlockhash",r),i=ue(s,IC);if("error"in i)throw new Ee(i.error,"failed to get fee calculator");const{context:o,value:a}=i.result;return{context:o,value:a!==null?a.feeCalculator:null}}async getFeeForMessage(t,n){const r=Ba(t.serialize()).toString("base64"),s=this._buildArgs([r],n),i=await this._rpcRequest("getFeeForMessage",s),o=ue(i,Pt(de(G())));if("error"in o)throw new Ee(o.error,"failed to get fee for message");if(o.result===null)throw new Error("invalid blockhash");return o.result}async getRecentPrioritizationFees(t){var o;const n=(o=t==null?void 0:t.lockedWritableAccounts)==null?void 0:o.map(a=>a.toBase58()),r=n!=null&&n.length?[n]:[],s=await this._rpcRequest("getRecentPrioritizationFees",r),i=ue(s,LN);if("error"in i)throw new Ee(i.error,"failed to get recent prioritization fees");return i.result}async getRecentBlockhash(t){try{return(await this.getRecentBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhash(t){try{return(await this.getLatestBlockhashAndContext(t)).value}catch(n){throw new Error("failed to get recent blockhash: "+n)}}async getLatestBlockhashAndContext(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,void 0,r),i=await this._rpcRequest("getLatestBlockhash",s),o=ue(i,EC);if("error"in o)throw new Ee(o.error,"failed to get latest blockhash");return o.result}async isBlockhashValid(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgs([t],r,void 0,s),o=await this._rpcRequest("isBlockhashValid",i),a=ue(o,SC);if("error"in a)throw new Ee(a.error,"failed to determine if the blockhash `"+t+"`is valid");return a.result}async getVersion(){const t=await this._rpcRequest("getVersion",[]),n=ue(t,$e(TN));if("error"in n)throw new Ee(n.error,"failed to get version");return n.result}async getGenesisHash(){const t=await this._rpcRequest("getGenesisHash",[]),n=ue(t,$e(ce()));if("error"in n)throw new Ee(n.error,"failed to get genesis hash");return n.result}async getBlock(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ue(o,yC);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,gC);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,mC);if("error"in a)throw a.error;const{result:c}=a;return c?{...c,transactions:c.transactions.map(({transaction:u,meta:l,version:d})=>({meta:l,transaction:{...u,message:Yh(d,u.message)},version:d}))}:null}}}catch(a){throw new Ee(a,"failed to get confirmed block")}}async getParsedBlock(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getBlock",i);try{switch(s==null?void 0:s.transactionDetails){case"accounts":{const a=ue(o,wC);if("error"in a)throw a.error;return a.result}case"none":{const a=ue(o,xC);if("error"in a)throw a.error;return a.result}default:{const a=ue(o,bC);if("error"in a)throw a.error;return a.result}}}catch(a){throw new Ee(a,"failed to get block")}}async getBlockProduction(t){let n,r;if(typeof t=="string")r=t;else if(t){const{commitment:a,...c}=t;r=a,n=c}const s=this._buildArgs([],r,"base64",n),i=await this._rpcRequest("getBlockProduction",s),o=ue(i,CN);if("error"in o)throw new Ee(o.error,"failed to get block production information");return o.result}async getTransaction(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgsAtLeastConfirmed([t],r,void 0,s),o=await this._rpcRequest("getTransaction",i),a=ue(o,Jh);if("error"in a)throw new Ee(a.error,"failed to get transaction");const c=a.result;return c&&{...c,transaction:{...c.transaction,message:Yh(c.version,c.transaction.message)}}}async getParsedTransaction(t,n){const{commitment:r,config:s}=at(n),i=this._buildArgsAtLeastConfirmed([t],r,"jsonParsed",s),o=await this._rpcRequest("getTransaction",i),a=ue(o,Tl);if("error"in a)throw new Ee(a.error,"failed to get transaction");return a.result}async getParsedTransactions(t,n){const{commitment:r,config:s}=at(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,"jsonParsed",s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=ue(c,Tl);if("error"in u)throw new Ee(u.error,"failed to get transactions");return u.result})}async getTransactions(t,n){const{commitment:r,config:s}=at(n),i=t.map(c=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([c],r,void 0,s)}));return(await this._rpcBatchRequest(i)).map(c=>{const u=ue(c,Jh);if("error"in u)throw new Ee(u.error,"failed to get transactions");const l=u.result;return l&&{...l,transaction:{...l.transaction,message:Yh(l.version,l.transaction.message)}}})}async getConfirmedBlock(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getBlock",r),i=ue(s,vC);if("error"in i)throw new Ee(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");const a={...o,transactions:o.transactions.map(({transaction:c,meta:u})=>{const l=new vs(c.message);return{meta:u,transaction:{...c,message:l}}})};return{...a,transactions:a.transactions.map(({transaction:c,meta:u})=>({meta:u,transaction:Mr.populate(c.message,c.signatures)}))}}async getBlocks(t,n,r){const s=this._buildArgsAtLeastConfirmed(n!==void 0?[t,n]:[t],r),i=await this._rpcRequest("getBlocks",s),o=ue(i,$e(le(G())));if("error"in o)throw new Ee(o.error,"failed to get blocks");return o.result}async getBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ue(s,_1);if("error"in i)throw new Ee(i.error,"failed to get block");const o=i.result;if(!o)throw new Error("Block "+t+" not found");return o}async getConfirmedBlockSignatures(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,void 0,{transactionDetails:"signatures",rewards:!1}),s=await this._rpcRequest("getBlock",r),i=ue(s,_1);if("error"in i)throw new Ee(i.error,"failed to get confirmed block");const o=i.result;if(!o)throw new Error("Confirmed block "+t+" not found");return o}async getConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n),s=await this._rpcRequest("getTransaction",r),i=ue(s,Jh);if("error"in i)throw new Ee(i.error,"failed to get transaction");const o=i.result;if(!o)return o;const a=new vs(o.transaction.message),c=o.transaction.signatures;return{...o,transaction:Mr.populate(a,c)}}async getParsedConfirmedTransaction(t,n){const r=this._buildArgsAtLeastConfirmed([t],n,"jsonParsed"),s=await this._rpcRequest("getTransaction",r),i=ue(s,Tl);if("error"in i)throw new Ee(i.error,"failed to get confirmed transaction");return i.result}async getParsedConfirmedTransactions(t,n){const r=t.map(o=>({methodName:"getTransaction",args:this._buildArgsAtLeastConfirmed([o],n,"jsonParsed")}));return(await this._rpcBatchRequest(r)).map(o=>{const a=ue(o,Tl);if("error"in a)throw new Ee(a.error,"failed to get confirmed transactions");return a.result})}async getConfirmedSignaturesForAddress(t,n,r){let s={},i=await this.getFirstAvailableBlock();for(;!("until"in s)&&(n--,!(n<=0||n<i));)try{const c=await this.getConfirmedBlockSignatures(n,"finalized");c.signatures.length>0&&(s.until=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}let o=await this.getSlot("finalized");for(;!("before"in s)&&(r++,!(r>o));)try{const c=await this.getConfirmedBlockSignatures(r);c.signatures.length>0&&(s.before=c.signatures[c.signatures.length-1].toString())}catch(c){if(c instanceof Error&&c.message.includes("skipped"))continue;throw c}return(await this.getConfirmedSignaturesForAddress2(t,s)).map(c=>c.signature)}async getConfirmedSignaturesForAddress2(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getConfirmedSignaturesForAddress2",s),o=ue(i,YN);if("error"in o)throw new Ee(o.error,"failed to get confirmed signatures for address");return o.result}async getSignaturesForAddress(t,n,r){const s=this._buildArgsAtLeastConfirmed([t.toBase58()],r,void 0,n),i=await this._rpcRequest("getSignaturesForAddress",s),o=ue(i,JN);if("error"in o)throw new Ee(o.error,"failed to get signatures for address");return o.result}async getAddressLookupTable(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=new x1({key:t,state:x1.deserialize(s.data)})),{context:r,value:i}}async getNonceAndContext(t,n){const{context:r,value:s}=await this.getAccountInfoAndContext(t,n);let i=null;return s!==null&&(i=Vg.fromAccountData(s.data)),{context:r,value:i}}async getNonce(t,n){return await this.getNonceAndContext(t,n).then(r=>r.value).catch(r=>{throw new Error("failed to get nonce for account "+t.toBase58()+": "+r)})}async requestAirdrop(t,n){const r=await this._rpcRequest("requestAirdrop",[t.toBase58(),n]),s=ue(r,TC);if("error"in s)throw new Ee(s.error,`airdrop to ${t.toBase58()} failed`);return s.result}async _blockhashWithExpiryBlockHeight(t){if(!t){for(;this._pollingBlockhash;)await ra(100);const r=Date.now()-this._blockhashInfo.lastFetch>=mN;if(this._blockhashInfo.latestBlockhash!==null&&!r)return this._blockhashInfo.latestBlockhash}return await this._pollNewBlockhash()}async _pollNewBlockhash(){this._pollingBlockhash=!0;try{const t=Date.now(),n=this._blockhashInfo.latestBlockhash,r=n?n.blockhash:null;for(let s=0;s<50;s++){const i=await this.getLatestBlockhash("finalized");if(r!==i.blockhash)return this._blockhashInfo={latestBlockhash:i,lastFetch:Date.now(),transactionSignatures:[],simulatedSignatures:[]},i;await ra(nN/2)}throw new Error(`Unable to obtain a new blockhash after ${Date.now()-t}ms`)}finally{this._pollingBlockhash=!1}}async getStakeMinimumDelegation(t){const{commitment:n,config:r}=at(t),s=this._buildArgs([],n,"base64",r),i=await this._rpcRequest("getStakeMinimumDelegation",s),o=ue(i,Pt(G()));if("error"in o)throw new Ee(o.error,"failed to get stake minimum delegation");return o.result}async simulateTransaction(t,n,r){if("message"in t){const y=t.serialize(),E=Be.Buffer.from(y).toString("base64");if(Array.isArray(n)||r!==void 0)throw new Error("Invalid arguments");const S=n||{};S.encoding="base64","commitment"in S||(S.commitment=this.commitment),n&&typeof n=="object"&&"innerInstructions"in n&&(S.innerInstructions=n.innerInstructions);const M=[E,S],_=await this._rpcRequest("simulateTransaction",M),T=ue(_,E1);if("error"in T)throw new Error("failed to simulate transaction: "+T.error.message);return T.result}let s;if(t instanceof Mr){let g=t;s=new Mr,s.feePayer=g.feePayer,s.instructions=t.instructions,s.nonceInfo=g.nonceInfo,s.signatures=g.signatures}else s=Mr.populate(t),s._message=s._json=void 0;if(n!==void 0&&!Array.isArray(n))throw new Error("Invalid arguments");const i=n;if(s.nonceInfo&&i)s.sign(...i);else{let g=this._disableBlockhashCaching;for(;;){const y=await this._blockhashWithExpiryBlockHeight(g);if(s.lastValidBlockHeight=y.lastValidBlockHeight,s.recentBlockhash=y.blockhash,!i)break;if(s.sign(...i),!s.signature)throw new Error("!signature");const E=s.signature.toString("base64");if(!this._blockhashInfo.simulatedSignatures.includes(E)&&!this._blockhashInfo.transactionSignatures.includes(E)){this._blockhashInfo.simulatedSignatures.push(E);break}else g=!0}}const o=s._compile(),a=o.serialize(),u=s._serialize(a).toString("base64"),l={encoding:"base64",commitment:this.commitment};if(r){const g=(Array.isArray(r)?r:o.nonProgramIds()).map(y=>y.toBase58());l.accounts={encoding:"base64",addresses:g}}i&&(l.sigVerify=!0),n&&typeof n=="object"&&"innerInstructions"in n&&(l.innerInstructions=n.innerInstructions);const d=[u,l],p=await this._rpcRequest("simulateTransaction",d),h=ue(p,E1);if("error"in h){let g;if("data"in h.error&&(g=h.error.data.logs,g&&Array.isArray(g))){const y=`
    `,E=y+g.join(y);console.error(h.error.message,E)}throw new g1({action:"simulate",signature:"",transactionMessage:h.error.message,logs:g})}return h.result}async sendTransaction(t,n,r){if("version"in t){if(n&&Array.isArray(n))throw new Error("Invalid arguments");const o=t.serialize();return await this.sendRawTransaction(o,n)}if(n===void 0||!Array.isArray(n))throw new Error("Invalid arguments");const s=n;if(t.nonceInfo)t.sign(...s);else{let o=this._disableBlockhashCaching;for(;;){const a=await this._blockhashWithExpiryBlockHeight(o);if(t.lastValidBlockHeight=a.lastValidBlockHeight,t.recentBlockhash=a.blockhash,t.sign(...s),!t.signature)throw new Error("!signature");const c=t.signature.toString("base64");if(this._blockhashInfo.transactionSignatures.includes(c))o=!0;else{this._blockhashInfo.transactionSignatures.push(c);break}}}const i=t.serialize();return await this.sendRawTransaction(i,r)}async sendRawTransaction(t,n){const r=Ba(t).toString("base64");return await this.sendEncodedTransaction(r,n)}async sendEncodedTransaction(t,n){const r={encoding:"base64"},s=n&&n.skipPreflight,i=s===!0?"processed":n&&n.preflightCommitment||this.commitment;n&&n.maxRetries!=null&&(r.maxRetries=n.maxRetries),n&&n.minContextSlot!=null&&(r.minContextSlot=n.minContextSlot),s&&(r.skipPreflight=s),i&&(r.preflightCommitment=i);const o=[t,r],a=await this._rpcRequest("sendTransaction",o),c=ue(a,RC);if("error"in c){let u;throw"data"in c.error&&(u=c.error.data.logs),new g1({action:s?"send":"simulate",signature:"",transactionMessage:c.error.message,logs:u})}return c.result}_wsOnOpen(){this._rpcWebSocketConnected=!0,this._rpcWebSocketHeartbeat=setInterval(()=>{(async()=>{try{await this._rpcWebSocket.notify("ping")}catch{}})()},5e3),this._updateSubscriptions()}_wsOnError(t){this._rpcWebSocketConnected=!1,console.error("ws error:",t.message)}_wsOnClose(t){if(this._rpcWebSocketConnected=!1,this._rpcWebSocketGeneration=(this._rpcWebSocketGeneration+1)%Number.MAX_SAFE_INTEGER,this._rpcWebSocketIdleTimeout&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null),this._rpcWebSocketHeartbeat&&(clearInterval(this._rpcWebSocketHeartbeat),this._rpcWebSocketHeartbeat=null),t===1e3){this._updateSubscriptions();return}this._subscriptionCallbacksByServerSubscriptionId={},Object.entries(this._subscriptionsByHash).forEach(([n,r])=>{this._setSubscription(n,{...r,state:"pending"})})}_setSubscription(t,n){var s;const r=(s=this._subscriptionsByHash[t])==null?void 0:s.state;if(this._subscriptionsByHash[t]=n,r!==n.state){const i=this._subscriptionStateChangeCallbacksByHash[t];i&&i.forEach(o=>{try{o(n.state)}catch{}})}}_onSubscriptionStateChange(t,n){var i;const r=this._subscriptionHashByClientSubscriptionId[t];if(r==null)return()=>{};const s=(i=this._subscriptionStateChangeCallbacksByHash)[r]||(i[r]=new Set);return s.add(n),()=>{s.delete(n),s.size===0&&delete this._subscriptionStateChangeCallbacksByHash[r]}}async _updateSubscriptions(){if(Object.keys(this._subscriptionsByHash).length===0){this._rpcWebSocketConnected&&(this._rpcWebSocketConnected=!1,this._rpcWebSocketIdleTimeout=setTimeout(()=>{this._rpcWebSocketIdleTimeout=null;try{this._rpcWebSocket.close()}catch(r){r instanceof Error&&console.log(`Error when closing socket connection: ${r.message}`)}},500));return}if(this._rpcWebSocketIdleTimeout!==null&&(clearTimeout(this._rpcWebSocketIdleTimeout),this._rpcWebSocketIdleTimeout=null,this._rpcWebSocketConnected=!0),!this._rpcWebSocketConnected){this._rpcWebSocket.connect();return}const t=this._rpcWebSocketGeneration,n=()=>t===this._rpcWebSocketGeneration;await Promise.all(Object.keys(this._subscriptionsByHash).map(async r=>{const s=this._subscriptionsByHash[r];if(s!==void 0)switch(s.state){case"pending":case"unsubscribed":if(s.callbacks.size===0){delete this._subscriptionsByHash[r],s.state==="unsubscribed"&&delete this._subscriptionCallbacksByServerSubscriptionId[s.serverSubscriptionId],await this._updateSubscriptions();return}await(async()=>{const{args:i,method:o}=s;try{this._setSubscription(r,{...s,state:"subscribing"});const a=await this._rpcWebSocket.call(o,i);this._setSubscription(r,{...s,serverSubscriptionId:a,state:"subscribed"}),this._subscriptionCallbacksByServerSubscriptionId[a]=s.callbacks,await this._updateSubscriptions()}catch(a){if(console.error(`Received ${a instanceof Error?"":"JSON-RPC "}error calling \`${o}\``,{args:i,error:a}),!n())return;this._setSubscription(r,{...s,state:"pending"}),await this._updateSubscriptions()}})();break;case"subscribed":s.callbacks.size===0&&await(async()=>{const{serverSubscriptionId:i,unsubscribeMethod:o}=s;if(this._subscriptionsAutoDisposedByRpc.has(i))this._subscriptionsAutoDisposedByRpc.delete(i);else{this._setSubscription(r,{...s,state:"unsubscribing"}),this._setSubscription(r,{...s,state:"unsubscribing"});try{await this._rpcWebSocket.call(o,[i])}catch(a){if(a instanceof Error&&console.error(`${o} error:`,a.message),!n())return;this._setSubscription(r,{...s,state:"subscribed"}),await this._updateSubscriptions();return}}this._setSubscription(r,{...s,state:"unsubscribed"}),await this._updateSubscriptions()})();break}}))}_handleServerNotification(t,n){const r=this._subscriptionCallbacksByServerSubscriptionId[t];r!==void 0&&r.forEach(s=>{try{s(...n)}catch(i){console.error(i)}})}_wsOnAccountNotification(t){const{result:n,subscription:r}=ue(t,QN);this._handleServerNotification(r,[n.value,n.context])}_makeSubscription(t,n){const r=this._nextClientSubscriptionId++,s=b1([t.method,n]),i=this._subscriptionsByHash[s];return i===void 0?this._subscriptionsByHash[s]={...t,args:n,callbacks:new Set([t.callback]),state:"pending"}:i.callbacks.add(t.callback),this._subscriptionHashByClientSubscriptionId[r]=s,this._subscriptionDisposeFunctionsByClientSubscriptionId[r]=async()=>{delete this._subscriptionDisposeFunctionsByClientSubscriptionId[r],delete this._subscriptionHashByClientSubscriptionId[r];const o=this._subscriptionsByHash[s];yt(o!==void 0,`Could not find a \`Subscription\` when tearing down client subscription #${r}`),o.callbacks.delete(t.callback),await this._updateSubscriptions()},this._updateSubscriptions(),r}onAccountChange(t,n,r){const{commitment:s,config:i}=at(r),o=this._buildArgs([t.toBase58()],s||this._commitment||"finalized","base64",i);return this._makeSubscription({callback:n,method:"accountSubscribe",unsubscribeMethod:"accountUnsubscribe"},o)}async removeAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"account change")}_wsOnProgramAccountNotification(t){const{result:n,subscription:r}=ue(t,eC);this._handleServerNotification(r,[{accountId:n.value.pubkey,accountInfo:n.value.account},n.context])}onProgramAccountChange(t,n,r,s){const{commitment:i,config:o}=at(r),a=this._buildArgs([t.toBase58()],i||this._commitment||"finalized","base64",o||(s?{filters:v1(s)}:void 0));return this._makeSubscription({callback:n,method:"programSubscribe",unsubscribeMethod:"programUnsubscribe"},a)}async removeProgramAccountChangeListener(t){await this._unsubscribeClientSubscription(t,"program account change")}onLogs(t,n,r){const s=this._buildArgs([typeof t=="object"?{mentions:[t.toString()]}:t],r||this._commitment||"finalized");return this._makeSubscription({callback:n,method:"logsSubscribe",unsubscribeMethod:"logsUnsubscribe"},s)}async removeOnLogsListener(t){await this._unsubscribeClientSubscription(t,"logs")}_wsOnLogsNotification(t){const{result:n,subscription:r}=ue(t,CC);this._handleServerNotification(r,[n.value,n.context])}_wsOnSlotNotification(t){const{result:n,subscription:r}=ue(t,nC);this._handleServerNotification(r,[n])}onSlotChange(t){return this._makeSubscription({callback:t,method:"slotSubscribe",unsubscribeMethod:"slotUnsubscribe"},[])}async removeSlotChangeListener(t){await this._unsubscribeClientSubscription(t,"slot change")}_wsOnSlotUpdatesNotification(t){const{result:n,subscription:r}=ue(t,sC);this._handleServerNotification(r,[n])}onSlotUpdate(t){return this._makeSubscription({callback:t,method:"slotsUpdatesSubscribe",unsubscribeMethod:"slotsUpdatesUnsubscribe"},[])}async removeSlotUpdateListener(t){await this._unsubscribeClientSubscription(t,"slot update")}async _unsubscribeClientSubscription(t,n){const r=this._subscriptionDisposeFunctionsByClientSubscriptionId[t];r?await r():console.warn(`Ignored unsubscribe request because an active subscription with id \`${t}\` for '${n}' events could not be found.`)}_buildArgs(t,n,r,s){const i=n||this._commitment;if(i||r||s){let o={};r&&(o.encoding=r),i&&(o.commitment=i),s&&(o=Object.assign(o,s)),t.push(o)}return t}_buildArgsAtLeastConfirmed(t,n,r,s){const i=n||this._commitment;if(i&&!["confirmed","finalized"].includes(i))throw new Error("Using Connection with default commitment: `"+this._commitment+"`, but method requires at least `confirmed`");return this._buildArgs(t,n,r,s)}_wsOnSignatureNotification(t){const{result:n,subscription:r}=ue(t,iC);n.value!=="receivedSignature"&&this._subscriptionsAutoDisposedByRpc.add(r),this._handleServerNotification(r,n.value==="receivedSignature"?[{type:"received"},n.context]:[{type:"status",result:n.value},n.context])}onSignature(t,n,r){const s=this._buildArgs([t],r||this._commitment||"finalized"),i=this._makeSubscription({callback:(o,a)=>{if(o.type==="status"){n(o.result,a);try{this.removeSignatureListener(i)}catch{}}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},s);return i}onSignatureWithOptions(t,n,r){const{commitment:s,...i}={...r,commitment:r&&r.commitment||this._commitment||"finalized"},o=this._buildArgs([t],s,void 0,i),a=this._makeSubscription({callback:(c,u)=>{n(c,u);try{this.removeSignatureListener(a)}catch{}},method:"signatureSubscribe",unsubscribeMethod:"signatureUnsubscribe"},o);return a}async removeSignatureListener(t){await this._unsubscribeClientSubscription(t,"signature result")}_wsOnRootNotification(t){const{result:n,subscription:r}=ue(t,oC);this._handleServerNotification(r,[n])}onRootChange(t){return this._makeSubscription({callback:t,method:"rootSubscribe",unsubscribeMethod:"rootUnsubscribe"},[])}async removeRootChangeListener(t){await this._unsubscribeClientSubscription(t,"root change")}}Object.freeze({CreateLookupTable:{index:0,layout:we([Te("instruction"),Oa("recentSlot"),tt("bumpSeed")])},FreezeLookupTable:{index:1,layout:we([Te("instruction")])},ExtendLookupTable:{index:2,layout:we([Te("instruction"),Oa(),Dn(Fe(),uo(Te(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:we([Te("instruction")])},CloseLookupTable:{index:4,layout:we([Te("instruction")])}});new Ie("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:we([tt("instruction"),Te("units"),Te("additionalFee")])},RequestHeapFrame:{index:1,layout:we([tt("instruction"),Te("bytes")])},SetComputeUnitLimit:{index:2,layout:we([tt("instruction"),Te("units")])},SetComputeUnitPrice:{index:3,layout:we([tt("instruction"),Oa("microLamports")])}});new Ie("ComputeBudget111111111111111111111111111111");we([tt("numSignatures"),tt("padding"),Cr("signatureOffset"),Cr("signatureInstructionIndex"),Cr("publicKeyOffset"),Cr("publicKeyInstructionIndex"),Cr("messageDataOffset"),Cr("messageDataSize"),Cr("messageInstructionIndex")]);new Ie("Ed25519SigVerify111111111111111111111111111");F4.utils.isValidPrivateKey;we([tt("numSignatures"),Cr("signatureOffset"),tt("signatureInstructionIndex"),Cr("ethAddressOffset"),tt("ethAddressInstructionIndex"),Cr("messageDataOffset"),Cr("messageDataSize"),tt("messageInstructionIndex"),ft(20,"ethAddress"),ft(64,"signature"),tt("recoveryId")]);new Ie("KeccakSecp256k11111111111111111111111111111");var AE;new Ie("StakeConfig11111111111111111111111111111111");class IE{constructor(t,n,r){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=n,this.custodian=r}}AE=IE;IE.default=new AE(0,0,Ie.default);Object.freeze({Initialize:{index:0,layout:we([Te("instruction"),K4(),Z4()])},Authorize:{index:1,layout:we([Te("instruction"),Fe("newAuthorized"),Te("stakeAuthorizationType")])},Delegate:{index:2,layout:we([Te("instruction")])},Split:{index:3,layout:we([Te("instruction"),mr("lamports")])},Withdraw:{index:4,layout:we([Te("instruction"),mr("lamports")])},Deactivate:{index:5,layout:we([Te("instruction")])},Merge:{index:7,layout:we([Te("instruction")])},AuthorizeWithSeed:{index:8,layout:we([Te("instruction"),Fe("newAuthorized"),Te("stakeAuthorizationType"),fa("authoritySeed"),Fe("authorityOwner")])}});new Ie("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:we([Te("instruction"),Y4()])},Authorize:{index:1,layout:we([Te("instruction"),Fe("newAuthorized"),Te("voteAuthorizationType")])},Withdraw:{index:3,layout:we([Te("instruction"),mr("lamports")])},UpdateValidatorIdentity:{index:4,layout:we([Te("instruction")])},AuthorizeWithSeed:{index:10,layout:we([Te("instruction"),J4()])}});new Ie("Vote111111111111111111111111111111111111111");new Ie("Va1idator1nfo111111111111111111111111111111");re({name:ce(),website:Ae(ce()),details:Ae(ce()),iconUrl:Ae(ce()),keybaseUsername:Ae(ce())});new Ie("Vote111111111111111111111111111111111111111");we([Fe("nodePubkey"),Fe("authorizedWithdrawer"),tt("commission"),Sn(),Dn(we([Sn("slot"),Te("confirmationCount")]),uo(Te(),-8),"votes"),tt("rootSlotValid"),Sn("rootSlot"),Sn(),Dn(we([Sn("epoch"),Fe("authorizedVoter")]),uo(Te(),-8),"authorizedVoters"),we([Dn(we([Fe("authorizedPubkey"),Sn("epochOfLastAuthorizedSwitch"),Sn("targetEpoch")]),32,"buf"),Sn("idx"),tt("isEmpty")],"priorVoters"),Sn(),Dn(we([Sn("epoch"),Sn("credits"),Sn("prevCredits")]),uo(Te(),-8),"epochCredits"),we([Sn("slot"),Sn("timestamp")],"lastTimestamp")]);const A1={http:{devnet:"http://api.devnet.solana.com",testnet:"http://api.testnet.solana.com","mainnet-beta":"http://api.mainnet-beta.solana.com/"},https:{devnet:"https://api.devnet.solana.com",testnet:"https://api.testnet.solana.com","mainnet-beta":"https://api.mainnet-beta.solana.com/"}};function BC(e,t){const n="https";if(!e)return A1[n].devnet;const r=A1[n][e];if(!r)throw new Error(`Unknown ${n} cluster: ${e}`);return r}const TE=V.createContext({});function OC(){return V.useContext(TE)}const PC=({children:e,endpoint:t,config:n={commitment:"confirmed"}})=>{const r=V.useMemo(()=>new kC(t,n),[t,n]);return ne.createElement(TE.Provider,{value:{connection:r}},e)};class vn extends Error{constructor(t,n){super(t),this.error=n}}class Eo extends vn{constructor(){super(...arguments),this.name="WalletNotReadyError"}}class LC extends vn{constructor(){super(...arguments),this.name="WalletLoadError"}}class ha extends vn{constructor(){super(...arguments),this.name="WalletConfigError"}}class So extends vn{constructor(){super(...arguments),this.name="WalletConnectionError"}}class Kg extends vn{constructor(){super(...arguments),this.name="WalletDisconnectedError"}}class Zg extends vn{constructor(){super(...arguments),this.name="WalletDisconnectionError"}}class Xi extends vn{constructor(){super(...arguments),this.name="WalletAccountError"}}class Pa extends vn{constructor(){super(...arguments),this.name="WalletPublicKeyError"}}class Lt extends vn{constructor(){super(...arguments),this.name="WalletNotConnectedError"}}class Zs extends vn{constructor(){super(...arguments),this.name="WalletSendTransactionError"}}class Zr extends vn{constructor(){super(...arguments),this.name="WalletSignTransactionError"}}class yf extends vn{constructor(){super(...arguments),this.name="WalletSignMessageError"}}class I1 extends vn{constructor(){super(...arguments),this.name="WalletSignInError"}}var ze;(function(e){e.Installed="Installed",e.NotDetected="NotDetected",e.Loadable="Loadable",e.Unsupported="Unsupported"})(ze||(ze={}));class RE extends Dg{get connected(){return!!this.publicKey}async autoConnect(){await this.connect()}async prepareTransaction(t,n,r={}){const s=this.publicKey;if(!s)throw new Lt;return t.feePayer=t.feePayer||s,t.recentBlockhash=t.recentBlockhash||(await n.getLatestBlockhash({commitment:r.preflightCommitment,minContextSlot:r.minContextSlot})).blockhash,t}}function NE(e){if(typeof window>"u"||typeof document>"u")return;const t=[];function n(){if(e())for(const i of t)i()}const r=setInterval(n,1e3);t.push(()=>clearInterval(r)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",n,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",n))),document.readyState!=="complete"&&(window.addEventListener("load",n,{once:!0}),t.push(()=>window.removeEventListener("load",n))),n()}function wp(){if(!navigator)return!1;const e=navigator.userAgent.toLowerCase(),t=e.includes("iphone")||e.includes("ipad"),n=e.includes("safari");return t&&n}function Ys(e){return"version"in e}class jC extends RE{async sendTransaction(t,n,r={}){let s=!0;try{if(Ys(t)){if(!this.supportedTransactionVersions)throw new Zs("Sending versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(t.version))throw new Zs(`Sending transaction version ${t.version} isn't supported by this wallet`);try{t=await this.signTransaction(t);const i=t.serialize();return await n.sendRawTransaction(i,r)}catch(i){throw i instanceof Zr?(s=!1,i):new Zs(i==null?void 0:i.message,i)}}else try{const{signers:i,...o}=r;t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i),t=await this.signTransaction(t);const a=t.serialize();return await n.sendRawTransaction(a,o)}catch(i){throw i instanceof Zr?(s=!1,i):new Zs(i==null?void 0:i.message,i)}}catch(i){throw s&&this.emit("error",i),i}}async signAllTransactions(t){for(const r of t)if(Ys(r)){if(!this.supportedTransactionVersions)throw new Zr("Signing versioned transactions isn't supported by this wallet");if(!this.supportedTransactionVersions.has(r.version))throw new Zr(`Signing transaction version ${r.version} isn't supported by this wallet`)}const n=[];for(const r of t)n.push(await this.signTransaction(r));return n}}class Yg extends jC{}class $C extends Yg{}const Gn="solana:signAndSendTransaction",lo="solana:signIn",qs="solana:signMessage",bt="solana:signTransaction",bf="standard:connect",_d="standard:disconnect",wf="standard:events";function DC(e){return bf in e.features&&wf in e.features&&(Gn in e.features||bt in e.features)}var xp;(function(e){e.Mainnet="mainnet-beta",e.Testnet="testnet",e.Devnet="devnet"})(xp||(xp={}));class T1 extends vn{constructor(){super(...arguments),this.name="WalletNotSelectedError"}}const zC=[],xf={autoConnect:!1,connecting:!1,connected:!1,disconnecting:!1,select(){qr("call","select")},connect(){return Promise.reject(qr("call","connect"))},disconnect(){return Promise.reject(qr("call","disconnect"))},sendTransaction(){return Promise.reject(qr("call","sendTransaction"))},signTransaction(){return Promise.reject(qr("call","signTransaction"))},signAllTransactions(){return Promise.reject(qr("call","signAllTransactions"))},signMessage(){return Promise.reject(qr("call","signMessage"))},signIn(){return Promise.reject(qr("call","signIn"))}};Object.defineProperty(xf,"wallets",{get(){return qr("read","wallets"),zC}});Object.defineProperty(xf,"wallet",{get(){return qr("read","wallet"),null}});Object.defineProperty(xf,"publicKey",{get(){return qr("read","publicKey"),null}});function qr(e,t){const n=new Error(`You have tried to ${e} "${t}" on a WalletContext without providing one. Make sure to render a WalletProvider as an ancestor of the component that uses WalletContext.`);return console.error(n),n}const CE=V.createContext(xf);function Du(){return V.useContext(CE)}function UC(e,t){const n=V.useState(()=>{try{const i=localStorage.getItem(e);if(i)return JSON.parse(i)}catch(i){typeof window<"u"&&console.error(i)}return t}),r=n[0],s=V.useRef(!0);return V.useEffect(()=>{if(s.current){s.current=!1;return}try{r===null?localStorage.removeItem(e):localStorage.setItem(e,JSON.stringify(r))}catch(i){typeof window<"u"&&console.error(i)}},[r,e]),n}var FC=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},ME={},_r={};let Jg;const WC=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];_r.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};_r.getSymbolTotalCodewords=function(t){return WC[t]};_r.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};_r.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Jg=t};_r.isKanjiModeEnabled=function(){return typeof Jg<"u"};_r.toSJIS=function(t){return Jg(t)};var vf={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(r){return r&&typeof r.bit<"u"&&r.bit>=0&&r.bit<4},e.from=function(r,s){if(e.isValid(r))return r;try{return t(r)}catch{return s}}})(vf);function kE(){this.buffer=[],this.length=0}kE.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var VC=kE;function zu(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}zu.prototype.set=function(e,t,n,r){const s=e*this.size+t;this.data[s]=n,r&&(this.reservedBit[s]=!0)};zu.prototype.get=function(e,t){return this.data[e*this.size+t]};zu.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};zu.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var qC=zu,BE={};(function(e){const t=_r.getSymbolSize;e.getRowColCoords=function(r){if(r===1)return[];const s=Math.floor(r/7)+2,i=t(r),o=i===145?26:Math.ceil((i-13)/(2*s-2))*2,a=[i-7];for(let c=1;c<s-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},e.getPositions=function(r){const s=[],i=e.getRowColCoords(r),o=i.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||s.push([i[a],i[c]]);return s}})(BE);var OE={};const HC=_r.getSymbolSize,R1=7;OE.getPositions=function(t){const n=HC(t);return[[0,0],[n-R1,0],[0,n-R1]]};var PE={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(s){return s!=null&&s!==""&&!isNaN(s)&&s>=0&&s<=7},e.from=function(s){return e.isValid(s)?parseInt(s,10):void 0},e.getPenaltyN1=function(s){const i=s.size;let o=0,a=0,c=0,u=null,l=null;for(let d=0;d<i;d++){a=c=0,u=l=null;for(let p=0;p<i;p++){let h=s.get(d,p);h===u?a++:(a>=5&&(o+=t.N1+(a-5)),u=h,a=1),h=s.get(p,d),h===l?c++:(c>=5&&(o+=t.N1+(c-5)),l=h,c=1)}a>=5&&(o+=t.N1+(a-5)),c>=5&&(o+=t.N1+(c-5))}return o},e.getPenaltyN2=function(s){const i=s.size;let o=0;for(let a=0;a<i-1;a++)for(let c=0;c<i-1;c++){const u=s.get(a,c)+s.get(a,c+1)+s.get(a+1,c)+s.get(a+1,c+1);(u===4||u===0)&&o++}return o*t.N2},e.getPenaltyN3=function(s){const i=s.size;let o=0,a=0,c=0;for(let u=0;u<i;u++){a=c=0;for(let l=0;l<i;l++)a=a<<1&2047|s.get(u,l),l>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|s.get(l,u),l>=10&&(c===1488||c===93)&&o++}return o*t.N3},e.getPenaltyN4=function(s){let i=0;const o=s.data.length;for(let c=0;c<o;c++)i+=s.data[c];return Math.abs(Math.ceil(i*100/o/5)-10)*t.N4};function n(r,s,i){switch(r){case e.Patterns.PATTERN000:return(s+i)%2===0;case e.Patterns.PATTERN001:return s%2===0;case e.Patterns.PATTERN010:return i%3===0;case e.Patterns.PATTERN011:return(s+i)%3===0;case e.Patterns.PATTERN100:return(Math.floor(s/2)+Math.floor(i/3))%2===0;case e.Patterns.PATTERN101:return s*i%2+s*i%3===0;case e.Patterns.PATTERN110:return(s*i%2+s*i%3)%2===0;case e.Patterns.PATTERN111:return(s*i%3+(s+i)%2)%2===0;default:throw new Error("bad maskPattern:"+r)}}e.applyMask=function(s,i){const o=i.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)i.isReserved(c,a)||i.xor(c,a,n(s,c,a))},e.getBestMask=function(s,i){const o=Object.keys(e.Patterns).length;let a=0,c=1/0;for(let u=0;u<o;u++){i(u),e.applyMask(u,s);const l=e.getPenaltyN1(s)+e.getPenaltyN2(s)+e.getPenaltyN3(s)+e.getPenaltyN4(s);e.applyMask(u,s),l<c&&(c=l,a=u)}return a}})(PE);var Ef={};const Ci=vf,Rl=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Nl=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];Ef.getBlocksCount=function(t,n){switch(n){case Ci.L:return Rl[(t-1)*4+0];case Ci.M:return Rl[(t-1)*4+1];case Ci.Q:return Rl[(t-1)*4+2];case Ci.H:return Rl[(t-1)*4+3];default:return}};Ef.getTotalCodewordsCount=function(t,n){switch(n){case Ci.L:return Nl[(t-1)*4+0];case Ci.M:return Nl[(t-1)*4+1];case Ci.Q:return Nl[(t-1)*4+2];case Ci.H:return Nl[(t-1)*4+3];default:return}};var LE={},Sf={};const Uc=new Uint8Array(512),Ad=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Uc[n]=t,Ad[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Uc[n]=Uc[n-255]})();Sf.log=function(t){if(t<1)throw new Error("log("+t+")");return Ad[t]};Sf.exp=function(t){return Uc[t]};Sf.mul=function(t,n){return t===0||n===0?0:Uc[Ad[t]+Ad[n]]};(function(e){const t=Sf;e.mul=function(r,s){const i=new Uint8Array(r.length+s.length-1);for(let o=0;o<r.length;o++)for(let a=0;a<s.length;a++)i[o+a]^=t.mul(r[o],s[a]);return i},e.mod=function(r,s){let i=new Uint8Array(r);for(;i.length-s.length>=0;){const o=i[0];for(let c=0;c<s.length;c++)i[c]^=t.mul(s[c],o);let a=0;for(;a<i.length&&i[a]===0;)a++;i=i.slice(a)}return i},e.generateECPolynomial=function(r){let s=new Uint8Array([1]);for(let i=0;i<r;i++)s=e.mul(s,new Uint8Array([1,t.exp(i)]));return s}})(LE);const jE=LE;function Qg(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Qg.prototype.initialize=function(t){this.degree=t,this.genPoly=jE.generateECPolynomial(this.degree)};Qg.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const r=jE.mod(n,this.genPoly),s=this.degree-r.length;if(s>0){const i=new Uint8Array(this.degree);return i.set(r,s),i}return r};var GC=Qg,$E={},$i={},Xg={};Xg.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Rs={};const DE="[0-9]+",KC="[A-Z $%*+\\-./:]+";let Yc="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Yc=Yc.replace(/u/g,"\\u");const ZC="(?:(?![A-Z0-9 $%*+\\-./:]|"+Yc+`)(?:.|[\r
]))+`;Rs.KANJI=new RegExp(Yc,"g");Rs.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Rs.BYTE=new RegExp(ZC,"g");Rs.NUMERIC=new RegExp(DE,"g");Rs.ALPHANUMERIC=new RegExp(KC,"g");const YC=new RegExp("^"+Yc+"$"),JC=new RegExp("^"+DE+"$"),QC=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Rs.testKanji=function(t){return YC.test(t)};Rs.testNumeric=function(t){return JC.test(t)};Rs.testAlphanumeric=function(t){return QC.test(t)};(function(e){const t=Xg,n=Rs;e.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(i,o){if(!i.ccBits)throw new Error("Invalid mode: "+i);if(!t.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?i.ccBits[0]:o<27?i.ccBits[1]:i.ccBits[2]},e.getBestModeForData=function(i){return n.testNumeric(i)?e.NUMERIC:n.testAlphanumeric(i)?e.ALPHANUMERIC:n.testKanji(i)?e.KANJI:e.BYTE},e.toString=function(i){if(i&&i.id)return i.id;throw new Error("Invalid mode")},e.isValid=function(i){return i&&i.bit&&i.ccBits};function r(s){if(typeof s!="string")throw new Error("Param is not a string");switch(s.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+s)}}e.from=function(i,o){if(e.isValid(i))return i;try{return r(i)}catch{return o}}})($i);(function(e){const t=_r,n=Ef,r=vf,s=$i,i=Xg,o=7973,a=t.getBCHDigit(o);function c(p,h,g){for(let y=1;y<=40;y++)if(h<=e.getCapacity(y,g,p))return y}function u(p,h){return s.getCharCountIndicator(p,h)+4}function l(p,h){let g=0;return p.forEach(function(y){const E=u(y.mode,h);g+=E+y.getBitsLength()}),g}function d(p,h){for(let g=1;g<=40;g++)if(l(p,g)<=e.getCapacity(g,h,s.MIXED))return g}e.from=function(h,g){return i.isValid(h)?parseInt(h,10):g},e.getCapacity=function(h,g,y){if(!i.isValid(h))throw new Error("Invalid QR Code version");typeof y>"u"&&(y=s.BYTE);const E=t.getSymbolTotalCodewords(h),S=n.getTotalCodewordsCount(h,g),M=(E-S)*8;if(y===s.MIXED)return M;const _=M-u(y,h);switch(y){case s.NUMERIC:return Math.floor(_/10*3);case s.ALPHANUMERIC:return Math.floor(_/11*2);case s.KANJI:return Math.floor(_/13);case s.BYTE:default:return Math.floor(_/8)}},e.getBestVersionForData=function(h,g){let y;const E=r.from(g,r.M);if(Array.isArray(h)){if(h.length>1)return d(h,E);if(h.length===0)return 1;y=h[0]}else y=h;return c(y.mode,y.getLength(),E)},e.getEncodedBits=function(h){if(!i.isValid(h)||h<7)throw new Error("Invalid QR Code version");let g=h<<12;for(;t.getBCHDigit(g)-a>=0;)g^=o<<t.getBCHDigit(g)-a;return h<<12|g}})($E);var zE={};const vp=_r,UE=1335,XC=21522,N1=vp.getBCHDigit(UE);zE.getEncodedBits=function(t,n){const r=t.bit<<3|n;let s=r<<10;for(;vp.getBCHDigit(s)-N1>=0;)s^=UE<<vp.getBCHDigit(s)-N1;return(r<<10|s)^XC};var FE={};const eM=$i;function La(e){this.mode=eM.NUMERIC,this.data=e.toString()}La.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};La.prototype.getLength=function(){return this.data.length};La.prototype.getBitsLength=function(){return La.getBitsLength(this.data.length)};La.prototype.write=function(t){let n,r,s;for(n=0;n+3<=this.data.length;n+=3)r=this.data.substr(n,3),s=parseInt(r,10),t.put(s,10);const i=this.data.length-n;i>0&&(r=this.data.substr(n),s=parseInt(r,10),t.put(s,i*3+1))};var tM=La;const nM=$i,Qh=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function ja(e){this.mode=nM.ALPHANUMERIC,this.data=e}ja.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};ja.prototype.getLength=function(){return this.data.length};ja.prototype.getBitsLength=function(){return ja.getBitsLength(this.data.length)};ja.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let r=Qh.indexOf(this.data[n])*45;r+=Qh.indexOf(this.data[n+1]),t.put(r,11)}this.data.length%2&&t.put(Qh.indexOf(this.data[n]),6)};var rM=ja;const sM=$i;function $a(e){this.mode=sM.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}$a.getBitsLength=function(t){return t*8};$a.prototype.getLength=function(){return this.data.length};$a.prototype.getBitsLength=function(){return $a.getBitsLength(this.data.length)};$a.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var iM=$a;const oM=$i,aM=_r;function Da(e){this.mode=oM.KANJI,this.data=e}Da.getBitsLength=function(t){return t*13};Da.prototype.getLength=function(){return this.data.length};Da.prototype.getBitsLength=function(){return Da.getBitsLength(this.data.length)};Da.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=aM.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var cM=Da,WE={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,r,s){var i={},o={};o[r]=0;var a=t.PriorityQueue.make();a.push(r,0);for(var c,u,l,d,p,h,g,y,E;!a.empty();){c=a.pop(),u=c.value,d=c.cost,p=n[u]||{};for(l in p)p.hasOwnProperty(l)&&(h=p[l],g=d+h,y=o[l],E=typeof o[l]>"u",(E||y>g)&&(o[l]=g,a.push(l,g),i[l]=u))}if(typeof s<"u"&&typeof o[s]>"u"){var S=["Could not find a path from ",r," to ",s,"."].join("");throw new Error(S)}return i},extract_shortest_path_from_predecessor_list:function(n,r){for(var s=[],i=r;i;)s.push(i),n[i],i=n[i];return s.reverse(),s},find_path:function(n,r,s){var i=t.single_source_shortest_paths(n,r,s);return t.extract_shortest_path_from_predecessor_list(i,s)},PriorityQueue:{make:function(n){var r=t.PriorityQueue,s={},i;n=n||{};for(i in r)r.hasOwnProperty(i)&&(s[i]=r[i]);return s.queue=[],s.sorter=n.sorter||r.default_sorter,s},default_sorter:function(n,r){return n.cost-r.cost},push:function(n,r){var s={value:n,cost:r};this.queue.push(s),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(WE);var uM=WE.exports;(function(e){const t=$i,n=tM,r=rM,s=iM,i=cM,o=Rs,a=_r,c=uM;function u(S){return unescape(encodeURIComponent(S)).length}function l(S,M,_){const T=[];let O;for(;(O=S.exec(_))!==null;)T.push({data:O[0],index:O.index,mode:M,length:O[0].length});return T}function d(S){const M=l(o.NUMERIC,t.NUMERIC,S),_=l(o.ALPHANUMERIC,t.ALPHANUMERIC,S);let T,O;return a.isKanjiModeEnabled()?(T=l(o.BYTE,t.BYTE,S),O=l(o.KANJI,t.KANJI,S)):(T=l(o.BYTE_KANJI,t.BYTE,S),O=[]),M.concat(_,T,O).sort(function(D,z){return D.index-z.index}).map(function(D){return{data:D.data,mode:D.mode,length:D.length}})}function p(S,M){switch(M){case t.NUMERIC:return n.getBitsLength(S);case t.ALPHANUMERIC:return r.getBitsLength(S);case t.KANJI:return i.getBitsLength(S);case t.BYTE:return s.getBitsLength(S)}}function h(S){return S.reduce(function(M,_){const T=M.length-1>=0?M[M.length-1]:null;return T&&T.mode===_.mode?(M[M.length-1].data+=_.data,M):(M.push(_),M)},[])}function g(S){const M=[];for(let _=0;_<S.length;_++){const T=S[_];switch(T.mode){case t.NUMERIC:M.push([T,{data:T.data,mode:t.ALPHANUMERIC,length:T.length},{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.ALPHANUMERIC:M.push([T,{data:T.data,mode:t.BYTE,length:T.length}]);break;case t.KANJI:M.push([T,{data:T.data,mode:t.BYTE,length:u(T.data)}]);break;case t.BYTE:M.push([{data:T.data,mode:t.BYTE,length:u(T.data)}])}}return M}function y(S,M){const _={},T={start:{}};let O=["start"];for(let $=0;$<S.length;$++){const D=S[$],z=[];for(let U=0;U<D.length;U++){const K=D[U],W=""+$+U;z.push(W),_[W]={node:K,lastCount:0},T[W]={};for(let q=0;q<O.length;q++){const I=O[q];_[I]&&_[I].node.mode===K.mode?(T[I][W]=p(_[I].lastCount+K.length,K.mode)-p(_[I].lastCount,K.mode),_[I].lastCount+=K.length):(_[I]&&(_[I].lastCount=K.length),T[I][W]=p(K.length,K.mode)+4+t.getCharCountIndicator(K.mode,M))}}O=z}for(let $=0;$<O.length;$++)T[O[$]].end=0;return{map:T,table:_}}function E(S,M){let _;const T=t.getBestModeForData(S);if(_=t.from(M,T),_!==t.BYTE&&_.bit<T.bit)throw new Error('"'+S+'" cannot be encoded with mode '+t.toString(_)+`.
 Suggested mode is: `+t.toString(T));switch(_===t.KANJI&&!a.isKanjiModeEnabled()&&(_=t.BYTE),_){case t.NUMERIC:return new n(S);case t.ALPHANUMERIC:return new r(S);case t.KANJI:return new i(S);case t.BYTE:return new s(S)}}e.fromArray=function(M){return M.reduce(function(_,T){return typeof T=="string"?_.push(E(T,null)):T.data&&_.push(E(T.data,T.mode)),_},[])},e.fromString=function(M,_){const T=d(M,a.isKanjiModeEnabled()),O=g(T),$=y(O,_),D=c.find_path($.map,"start","end"),z=[];for(let U=1;U<D.length-1;U++)z.push($.table[D[U]].node);return e.fromArray(h(z))},e.rawSplit=function(M){return e.fromArray(d(M,a.isKanjiModeEnabled()))}})(FE);const _f=_r,Xh=vf,lM=VC,dM=qC,fM=BE,hM=OE,Ep=PE,Sp=Ef,pM=GC,Id=$E,mM=zE,gM=$i,e0=FE;function yM(e,t){const n=e.size,r=hM.getPositions(t);for(let s=0;s<r.length;s++){const i=r[s][0],o=r[s][1];for(let a=-1;a<=7;a++)if(!(i+a<=-1||n<=i+a))for(let c=-1;c<=7;c++)o+c<=-1||n<=o+c||(a>=0&&a<=6&&(c===0||c===6)||c>=0&&c<=6&&(a===0||a===6)||a>=2&&a<=4&&c>=2&&c<=4?e.set(i+a,o+c,!0,!0):e.set(i+a,o+c,!1,!0))}}function bM(e){const t=e.size;for(let n=8;n<t-8;n++){const r=n%2===0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}function wM(e,t){const n=fM.getPositions(t);for(let r=0;r<n.length;r++){const s=n[r][0],i=n[r][1];for(let o=-2;o<=2;o++)for(let a=-2;a<=2;a++)o===-2||o===2||a===-2||a===2||o===0&&a===0?e.set(s+o,i+a,!0,!0):e.set(s+o,i+a,!1,!0)}}function xM(e,t){const n=e.size,r=Id.getEncodedBits(t);let s,i,o;for(let a=0;a<18;a++)s=Math.floor(a/3),i=a%3+n-8-3,o=(r>>a&1)===1,e.set(s,i,o,!0),e.set(i,s,o,!0)}function t0(e,t,n){const r=e.size,s=mM.getEncodedBits(t,n);let i,o;for(i=0;i<15;i++)o=(s>>i&1)===1,i<6?e.set(i,8,o,!0):i<8?e.set(i+1,8,o,!0):e.set(r-15+i,8,o,!0),i<8?e.set(8,r-i-1,o,!0):i<9?e.set(8,15-i-1+1,o,!0):e.set(8,15-i-1,o,!0);e.set(r-8,8,1,!0)}function vM(e,t){const n=e.size;let r=-1,s=n-1,i=7,o=0;for(let a=n-1;a>0;a-=2)for(a===6&&a--;;){for(let c=0;c<2;c++)if(!e.isReserved(s,a-c)){let u=!1;o<t.length&&(u=(t[o]>>>i&1)===1),e.set(s,a-c,u),i--,i===-1&&(o++,i=7)}if(s+=r,s<0||n<=s){s-=r,r=-r;break}}}function EM(e,t,n){const r=new lM;n.forEach(function(c){r.put(c.mode.bit,4),r.put(c.getLength(),gM.getCharCountIndicator(c.mode,e)),c.write(r)});const s=_f.getSymbolTotalCodewords(e),i=Sp.getTotalCodewordsCount(e,t),o=(s-i)*8;for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!==0;)r.putBit(0);const a=(o-r.getLengthInBits())/8;for(let c=0;c<a;c++)r.put(c%2?17:236,8);return SM(r,e,t)}function SM(e,t,n){const r=_f.getSymbolTotalCodewords(t),s=Sp.getTotalCodewordsCount(t,n),i=r-s,o=Sp.getBlocksCount(t,n),a=r%o,c=o-a,u=Math.floor(r/o),l=Math.floor(i/o),d=l+1,p=u-l,h=new pM(p);let g=0;const y=new Array(o),E=new Array(o);let S=0;const M=new Uint8Array(e.buffer);for(let D=0;D<o;D++){const z=D<c?l:d;y[D]=M.slice(g,g+z),E[D]=h.encode(y[D]),g+=z,S=Math.max(S,z)}const _=new Uint8Array(r);let T=0,O,$;for(O=0;O<S;O++)for($=0;$<o;$++)O<y[$].length&&(_[T++]=y[$][O]);for(O=0;O<p;O++)for($=0;$<o;$++)_[T++]=E[$][O];return _}function _M(e,t,n,r){let s;if(Array.isArray(e))s=e0.fromArray(e);else if(typeof e=="string"){let u=t;if(!u){const l=e0.rawSplit(e);u=Id.getBestVersionForData(l,n)}s=e0.fromString(e,u||40)}else throw new Error("Invalid data");const i=Id.getBestVersionForData(s,n);if(!i)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=i;else if(t<i)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+i+`.
`);const o=EM(t,n,s),a=_f.getSymbolSize(t),c=new dM(a);return yM(c,t),bM(c),wM(c,t),t0(c,n,0),t>=7&&xM(c,t),vM(c,o),isNaN(r)&&(r=Ep.getBestMask(c,t0.bind(null,c,n))),Ep.applyMask(r,c),t0(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:s}}ME.create=function(t,n){if(typeof t>"u"||t==="")throw new Error("No input text");let r=Xh.M,s,i;return typeof n<"u"&&(r=Xh.from(n.errorCorrectionLevel,Xh.M),s=Id.from(n.version),i=Ep.from(n.maskPattern),n.toSJISFunc&&_f.setToSJISFunction(n.toSJISFunc)),_M(t,s,r,i)};var VE={},ey={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let r=n.slice().replace("#","").split("");if(r.length<3||r.length===5||r.length>8)throw new Error("Invalid hex color: "+n);(r.length===3||r.length===4)&&(r=Array.prototype.concat.apply([],r.map(function(i){return[i,i]}))),r.length===6&&r.push("F","F");const s=parseInt(r.join(""),16);return{r:s>>24&255,g:s>>16&255,b:s>>8&255,a:s&255,hex:"#"+r.slice(0,6).join("")}}e.getOptions=function(r){r||(r={}),r.color||(r.color={});const s=typeof r.margin>"u"||r.margin===null||r.margin<0?4:r.margin,i=r.width&&r.width>=21?r.width:void 0,o=r.scale||4;return{width:i,scale:i?4:o,margin:s,color:{dark:t(r.color.dark||"#000000ff"),light:t(r.color.light||"#ffffffff")},type:r.type,rendererOpts:r.rendererOpts||{}}},e.getScale=function(r,s){return s.width&&s.width>=r+s.margin*2?s.width/(r+s.margin*2):s.scale},e.getImageWidth=function(r,s){const i=e.getScale(r,s);return Math.floor((r+s.margin*2)*i)},e.qrToImageData=function(r,s,i){const o=s.modules.size,a=s.modules.data,c=e.getScale(o,i),u=Math.floor((o+i.margin*2)*c),l=i.margin*c,d=[i.color.light,i.color.dark];for(let p=0;p<u;p++)for(let h=0;h<u;h++){let g=(p*u+h)*4,y=i.color.light;if(p>=l&&h>=l&&p<u-l&&h<u-l){const E=Math.floor((p-l)/c),S=Math.floor((h-l)/c);y=d[a[E*o+S]?1:0]}r[g++]=y.r,r[g++]=y.g,r[g++]=y.b,r[g]=y.a}}})(ey);(function(e){const t=ey;function n(s,i,o){s.clearRect(0,0,i.width,i.height),i.style||(i.style={}),i.height=o,i.width=o,i.style.height=o+"px",i.style.width=o+"px"}function r(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(i,o,a){let c=a,u=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(u=r()),c=t.getOptions(c);const l=t.getImageWidth(i.modules.size,c),d=u.getContext("2d"),p=d.createImageData(l,l);return t.qrToImageData(p.data,i,c),n(d,u,l),d.putImageData(p,0,0),u},e.renderToDataURL=function(i,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const u=e.render(i,o,c),l=c.type||"image/png",d=c.rendererOpts||{};return u.toDataURL(l,d.quality)}})(VE);var qE={};const AM=ey;function C1(e,t){const n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function n0(e,t,n){let r=e+t;return typeof n<"u"&&(r+=" "+n),r}function IM(e,t,n){let r="",s=0,i=!1,o=0;for(let a=0;a<e.length;a++){const c=Math.floor(a%t),u=Math.floor(a/t);!c&&!i&&(i=!0),e[a]?(o++,a>0&&c>0&&e[a-1]||(r+=i?n0("M",c+n,.5+u+n):n0("m",s,0),s=0,i=!1),c+1<t&&e[a+1]||(r+=n0("h",o),o=0)):s++}return r}qE.render=function(t,n,r){const s=AM.getOptions(n),i=t.modules.size,o=t.modules.data,a=i+s.margin*2,c=s.color.light.a?"<path "+C1(s.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+C1(s.color.dark,"stroke")+' d="'+IM(o,i,s.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',p='<svg xmlns="http://www.w3.org/2000/svg" '+(s.width?'width="'+s.width+'" height="'+s.width+'" ':"")+l+' shape-rendering="crispEdges">'+c+u+`</svg>
`;return typeof r=="function"&&r(null,p),p};const TM=FC,_p=ME,HE=VE,RM=qE;function ty(e,t,n,r,s){const i=[].slice.call(arguments,1),o=i.length,a=typeof i[o-1]=="function";if(!a&&!TM())throw new Error("Callback required as last argument");if(a){if(o<2)throw new Error("Too few arguments provided");o===2?(s=n,n=t,t=r=void 0):o===3&&(t.getContext&&typeof s>"u"?(s=r,r=void 0):(s=r,r=n,n=t,t=void 0))}else{if(o<1)throw new Error("Too few arguments provided");return o===1?(n=t,t=r=void 0):o===2&&!t.getContext&&(r=n,n=t,t=void 0),new Promise(function(c,u){try{const l=_p.create(n,r);c(e(l,t,r))}catch(l){u(l)}})}try{const c=_p.create(n,r);s(null,e(c,t,r))}catch(c){s(c)}}_p.create;ty.bind(null,HE.render);ty.bind(null,HE.renderToDataURL);ty.bind(null,function(e,t,n){return RM.render(e,n)});function r0(e){switch(e){case"processed":case"confirmed":case"finalized":case void 0:return e;case"recent":return"processed";case"single":case"singleGossip":return"confirmed";case"max":case"root":return"finalized";default:return}}const Jc="solana:mainnet",GE="solana:devnet",KE="solana:testnet",NM="solana:localnet",CM="https://api.mainnet-beta.solana.com";function MM(e){return e.includes(CM)?Jc:/\bdevnet\b/i.test(e)?GE:/\btestnet\b/i.test(e)?KE:/\blocalhost\b/i.test(e)||/\b127\.0\.0\.1\b/.test(e)?NM:Jc}function kM(e){let t=`${e.domain} wants you to sign in with your Solana account:
`;t+=`${e.address}`,e.statement&&(t+=`

${e.statement}`);const n=[];if(e.uri&&n.push(`URI: ${e.uri}`),e.version&&n.push(`Version: ${e.version}`),e.chainId&&n.push(`Chain ID: ${e.chainId}`),e.nonce&&n.push(`Nonce: ${e.nonce}`),e.issuedAt&&n.push(`Issued At: ${e.issuedAt}`),e.expirationTime&&n.push(`Expiration Time: ${e.expirationTime}`),e.notBefore&&n.push(`Not Before: ${e.notBefore}`),e.requestId&&n.push(`Request ID: ${e.requestId}`),e.resources){n.push("Resources:");for(const r of e.resources)n.push(`- ${r}`)}return n.length&&(t+=`

${n.join(`
`)}`),t}function BM(e){return Object.freeze({...e,decode:(t,n=0)=>e.read(t,n)[0]})}var OM=e=>BM({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const i=e[0].repeat(s);if(s===r.length)return[i,t.length];const o=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),a=PM(o,e);return[i+a,t.length]}});function PM(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var LM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",jM=()=>OM(LM);const ni={ERROR_ASSOCIATION_PORT_OUT_OF_RANGE:"ERROR_ASSOCIATION_PORT_OUT_OF_RANGE",ERROR_FORBIDDEN_WALLET_BASE_URL:"ERROR_FORBIDDEN_WALLET_BASE_URL",ERROR_SECURE_CONTEXT_REQUIRED:"ERROR_SECURE_CONTEXT_REQUIRED",ERROR_SESSION_CLOSED:"ERROR_SESSION_CLOSED",ERROR_SESSION_TIMEOUT:"ERROR_SESSION_TIMEOUT",ERROR_WALLET_NOT_FOUND:"ERROR_WALLET_NOT_FOUND",ERROR_INVALID_PROTOCOL_VERSION:"ERROR_INVALID_PROTOCOL_VERSION"};class ri extends Error{constructor(...t){const[n,r,s]=t;super(r),this.code=n,this.data=s,this.name="SolanaMobileWalletAdapterError"}}class ZE extends Error{constructor(...t){const[n,r,s,i]=t;super(s),this.code=r,this.data=i,this.jsonRpcMessageId=n,this.name="SolanaMobileWalletAdapterProtocolError"}}function cn(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function $M(e){return window.btoa(e)}function M1(e,t){return window.btoa(String.fromCharCode.call(null,...e))}function YE(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}function s0(e,t){return cn(this,void 0,void 0,function*(){const n=yield crypto.subtle.exportKey("raw",e),r=yield crypto.subtle.sign({hash:"SHA-256",name:"ECDSA"},t,n),s=new Uint8Array(n.byteLength+r.byteLength);return s.set(new Uint8Array(n),0),s.set(new Uint8Array(r),n.byteLength),s})}function DM(e){return kM(e)}function zM(e){return $M(DM(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}const UM="solana:signTransactions",k1="solana:cloneAuthorization";function FM(e){return jM().decode(e)}function WM(e){return FM(YE(e))}function VM(e,t){return new Proxy({},{get(n,r){return r==="then"?null:(n[r]==null&&(n[r]=function(s){return cn(this,void 0,void 0,function*(){const{method:i,params:o}=qM(r,s,e),a=yield t(i,o);return i==="authorize"&&o.sign_in_payload&&!a.sign_in_result&&(a.sign_in_result=yield GM(o.sign_in_payload,a,t)),HM(r,a,e)})}),n[r])},defineProperty(){return!1},deleteProperty(){return!1}})}function qM(e,t,n){let r=t,s=e.toString().replace(/[A-Z]/g,i=>`_${i.toLowerCase()}`).toLowerCase();switch(e){case"authorize":{let{chain:i}=r;if(n==="legacy"){switch(i){case"solana:testnet":{i="testnet";break}case"solana:devnet":{i="devnet";break}case"solana:mainnet":{i="mainnet-beta";break}default:i=r.cluster}r.cluster=i}else{switch(i){case"testnet":case"devnet":{i=`solana:${i}`;break}case"mainnet-beta":{i="solana:mainnet";break}}r.chain=i}}case"reauthorize":{const{auth_token:i,identity:o}=r;if(i)switch(n){case"legacy":{s="reauthorize",r={auth_token:i,identity:o};break}default:{s="authorize";break}}break}}return{method:s,params:r}}function HM(e,t,n){switch(e){case"getCapabilities":{const r=t;switch(n){case"legacy":{const s=[UM];return r.supports_clone_authorization===!0&&s.push(k1),Object.assign(Object.assign({},r),{features:s})}case"v1":return Object.assign(Object.assign({},r),{supports_sign_and_send_transactions:!0,supports_clone_authorization:r.features.includes(k1)})}}}return t}function GM(e,t,n){var r;return cn(this,void 0,void 0,function*(){const s=(r=e.domain)!==null&&r!==void 0?r:window.location.host,i=t.accounts[0].address,o=zM(Object.assign(Object.assign({},e),{domain:s,address:WM(i)})),a=yield n("sign_messages",{addresses:[i],payloads:[o]}),c=YE(a.signed_payloads[0]),u=M1(c.slice(0,c.length-64)),l=M1(c.slice(c.length-64));return{address:i,signed_message:u.length==0?o:u,signature:l}})}const eo=4;function KM(e){if(e>=4294967296)throw new Error("Outbound sequence number overflow. The maximum sequence number is 32-bytes.");const t=new ArrayBuffer(eo);return new DataView(t).setUint32(0,e,!1),new Uint8Array(t)}const Ap=12,JE=65;function ZM(e,t,n){return cn(this,void 0,void 0,function*(){const r=KM(t),s=new Uint8Array(Ap);crypto.getRandomValues(s);const i=yield crypto.subtle.encrypt(XE(r,s),n,new TextEncoder().encode(e)),o=new Uint8Array(r.byteLength+s.byteLength+i.byteLength);return o.set(new Uint8Array(r),0),o.set(new Uint8Array(s),r.byteLength),o.set(new Uint8Array(i),r.byteLength+s.byteLength),o})}function QE(e,t){return cn(this,void 0,void 0,function*(){const n=e.slice(0,eo),r=e.slice(eo,eo+Ap),s=e.slice(eo+Ap),i=yield crypto.subtle.decrypt(XE(n,r),t,s);return YM().decode(i)})}function XE(e,t){return{additionalData:e,iv:t,name:"AES-GCM",tagLength:128}}let i0;function YM(){return i0===void 0&&(i0=new TextDecoder("utf-8")),i0}function JM(){return cn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDSA",namedCurve:"P-256"},!1,["sign"])})}function o0(){return cn(this,void 0,void 0,function*(){return yield crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!1,["deriveKey","deriveBits"])})}function QM(e){let t="";const n=new Uint8Array(e),r=n.byteLength;for(let s=0;s<r;s++)t+=String.fromCharCode(n[s]);return window.btoa(t)}function XM(){return e6(49152+Math.floor(Math.random()*16384))}function e6(e){if(e<49152||e>65535)throw new ri(ni.ERROR_ASSOCIATION_PORT_OUT_OF_RANGE,`Association port number must be between 49152 and 65535. ${e} given.`,{port:e});return e}function ek(e){return e.replace(/[/+=]/g,t=>({"/":"_","+":"-","=":"."})[t])}const tk="solana-wallet";function B1(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function nk(e,t){let n=null;if(t){try{n=new URL(t)}catch{}if((n==null?void 0:n.protocol)!=="https:")throw new ri(ni.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}n||(n=new URL(`${tk}:/`));const r=e.startsWith("/")?e:[...B1(n.pathname),...B1(e)].join("/");return new URL(r,n)}function rk(e,t,n,r=["v1"]){return cn(this,void 0,void 0,function*(){const s=e6(t),i=yield crypto.subtle.exportKey("raw",e),o=QM(i),a=nk("v1/associate/local",n);return a.searchParams.set("association",ek(o)),a.searchParams.set("port",`${s}`),r.forEach(c=>{a.searchParams.set("v",c)}),a})}function sk(e,t){return cn(this,void 0,void 0,function*(){const n=JSON.stringify(e),r=e.id;return ZM(n,r,t)})}function ik(e,t){return cn(this,void 0,void 0,function*(){const n=yield QE(e,t),r=JSON.parse(n);if(Object.hasOwnProperty.call(r,"error"))throw new ZE(r.id,r.error.code,r.error.message);return r})}function ok(e,t,n){return cn(this,void 0,void 0,function*(){const[r,s]=yield Promise.all([crypto.subtle.exportKey("raw",t),crypto.subtle.importKey("raw",e.slice(0,JE),{name:"ECDH",namedCurve:"P-256"},!1,[])]),i=yield crypto.subtle.deriveBits({name:"ECDH",public:s},n,256),o=yield crypto.subtle.importKey("raw",i,"HKDF",!1,["deriveKey"]);return yield crypto.subtle.deriveKey({name:"HKDF",hash:"SHA-256",salt:new Uint8Array(r),info:new Uint8Array},o,{name:"AES-GCM",length:128},!1,["encrypt","decrypt"])})}function ak(e,t){return cn(this,void 0,void 0,function*(){const n=yield QE(e,t),r=JSON.parse(n);let s="legacy";if(Object.hasOwnProperty.call(r,"v"))switch(r.v){case 1:case"1":case"v1":s="v1";break;case"legacy":s="legacy";break;default:throw new ri(ni.ERROR_INVALID_PROTOCOL_VERSION,`Unknown/unsupported protocol version: ${r.v}`)}return{protocol_version:s}})}const Td={Firefox:0,Other:1};function ck(){return navigator.userAgent.indexOf("Firefox/")!==-1?Td.Firefox:Td.Other}function uk(){return new Promise((e,t)=>{function n(){clearTimeout(s),window.removeEventListener("blur",r)}function r(){n(),e()}window.addEventListener("blur",r);const s=setTimeout(()=>{n(),t()},3e3)})}let Ec=null;function lk(e){Ec==null&&(Ec=document.createElement("iframe"),Ec.style.display="none",document.body.appendChild(Ec)),Ec.contentWindow.location.href=e.toString()}function dk(e){return cn(this,void 0,void 0,function*(){if(e.protocol==="https:")window.location.assign(e);else try{const t=ck();switch(t){case Td.Firefox:lk(e);break;case Td.Other:{const n=uk();window.location.assign(e),yield n;break}default:}}catch{throw new ri(ni.ERROR_WALLET_NOT_FOUND,"Found no installed wallet that supports the mobile wallet protocol.")}})}function fk(e,t){return cn(this,void 0,void 0,function*(){const n=XM(),r=yield rk(e,n,t);return yield dk(r),n})}const O1={retryDelayScheduleMs:[150,150,200,500,500,750,750,1e3],timeoutMs:3e4},hk="com.solana.mobilewalletadapter.v1";function pk(){if(typeof window>"u"||window.isSecureContext!==!0)throw new ri(ni.ERROR_SECURE_CONTEXT_REQUIRED,"The mobile wallet adapter protocol must be used in a secure context (`https`).")}function mk(e){let t;try{t=new URL(e)}catch{throw new ri(ni.ERROR_FORBIDDEN_WALLET_BASE_URL,"Invalid base URL supplied by wallet")}if(t.protocol!=="https:")throw new ri(ni.ERROR_FORBIDDEN_WALLET_BASE_URL,"Base URLs supplied by wallets must be valid `https` URLs")}function P1(e){return new DataView(e).getUint32(0,!1)}function gk(e,t){return cn(this,void 0,void 0,function*(){pk();const n=yield JM(),s=`ws://localhost:${yield fk(n.publicKey,t==null?void 0:t.baseUri)}/solana-wallet`;let i;const o=(()=>{const l=[...O1.retryDelayScheduleMs];return()=>l.length>1?l.shift():l[0]})();let a=1,c=0,u={__type:"disconnected"};return new Promise((l,d)=>{let p;const h={},g=()=>cn(this,void 0,void 0,function*(){if(u.__type!=="connecting"){console.warn(`Expected adapter state to be \`connecting\` at the moment the websocket opens. Got \`${u.__type}\`.`);return}p.removeEventListener("open",g);const{associationKeypair:O}=u,$=yield o0();p.send(yield s0($.publicKey,O.privateKey)),u={__type:"hello_req_sent",associationPublicKey:O.publicKey,ecdhPrivateKey:$.privateKey}}),y=O=>{O.wasClean?u={__type:"disconnected"}:d(new ri(ni.ERROR_SESSION_CLOSED,`The wallet session dropped unexpectedly (${O.code}: ${O.reason}).`,{closeEvent:O})),M()},E=O=>cn(this,void 0,void 0,function*(){M(),Date.now()-i>=O1.timeoutMs?d(new ri(ni.ERROR_SESSION_TIMEOUT,`Failed to connect to the wallet websocket at ${s}.`)):(yield new Promise($=>{const D=o();_=window.setTimeout($,D)}),T())}),S=O=>cn(this,void 0,void 0,function*(){const $=yield O.data.arrayBuffer();switch(u.__type){case"connecting":if($.byteLength!==0)throw new Error("Encountered unexpected message while connecting");const D=yield o0();p.send(yield s0(D.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:D.privateKey};break;case"connected":try{const z=$.slice(0,eo),U=P1(z);if(U!==c+1)throw new Error("Encrypted message has invalid sequence number");c=U;const K=yield ik($,u.sharedSecret),W=h[K.id];delete h[K.id],W.resolve(K.result)}catch(z){if(z instanceof ZE){const U=h[z.jsonRpcMessageId];delete h[z.jsonRpcMessageId],U.reject(z)}else throw z}break;case"hello_req_sent":{if($.byteLength===0){const q=yield o0();p.send(yield s0(q.publicKey,n.privateKey)),u={__type:"hello_req_sent",associationPublicKey:n.publicKey,ecdhPrivateKey:q.privateKey};break}const z=yield ok($,u.associationPublicKey,u.ecdhPrivateKey),U=$.slice(JE),K=U.byteLength!==0?yield cn(this,void 0,void 0,function*(){const q=U.slice(0,eo),I=P1(q);if(I!==c+1)throw new Error("Encrypted message has invalid sequence number");return c=I,ak(U,z)}):{protocol_version:"legacy"};u={__type:"connected",sharedSecret:z,sessionProperties:K};const W=VM(K.protocol_version,(q,I)=>cn(this,void 0,void 0,function*(){const f=a++;return p.send(yield sk({id:f,jsonrpc:"2.0",method:q,params:I??{}},z)),new Promise((m,v)=>{h[f]={resolve(R){switch(q){case"authorize":case"reauthorize":{const{wallet_uri_base:A}=R;if(A!=null)try{mk(A)}catch(B){v(B);return}break}}m(R)},reject:v}})}));try{l(yield e(W))}catch(q){d(q)}finally{M(),p.close()}break}}});let M,_;const T=()=>{M&&M(),u={__type:"connecting",associationKeypair:n},i===void 0&&(i=Date.now()),p=new WebSocket(s,[hk]),p.addEventListener("open",g),p.addEventListener("close",y),p.addEventListener("error",E),p.addEventListener("message",S),M=()=>{window.clearTimeout(_),p.removeEventListener("open",g),p.removeEventListener("close",y),p.removeEventListener("error",E),p.removeEventListener("message",S)}};T()})})}function yk(e){if(e.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),n=0;n<t.length;n++)t[n]=255;for(var r=0;r<e.length;r++){var s=e.charAt(r),i=s.charCodeAt(0);if(t[i]!==255)throw new TypeError(s+" is ambiguous");t[i]=r}var o=e.length,a=e.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(h){if(h instanceof Uint8Array||(ArrayBuffer.isView(h)?h=new Uint8Array(h.buffer,h.byteOffset,h.byteLength):Array.isArray(h)&&(h=Uint8Array.from(h))),!(h instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(h.length===0)return"";for(var g=0,y=0,E=0,S=h.length;E!==S&&h[E]===0;)E++,g++;for(var M=(S-E)*u+1>>>0,_=new Uint8Array(M);E!==S;){for(var T=h[E],O=0,$=M-1;(T!==0||O<y)&&$!==-1;$--,O++)T+=256*_[$]>>>0,_[$]=T%o>>>0,T=T/o>>>0;if(T!==0)throw new Error("Non-zero carry");y=O,E++}for(var D=M-y;D!==M&&_[D]===0;)D++;for(var z=a.repeat(g);D<M;++D)z+=e.charAt(_[D]);return z}function d(h){if(typeof h!="string")throw new TypeError("Expected String");if(h.length===0)return new Uint8Array;for(var g=0,y=0,E=0;h[g]===a;)y++,g++;for(var S=(h.length-g)*c+1>>>0,M=new Uint8Array(S);h[g];){var _=h.charCodeAt(g);if(_>255)return;var T=t[_];if(T===255)return;for(var O=0,$=S-1;(T!==0||O<E)&&$!==-1;$--,O++)T+=o*M[$]>>>0,M[$]=T%256>>>0,T=T/256>>>0;if(T!==0)throw new Error("Non-zero carry");E=O,g++}for(var D=S-E;D!==S&&M[D]===0;)D++;for(var z=new Uint8Array(y+(S-D)),U=y;D!==S;)z[U++]=M[D++];return z}function p(h){var g=d(h);if(g)return g;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:p}}var bk=yk;const wk=bk,xk="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var vk=wk(xk);const Rd=Nu(vk);function gt(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function te(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function tn(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Bc,hn,Fi,sa,t6,n6,r6,$l;const Ek=`
<div class="mobile-wallet-adapter-embedded-modal-container" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div data-modal-close style="position: absolute; width: 100%; height: 100%;"></div>
	<div class="mobile-wallet-adapter-embedded-modal-card">
		<div>
			<button data-modal-close class="mobile-wallet-adapter-embedded-modal-close">
				<svg width="14" height="14">
					<path d="M 6.7125,8.3036995 1.9082,13.108199 c -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 C 0.1056,12.896899 0,12.631699 0,12.312499 c 0,-0.3192 0.1056,-0.5844 0.3167,-0.7958 L 5.1212,6.7124995 0.3167,1.9082 C 0.1056,1.6969 0,1.4317 0,1.1125 0,0.7933 0.1056,0.5281 0.3167,0.3167 0.5281,0.1056 0.7933,0 1.1125,0 1.4317,0 1.6969,0.1056 1.9082,0.3167 L 6.7125,5.1212 11.5167,0.3167 C 11.7281,0.1056 11.9933,0 12.3125,0 c 0.3192,0 0.5844,0.1056 0.7957,0.3167 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 L 8.3037001,6.7124995 13.1082,11.516699 c 0.2112,0.2114 0.3168,0.4766 0.3168,0.7958 0,0.3192 -0.1056,0.5844 -0.3168,0.7957 -0.2113,0.2112 -0.4765,0.3168 -0.7957,0.3168 -0.3192,0 -0.5844,-0.1056 -0.7958,-0.3168 z" />
				</svg>
			</button>
		</div>
		<div class="mobile-wallet-adapter-embedded-modal-content"></div>
	</div>
</div>
`,Sk=`
.mobile-wallet-adapter-embedded-modal-container {
    display: flex; /* Use flexbox to center content */
    justify-content: center; /* Center horizontally */
    align-items: center; /* Center vertically */
    position: fixed; /* Stay in place */
    z-index: 1; /* Sit on top */
    left: 0;
    top: 0;
    width: 100%; /* Full width */
    height: 100%; /* Full height */
    background-color: rgba(0,0,0,0.4); /* Black w/ opacity */
    overflow-y: auto; /* enable scrolling */
}

.mobile-wallet-adapter-embedded-modal-card {
    display: flex;
    flex-direction: column;
    margin: auto 20px;
    max-width: 780px;
    padding: 20px;
    border-radius: 24px;
    background: #ffffff;
    font-family: "Inter Tight", "PT Sans", Calibri, sans-serif;
    transform: translateY(-200%);
    animation: slide-in 0.5s forwards;
}

@keyframes slide-in {
    100% { transform: translateY(0%); }
}

.mobile-wallet-adapter-embedded-modal-close {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 32px;
    height: 32px;
    cursor: pointer;
    background: #e4e9e9;
    border: none;
    border-radius: 50%;
}

.mobile-wallet-adapter-embedded-modal-close:focus-visible {
    outline-color: red;
}

.mobile-wallet-adapter-embedded-modal-close svg {
    fill: #546266;
    transition: fill 200ms ease 0s;
}

.mobile-wallet-adapter-embedded-modal-close:hover svg {
    fill: #fff;
}
`,_k=`
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter+Tight:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
`;class Ak{constructor(){Bc.add(this),hn.set(this,null),Fi.set(this,{}),sa.set(this,!1),this.dom=null,this.open=()=>{console.debug("Modal open"),te(this,Bc,"m",n6).call(this),te(this,hn,"f")&&(te(this,hn,"f").style.display="flex")},this.close=(t=void 0)=>{var n;console.debug("Modal close"),te(this,Bc,"m",r6).call(this),te(this,hn,"f")&&(te(this,hn,"f").style.display="none"),(n=te(this,Fi,"f").close)===null||n===void 0||n.forEach(r=>r(t))},$l.set(this,t=>{t.key==="Escape"&&this.close(t)}),this.init=this.init.bind(this),tn(this,hn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"))}init(){return gt(this,void 0,void 0,function*(){console.log("Injecting modal"),te(this,Bc,"m",t6).call(this)})}addEventListener(t,n){var r;return!((r=te(this,Fi,"f")[t])===null||r===void 0)&&r.push(n)||(te(this,Fi,"f")[t]=[n]),()=>this.removeEventListener(t,n)}removeEventListener(t,n){var r;te(this,Fi,"f")[t]=(r=te(this,Fi,"f")[t])===null||r===void 0?void 0:r.filter(s=>n!==s)}}hn=new WeakMap,Fi=new WeakMap,sa=new WeakMap,$l=new WeakMap,Bc=new WeakSet,t6=function(){if(document.getElementById("mobile-wallet-adapter-embedded-root-ui")){te(this,hn,"f")||tn(this,hn,document.getElementById("mobile-wallet-adapter-embedded-root-ui"));return}tn(this,hn,document.createElement("div")),te(this,hn,"f").id="mobile-wallet-adapter-embedded-root-ui",te(this,hn,"f").innerHTML=Ek,te(this,hn,"f").style.display="none";const t=te(this,hn,"f").querySelector(".mobile-wallet-adapter-embedded-modal-content");t&&(t.innerHTML=this.contentHtml);const n=document.createElement("style");n.id="mobile-wallet-adapter-embedded-modal-styles",n.textContent=Sk+this.contentStyles;const r=document.createElement("div");r.innerHTML=_k,this.dom=r.attachShadow({mode:"closed"}),this.dom.appendChild(n),this.dom.appendChild(te(this,hn,"f")),document.body.appendChild(r)},n6=function(){if(!te(this,hn,"f")||te(this,sa,"f"))return;[...te(this,hn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.addEventListener("click",this.close)),window.addEventListener("load",this.close),document.addEventListener("keydown",te(this,$l,"f")),tn(this,sa,!0)},r6=function(){if(!te(this,sa,"f")||(window.removeEventListener("load",this.close),document.removeEventListener("keydown",te(this,$l,"f")),!te(this,hn,"f")))return;[...te(this,hn,"f").querySelectorAll("[data-modal-close]")].forEach(n=>n==null?void 0:n.removeEventListener("click",this.close)),tn(this,sa,!1)};const Ik="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik03IDIuNUgxN0MxNy44Mjg0IDIuNSAxOC41IDMuMTcxNTcgMTguNSA0VjIwQzE4LjUgMjAuODI4NCAxNy44Mjg0IDIxLjUgMTcgMjEuNUg3QzYuMTcxNTcgMjEuNSA1LjUgMjAuODI4NCA1LjUgMjBWNEM1LjUgMy4xNzE1NyA2LjE3MTU3IDIuNSA3IDIuNVpNMyA0QzMgMS43OTA4NiA0Ljc5MDg2IDAgNyAwSDE3QzE5LjIwOTEgMCAyMSAxLjc5MDg2IDIxIDRWMjBDMjEgMjIuMjA5MSAxOS4yMDkxIDI0IDE3IDI0SDdDNC43OTA4NiAyNCAzIDIyLjIwOTEgMyAyMFY0Wk0xMSA0LjYxNTM4QzEwLjQ0NzcgNC42MTUzOCAxMCA1LjA2MzEgMTAgNS42MTUzOFY2LjM4NDYyQzEwIDYuOTM2OSAxMC40NDc3IDcuMzg0NjIgMTEgNy4zODQ2MkgxM0MxMy41NTIzIDcuMzg0NjIgMTQgNi45MzY5IDE0IDYuMzg0NjJWNS42MTUzOEMxNCA1LjA2MzEgMTMuNTUyMyA0LjYxNTM4IDEzIDQuNjE1MzhIMTFaIiBmaWxsPSIjRENCOEZGIi8+Cjwvc3ZnPgo=";function Cl(e){return window.btoa(String.fromCharCode.call(null,...e))}function Ei(e){return new Uint8Array(window.atob(e).split("").map(t=>t.charCodeAt(0)))}var ia,to,Ip,Tp,Rp,Np,Oc,Pn,js,_i,oa,Wi,Dl,Pc,zl,Cp,Ul,s6,Mp,Fl,aa,Wl,Lc,Vl,ca,jc,ql,kp,Bp,Hl,Gl,Op,Pp,Kl;const i6="Mobile Wallet Adapter",Tk=64,Rk=[Gn,bt,qs,lo];class Nk{constructor(t){ia.add(this),to.set(this,{}),Ip.set(this,"1.0.0"),Tp.set(this,i6),Rp.set(this,"https://solanamobile.com/wallets"),Np.set(this,Ik),Oc.set(this,void 0),Pn.set(this,void 0),js.set(this,void 0),_i.set(this,!1),oa.set(this,0),Wi.set(this,[]),Dl.set(this,void 0),Pc.set(this,void 0),zl.set(this,void 0),Cp.set(this,(n,r)=>{var s;return!((s=te(this,to,"f")[n])===null||s===void 0)&&s.push(r)||(te(this,to,"f")[n]=[r]),()=>te(this,ia,"m",s6).call(this,n,r)}),Mp.set(this,({silent:n}={})=>gt(this,void 0,void 0,function*(){if(te(this,_i,"f")||this.connected)return{accounts:this.accounts};tn(this,_i,!0);try{if(n){const r=yield te(this,js,"f").get();if(r)yield te(this,Wl,"f").call(this,r.capabilities),yield te(this,aa,"f").call(this,r);else return{accounts:this.accounts}}else yield te(this,Fl,"f").call(this)}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}finally{tn(this,_i,!1)}return{accounts:this.accounts}})),Fl.set(this,n=>gt(this,void 0,void 0,function*(){try{const r=yield te(this,js,"f").get();if(r)return te(this,aa,"f").call(this,r),r;const s=yield te(this,Dl,"f").select(te(this,Wi,"f"));return yield te(this,ca,"f").call(this,i=>gt(this,void 0,void 0,function*(){const[o,a]=yield Promise.all([i.getCapabilities(),i.authorize({chain:s,identity:te(this,Oc,"f"),sign_in_payload:n})]),c=te(this,ql,"f").call(this,a.accounts),u=Object.assign(Object.assign({},a),{accounts:c,chain:s,capabilities:o});return Promise.all([te(this,Wl,"f").call(this,o),te(this,js,"f").set(u),te(this,aa,"f").call(this,u)]),u}))}catch(r){throw new Error(r instanceof Error&&r.message||"Unknown error")}})),aa.set(this,n=>gt(this,void 0,void 0,function*(){var r;const s=te(this,Pn,"f")==null||((r=te(this,Pn,"f"))===null||r===void 0?void 0:r.accounts.length)!==n.accounts.length||te(this,Pn,"f").accounts.some((i,o)=>i.address!==n.accounts[o].address);tn(this,Pn,n),s&&te(this,ia,"m",Ul).call(this,"change",{accounts:this.accounts})})),Wl.set(this,n=>gt(this,void 0,void 0,function*(){const r=n.features.includes("solana:signTransactions"),s=n.supports_sign_and_send_transactions,i=Gn in this.features!==s||bt in this.features!==r;tn(this,Pc,Object.assign(Object.assign({},(s||!s&&!r)&&{[Gn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:te(this,Hl,"f")}}),r&&{[bt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:te(this,Gl,"f")}})),i&&te(this,ia,"m",Ul).call(this,"change",{features:this.features})})),Lc.set(this,(n,r,s)=>gt(this,void 0,void 0,function*(){var i,o;try{const[a,c]=yield Promise.all([(o=(i=te(this,Pn,"f"))===null||i===void 0?void 0:i.capabilities)!==null&&o!==void 0?o:yield n.getCapabilities(),n.authorize({auth_token:r,identity:te(this,Oc,"f"),chain:s})]),u=te(this,ql,"f").call(this,c.accounts),l=Object.assign(Object.assign({},c),{accounts:u,chain:s,capabilities:a});Promise.all([te(this,js,"f").set(l),te(this,aa,"f").call(this,l)])}catch(a){throw te(this,Vl,"f").call(this),new Error(a instanceof Error&&a.message||"Unknown error")}})),Vl.set(this,()=>gt(this,void 0,void 0,function*(){var n;te(this,js,"f").clear(),tn(this,_i,!1),tn(this,oa,(n=te(this,oa,"f"),n++,n)),tn(this,Pn,void 0),te(this,ia,"m",Ul).call(this,"change",{accounts:this.accounts})})),ca.set(this,n=>gt(this,void 0,void 0,function*(){var r;const s=(r=te(this,Pn,"f"))===null||r===void 0?void 0:r.wallet_uri_base,i=s?{baseUri:s}:void 0,o=te(this,oa,"f");try{return yield gk(n,i)}catch(a){throw te(this,oa,"f")!==o&&(yield new Promise(()=>{})),a instanceof Error&&a.name==="SolanaMobileWalletAdapterError"&&a.code==="ERROR_WALLET_NOT_FOUND"&&(yield te(this,zl,"f").call(this,this)),a}})),jc.set(this,()=>{if(!te(this,Pn,"f"))throw new Error("Wallet not connected");return{authToken:te(this,Pn,"f").auth_token,chain:te(this,Pn,"f").chain}}),ql.set(this,n=>n.map(r=>{var s,i;const o=Ei(r.address);return{address:Rd.encode(o),publicKey:o,label:r.label,icon:r.icon,chains:(s=r.chains)!==null&&s!==void 0?s:te(this,Wi,"f"),features:(i=r.features)!==null&&i!==void 0?i:Rk}})),kp.set(this,n=>gt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=te(this,jc,"f").call(this);try{const i=n.map(o=>Cl(o));return yield te(this,ca,"f").call(this,o=>gt(this,void 0,void 0,function*(){return yield te(this,Lc,"f").call(this,o,r,s),(yield o.signTransactions({payloads:i})).signed_payloads.map(Ei)}))}catch(i){throw new Error(i instanceof Error&&i.message||"Unknown error")}})),Bp.set(this,(n,r)=>gt(this,void 0,void 0,function*(){const{authToken:s,chain:i}=te(this,jc,"f").call(this);try{return yield te(this,ca,"f").call(this,o=>gt(this,void 0,void 0,function*(){const[a,c]=yield Promise.all([o.getCapabilities(),te(this,Lc,"f").call(this,o,s,i)]);if(a.supports_sign_and_send_transactions){const u=Cl(n);return(yield o.signAndSendTransactions(Object.assign(Object.assign({},r),{payloads:[u]}))).signatures.map(Ei)[0]}else throw new Error("connected wallet does not support signAndSendTransaction")}))}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}})),Hl.set(this,(...n)=>gt(this,void 0,void 0,function*(){const r=[];for(const s of n){const i=yield te(this,Bp,"f").call(this,s.transaction,s.options);r.push({signature:i})}return r})),Gl.set(this,(...n)=>gt(this,void 0,void 0,function*(){return(yield te(this,kp,"f").call(this,n.map(({transaction:r})=>r))).map(r=>({signedTransaction:r}))})),Op.set(this,(...n)=>gt(this,void 0,void 0,function*(){const{authToken:r,chain:s}=te(this,jc,"f").call(this),i=n.map(({account:a})=>Cl(a.publicKey)),o=n.map(({message:a})=>Cl(a));try{return yield te(this,ca,"f").call(this,a=>gt(this,void 0,void 0,function*(){return yield te(this,Lc,"f").call(this,a,r,s),(yield a.signMessages({addresses:i,payloads:o})).signed_payloads.map(Ei).map(u=>({signedMessage:u,signature:u.slice(-Tk)}))}))}catch(a){throw new Error(a instanceof Error&&a.message||"Unknown error")}})),Pp.set(this,(...n)=>gt(this,void 0,void 0,function*(){const r=[];if(n.length>1)for(const s of n)r.push(yield te(this,Kl,"f").call(this,s));else return[yield te(this,Kl,"f").call(this,n[0])];return r})),Kl.set(this,n=>gt(this,void 0,void 0,function*(){var r,s,i;tn(this,_i,!0);try{const o=yield te(this,Fl,"f").call(this,Object.assign(Object.assign({},n),{domain:(r=n==null?void 0:n.domain)!==null&&r!==void 0?r:window.location.host}));if(!o.sign_in_result)throw new Error("Sign in failed, no sign in result returned by wallet");const a=o.sign_in_result.address,c=o.accounts.find(u=>u.address==a);return{account:Object.assign(Object.assign({},c??{address:Rd.encode(Ei(a))}),{publicKey:Ei(a),chains:(s=c==null?void 0:c.chains)!==null&&s!==void 0?s:te(this,Wi,"f"),features:(i=c==null?void 0:c.features)!==null&&i!==void 0?i:o.capabilities.features}),signedMessage:Ei(o.sign_in_result.signed_message),signature:Ei(o.sign_in_result.signature)}}catch(o){throw new Error(o instanceof Error&&o.message||"Unknown error")}finally{tn(this,_i,!1)}})),tn(this,js,t.authorizationCache),tn(this,Oc,t.appIdentity),tn(this,Wi,t.chains),tn(this,Dl,t.chainSelector),tn(this,zl,t.onWalletNotFound),tn(this,Pc,{[Gn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:te(this,Hl,"f")},[bt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:te(this,Gl,"f")}})}get version(){return te(this,Ip,"f")}get name(){return te(this,Tp,"f")}get url(){return te(this,Rp,"f")}get icon(){return te(this,Np,"f")}get chains(){return te(this,Wi,"f")}get features(){return Object.assign({[bf]:{version:"1.0.0",connect:te(this,Mp,"f")},[_d]:{version:"1.0.0",disconnect:te(this,Vl,"f")},[wf]:{version:"1.0.0",on:te(this,Cp,"f")},[qs]:{version:"1.0.0",signMessage:te(this,Op,"f")},[lo]:{version:"1.0.0",signIn:te(this,Pp,"f")}},te(this,Pc,"f"))}get accounts(){var t,n;return(n=(t=te(this,Pn,"f"))===null||t===void 0?void 0:t.accounts)!==null&&n!==void 0?n:[]}get connected(){return!!te(this,Pn,"f")}get isAuthorized(){return!!te(this,Pn,"f")}get currentAuthorization(){return te(this,Pn,"f")}get cachedAuthorizationResult(){return te(this,js,"f").get()}}to=new WeakMap,Ip=new WeakMap,Tp=new WeakMap,Rp=new WeakMap,Np=new WeakMap,Oc=new WeakMap,Pn=new WeakMap,js=new WeakMap,_i=new WeakMap,oa=new WeakMap,Wi=new WeakMap,Dl=new WeakMap,Pc=new WeakMap,zl=new WeakMap,Cp=new WeakMap,Mp=new WeakMap,Fl=new WeakMap,aa=new WeakMap,Wl=new WeakMap,Lc=new WeakMap,Vl=new WeakMap,ca=new WeakMap,jc=new WeakMap,ql=new WeakMap,kp=new WeakMap,Bp=new WeakMap,Hl=new WeakMap,Gl=new WeakMap,Op=new WeakMap,Pp=new WeakMap,Kl=new WeakMap,ia=new WeakSet,Ul=function(t,...n){var r;(r=te(this,to,"f")[t])===null||r===void 0||r.forEach(s=>s.apply(null,n))},s6=function(t,n){var r;te(this,to,"f")[t]=(r=te(this,to,"f")[t])===null||r===void 0?void 0:r.filter(s=>n!==s)};const Ck="To use mobile wallet adapter, you must have a compatible mobile wallet application installed on your device.",Mk="This browser appears to be incompatible with mobile wallet adapter. Open this page in a compatible mobile browser app and try again.";class kk extends Ak{constructor(){super(...arguments),this.contentStyles=Ok,this.contentHtml=Bk}initWithError(t){super.init(),this.populateError(t)}populateError(t){var n,r;const s=(n=this.dom)===null||n===void 0?void 0:n.getElementById("mobile-wallet-adapter-error-message"),i=(r=this.dom)===null||r===void 0?void 0:r.getElementById("mobile-wallet-adapter-error-action");if(s){if(t.name==="SolanaMobileWalletAdapterError")switch(t.code){case"ERROR_WALLET_NOT_FOUND":s.innerHTML=Ck,i&&i.addEventListener("click",()=>{window.location.href="https://solanamobile.com/wallets"});return;case"ERROR_BROWSER_NOT_SUPPORTED":s.innerHTML=Mk,i&&(i.style.display="none");return}s.innerHTML=`An unexpected error occurred: ${t.message}`}else console.log("Failed to locate error dialog element")}}const Bk=`
<svg class="mobile-wallet-adapter-embedded-modal-error-icon" xmlns="http://www.w3.org/2000/svg" height="50px" viewBox="0 -960 960 960" width="50px" fill="#000000"><path d="M 280,-80 Q 197,-80 138.5,-138.5 80,-197 80,-280 80,-363 138.5,-421.5 197,-480 280,-480 q 83,0 141.5,58.5 58.5,58.5 58.5,141.5 0,83 -58.5,141.5 Q 363,-80 280,-80 Z M 824,-120 568,-376 Q 556,-389 542.5,-402.5 529,-416 516,-428 q 38,-24 61,-64 23,-40 23,-88 0,-75 -52.5,-127.5 Q 495,-760 420,-760 345,-760 292.5,-707.5 240,-655 240,-580 q 0,6 0.5,11.5 0.5,5.5 1.5,11.5 -18,2 -39.5,8 -21.5,6 -38.5,14 -2,-11 -3,-22 -1,-11 -1,-23 0,-109 75.5,-184.5 Q 311,-840 420,-840 q 109,0 184.5,75.5 75.5,75.5 75.5,184.5 0,43 -13.5,81.5 Q 653,-460 629,-428 l 251,252 z m -615,-61 71,-71 70,71 29,-28 -71,-71 71,-71 -28,-28 -71,71 -71,-71 -28,28 71,71 -71,71 z"/></svg>
<div class="mobile-wallet-adapter-embedded-modal-title">We can't find a wallet.</div>
<div id="mobile-wallet-adapter-error-message" class="mobile-wallet-adapter-embedded-modal-subtitle"></div>
<div>
    <button data-error-action id="mobile-wallet-adapter-error-action" class="mobile-wallet-adapter-embedded-modal-error-action">
        Find a wallet
    </button>
</div>
`,Ok=`
.mobile-wallet-adapter-embedded-modal-content {
    text-align: center;
}

.mobile-wallet-adapter-embedded-modal-error-icon {
    margin-top: 24px;
}

.mobile-wallet-adapter-embedded-modal-title {
    margin: 18px 100px auto 100px;
    color: #000000;
    font-size: 2.75em;
    font-weight: 600;
}

.mobile-wallet-adapter-embedded-modal-subtitle {
    margin: 30px 60px 40px 60px;
    color: #000000;
    font-size: 1.25em;
    font-weight: 400;
}

.mobile-wallet-adapter-embedded-modal-error-action {
    display: block;
    width: 100%;
    height: 56px;
    /*margin-top: 40px;*/
    font-size: 1.25em;
    /*line-height: 24px;*/
    /*letter-spacing: -1%;*/
    background: #000000;
    color: #FFFFFF;
    border-radius: 18px;
}

/* Smaller screens */
@media all and (max-width: 600px) {
    .mobile-wallet-adapter-embedded-modal-title {
        font-size: 1.5em;
        margin-right: 12px;
        margin-left: 12px;
    }
    .mobile-wallet-adapter-embedded-modal-subtitle {
        margin-right: 12px;
        margin-left: 12px;
    }
}
`;function Pk(){return gt(this,void 0,void 0,function*(){if(typeof window<"u"){const e=window.navigator.userAgent.toLowerCase(),t=new kk;e.includes("wv")?t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_BROWSER_NOT_SUPPORTED",message:""}):t.initWithError({name:"SolanaMobileWalletAdapterError",code:"ERROR_WALLET_NOT_FOUND",message:""}),t.open()}})}const a0="SolanaMobileWalletAdapterDefaultAuthorizationCache";function Lk(){let e;try{e=window.localStorage}catch{}return{clear(){return gt(this,void 0,void 0,function*(){if(e)try{e.removeItem(a0)}catch{}})},get(){return gt(this,void 0,void 0,function*(){if(e)try{const t=JSON.parse(e.getItem(a0));if(t&&t.accounts){const n=t.accounts.map(r=>Object.assign(Object.assign({},r),{publicKey:"publicKey"in r?new Uint8Array(Object.values(r.publicKey)):Rd.decode(r.address)}));return Object.assign(Object.assign({},t),{accounts:n})}else return t||void 0}catch{}})},set(t){return gt(this,void 0,void 0,function*(){if(e)try{e.setItem(a0,JSON.stringify(t))}catch{}})}}}function jk(){return{select(e){return gt(this,void 0,void 0,function*(){return e.length===1?e[0]:e.includes(Jc)?Jc:e[0]})}}}function ct(e,t,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(l){try{u(r.next(l))}catch(d){o(d)}}function c(l){try{u(r.throw(l))}catch(d){o(d)}}function u(l){l.done?i(l.value):s(l.value).then(a,c)}u((r=r.apply(e,[])).next())})}function Re(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)}function hr(e,t,n,r,s){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}const Lp="standard:connect",$k="standard:disconnect",Dk="standard:events";function c0(e){return window.btoa(String.fromCharCode.call(null,...e))}function zk(){return typeof window<"u"&&window.isSecureContext&&typeof document<"u"&&/android/i.test(navigator.userAgent)}var gn,Et,Ti,Hs,Zl,zs,Vi,jp,$p,o6,Nd,Yl,Ai;const Jl=i6,Uk=64;function Fk(e){return"version"in e}function a6(e){switch(e){case"mainnet-beta":return"solana:mainnet";case"testnet":return"solana:testnet";case"devnet":return"solana:devnet";default:return e}}class Wk extends $C{constructor(t,n){super(),gn.add(this),this.supportedTransactionVersions=new Set(["legacy",0]),Et.set(this,void 0),Ti.set(this,!1),Hs.set(this,zk()?ze.Loadable:ze.Unsupported),Zl.set(this,void 0),zs.set(this,void 0),Vi.set(this,void 0),jp.set(this,r=>ct(this,void 0,void 0,function*(){if(r.accounts&&r.accounts.length>0){Re(this,gn,"m",o6).call(this);const s=yield Re(this,Zl,"f").call(this,r.accounts);s!==Re(this,zs,"f")&&(hr(this,zs,s),hr(this,Vi,void 0),this.emit("connect",this.publicKey))}})),hr(this,Zl,r=>ct(this,void 0,void 0,function*(){var s;const i=yield n.addressSelector.select(r.map(({publicKey:o})=>c0(o)));return(s=r.find(({publicKey:o})=>c0(o)===i))!==null&&s!==void 0?s:r[0]})),hr(this,Et,t),Re(this,Et,"f").features[Dk].on("change",Re(this,jp,"f")),this.name=Re(this,Et,"f").name,this.icon=Re(this,Et,"f").icon,this.url=Re(this,Et,"f").url}get publicKey(){var t;if(!Re(this,Vi,"f")&&Re(this,zs,"f"))try{hr(this,Vi,new Ie(Re(this,zs,"f").publicKey),"f")}catch(n){throw new Pa(n instanceof Error&&(n==null?void 0:n.message)||"Unknown error",n)}return(t=Re(this,Vi,"f"))!==null&&t!==void 0?t:null}get connected(){return Re(this,Et,"f").connected}get connecting(){return Re(this,Ti,"f")}get readyState(){return Re(this,Hs,"f")}autoConnect_DO_NOT_USE_OR_YOU_WILL_BE_FIRED(){return ct(this,void 0,void 0,function*(){return yield this.autoConnect()})}autoConnect(){return ct(this,void 0,void 0,function*(){Re(this,gn,"m",$p).call(this,!0)})}connect(){return ct(this,void 0,void 0,function*(){Re(this,gn,"m",$p).call(this)})}performAuthorization(t){return ct(this,void 0,void 0,function*(){try{const n=yield Re(this,Et,"f").cachedAuthorizationResult;return n?(yield Re(this,Et,"f").features[Lp].connect({silent:!0}),n):(t?yield Re(this,Et,"f").features[lo].signIn(t):yield Re(this,Et,"f").features[Lp].connect(),yield yield Re(this,Et,"f").cachedAuthorizationResult)}catch(n){throw new So(n instanceof Error&&n.message||"Unknown error",n)}})}disconnect(){return ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){hr(this,Ti,!1),hr(this,Vi,void 0),hr(this,zs,void 0),yield Re(this,Et,"f").features[$k].disconnect(),this.emit("disconnect")}))})}signIn(t){return ct(this,void 0,void 0,function*(){return Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){var n;if(Re(this,Hs,"f")!==ze.Installed&&Re(this,Hs,"f")!==ze.Loadable)throw new Eo;hr(this,Ti,!0);try{const r=yield Re(this,Et,"f").features[lo].signIn(Object.assign(Object.assign({},t),{domain:(n=t==null?void 0:t.domain)!==null&&n!==void 0?n:window.location.host}));if(r.length>0)return r[0];throw new Error("Sign in failed, no sign in result returned by wallet")}catch(r){throw new So(r instanceof Error&&r.message||"Unknown error",r)}finally{hr(this,Ti,!1)}}))})}signMessage(t){return ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){const n=Re(this,gn,"m",Nd).call(this);try{return(yield Re(this,Et,"f").features[qs].signMessage({account:n,message:t}))[0].signature}catch(r){throw new yf(r==null?void 0:r.message,r)}}))})}sendTransaction(t,n,r){return ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){const s=Re(this,gn,"m",Nd).call(this);try{let i=function(){let o;switch(n.commitment){case"confirmed":case"finalized":case"processed":o=n.commitment;break;default:o="finalized"}let a;switch(r==null?void 0:r.preflightCommitment){case"confirmed":case"finalized":case"processed":a=r.preflightCommitment;break;case void 0:a=o;break;default:a="finalized"}return(a==="finalized"?2:a==="confirmed"?1:0)<(o==="finalized"?2:o==="confirmed"?1:0)?a:o};if(Gn in Re(this,Et,"f").features){const o=a6(Re(this,Et,"f").currentAuthorization.chain),[a]=(yield Re(this,Et,"f").features[Gn].signAndSendTransaction({account:s,transaction:t.serialize(),chain:o,options:r?{skipPreflight:r.skipPreflight,maxRetries:r.maxRetries}:void 0})).map(c=>c0(c.signature));return a}else{const[o]=yield Re(this,gn,"m",Yl).call(this,[t]);if(Fk(o))return yield n.sendTransaction(o);{const a=o.serialize();return yield n.sendRawTransaction(a,Object.assign(Object.assign({},r),{preflightCommitment:i()}))}}}catch(i){throw new Zs(i==null?void 0:i.message,i)}}))})}signTransaction(t){return ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){const[n]=yield Re(this,gn,"m",Yl).call(this,[t]);return n}))})}signAllTransactions(t){return ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){return yield Re(this,gn,"m",Yl).call(this,t)}))})}}Et=new WeakMap,Ti=new WeakMap,Hs=new WeakMap,Zl=new WeakMap,zs=new WeakMap,Vi=new WeakMap,jp=new WeakMap,gn=new WeakSet,$p=function(t=!1){return ct(this,void 0,void 0,function*(){if(!(this.connecting||this.connected))return yield Re(this,gn,"m",Ai).call(this,()=>ct(this,void 0,void 0,function*(){if(Re(this,Hs,"f")!==ze.Installed&&Re(this,Hs,"f")!==ze.Loadable)throw new Eo;hr(this,Ti,!0);try{yield Re(this,Et,"f").features[Lp].connect({silent:t})}catch(n){throw new So(n instanceof Error&&n.message||"Unknown error",n)}finally{hr(this,Ti,!1)}}))})},o6=function(){Re(this,Hs,"f")!==ze.Installed&&this.emit("readyStateChange",hr(this,Hs,ze.Installed))},Nd=function(){if(!Re(this,Et,"f").isAuthorized||!Re(this,zs,"f"))throw new Lt;return Re(this,zs,"f")},Yl=function(t){return ct(this,void 0,void 0,function*(){const n=Re(this,gn,"m",Nd).call(this);try{if(bt in Re(this,Et,"f").features)return Re(this,Et,"f").features[bt].signTransaction(...t.map(r=>({account:n,transaction:r.serialize()}))).then(r=>r.map(s=>{const i=s.signedTransaction,a=i[0]*Uk+1;return pf.deserializeMessageVersion(i.slice(a,i.length))==="legacy"?Mr.from(i):vo.deserialize(i)}));throw new Error("Connected wallet does not support signing transactions")}catch(r){throw new Zr(r==null?void 0:r.message,r)}})},Ai=function(t){return ct(this,void 0,void 0,function*(){try{return yield t()}catch(n){throw this.emit("error",n),n}})};class Vk extends Wk{constructor(t){var n;const r=a6((n=t.chain)!==null&&n!==void 0?n:t.cluster);super(new Nk({appIdentity:t.appIdentity,authorizationCache:{set:t.authorizationResultCache.set,get:()=>ct(this,void 0,void 0,function*(){return yield t.authorizationResultCache.get()}),clear:t.authorizationResultCache.clear},chains:[r],chainSelector:jk(),onWalletNotFound:()=>ct(this,void 0,void 0,function*(){t.onWalletNotFound(this)})}),{addressSelector:t.addressSelector,chain:r})}}class qk extends Vk{}function Hk(){return{select(e){return ct(this,void 0,void 0,function*(){return e[0]})}}}function Gk(){return Lk()}function Kk(e){return ct(this,void 0,void 0,function*(){return Pk()})}function Zk(){return Kk}var Yk=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},Jk=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},Ql;function Qk(e){const t=({register:n})=>n(e);try{window.dispatchEvent(new Xk(t))}catch(n){console.error(`wallet-standard:register-wallet event could not be dispatched
`,n)}try{window.addEventListener("wallet-standard:app-ready",({detail:n})=>t(n))}catch(n){console.error(`wallet-standard:app-ready event listener could not be added
`,n)}}class Xk extends Event{get detail(){return Yk(this,Ql,"f")}get type(){return"wallet-standard:register-wallet"}constructor(t){super("wallet-standard:register-wallet",{bubbles:!1,cancelable:!1,composed:!1}),Ql.set(this,void 0),Jk(this,Ql,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}Ql=new WeakMap;function eB(e,t){if(e===t)return!0;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}var xe=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},nn=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},_n,tr,no,ro,qi,$c,Cd,Qe,Md,Dp,Xl,zp,Fc,Up,L1,j1,$1,D1;class tB extends RE{get name(){return xe(this,Qe,"f").name}get url(){return"https://github.com/solana-labs/wallet-standard"}get icon(){return xe(this,Qe,"f").icon}get readyState(){return xe(this,Md,"f")}get publicKey(){return xe(this,no,"f")}get connecting(){return xe(this,ro,"f")}get supportedTransactionVersions(){return xe(this,Cd,"f")}get wallet(){return xe(this,Qe,"f")}get standard(){return!0}constructor({wallet:t}){super(),_n.add(this),tr.set(this,void 0),no.set(this,void 0),ro.set(this,void 0),qi.set(this,void 0),$c.set(this,void 0),Cd.set(this,void 0),Qe.set(this,void 0),Md.set(this,typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.Installed),Up.set(this,n=>{if("accounts"in n){const r=xe(this,Qe,"f").accounts[0];xe(this,tr,"f")&&!xe(this,qi,"f")&&r!==xe(this,tr,"f")&&(r?xe(this,_n,"m",Xl).call(this,r):(this.emit("error",new Kg),xe(this,_n,"m",zp).call(this)))}"features"in n&&xe(this,_n,"m",Fc).call(this)}),nn(this,Qe,t,"f"),nn(this,tr,null,"f"),nn(this,no,null,"f"),nn(this,ro,!1,"f"),nn(this,qi,!1,"f"),nn(this,$c,xe(this,Qe,"f").features[wf].on("change",xe(this,Up,"f")),"f"),xe(this,_n,"m",Fc).call(this)}destroy(){nn(this,tr,null,"f"),nn(this,no,null,"f"),nn(this,ro,!1,"f"),nn(this,qi,!1,"f");const t=xe(this,$c,"f");t&&(nn(this,$c,null,"f"),t())}async autoConnect(){return xe(this,_n,"m",Dp).call(this,{silent:!0})}async connect(){return xe(this,_n,"m",Dp).call(this)}async disconnect(){if(_d in xe(this,Qe,"f").features)try{nn(this,qi,!0,"f"),await xe(this,Qe,"f").features[_d].disconnect()}catch(t){this.emit("error",new Zg(t==null?void 0:t.message,t))}finally{nn(this,qi,!1,"f")}xe(this,_n,"m",zp).call(this)}async sendTransaction(t,n,r={}){try{const s=xe(this,tr,"f");if(!s)throw new Lt;let i;if(Gn in xe(this,Qe,"f").features)if(s.features.includes(Gn))i=Gn;else if(bt in xe(this,Qe,"f").features&&s.features.includes(bt))i=bt;else throw new Xi;else if(bt in xe(this,Qe,"f").features){if(!s.features.includes(bt))throw new Xi;i=bt}else throw new ha;const o=MM(n.rpcEndpoint);if(!s.chains.includes(o))throw new Zs;try{const{signers:a,...c}=r;let u;if(Ys(t)?(a!=null&&a.length&&t.sign(a),u=t.serialize()):(t=await this.prepareTransaction(t,n,c),a!=null&&a.length&&t.partialSign(...a),u=new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))),i===Gn){const[l]=await xe(this,Qe,"f").features[Gn].signAndSendTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:r0(c.preflightCommitment||n.commitment),skipPreflight:c.skipPreflight,maxRetries:c.maxRetries,minContextSlot:c.minContextSlot}});return Rd.encode(l.signature)}else{const[l]=await xe(this,Qe,"f").features[bt].signTransaction({account:s,chain:o,transaction:u,options:{preflightCommitment:r0(c.preflightCommitment||n.commitment),minContextSlot:c.minContextSlot}});return await n.sendRawTransaction(l.signedTransaction,{...c,preflightCommitment:r0(c.preflightCommitment||n.commitment)})}}catch(a){throw a instanceof vn?a:new Zs(a==null?void 0:a.message,a)}}catch(s){throw this.emit("error",s),s}}}tr=new WeakMap,no=new WeakMap,ro=new WeakMap,qi=new WeakMap,$c=new WeakMap,Cd=new WeakMap,Qe=new WeakMap,Md=new WeakMap,Up=new WeakMap,_n=new WeakSet,Dp=async function(t){try{if(this.connected||this.connecting)return;if(xe(this,Md,"f")!==ze.Installed)throw new Eo;if(nn(this,ro,!0,"f"),!xe(this,Qe,"f").accounts.length)try{await xe(this,Qe,"f").features[bf].connect(t)}catch(r){throw new So(r==null?void 0:r.message,r)}const n=xe(this,Qe,"f").accounts[0];if(!n)throw new Xi;xe(this,_n,"m",Xl).call(this,n)}catch(n){throw this.emit("error",n),n}finally{nn(this,ro,!1,"f")}},Xl=function(t){let n;try{n=new Ie(t.address)}catch(r){throw new Pa(r==null?void 0:r.message,r)}nn(this,tr,t,"f"),nn(this,no,n,"f"),xe(this,_n,"m",Fc).call(this),this.emit("connect",n)},zp=function(){nn(this,tr,null,"f"),nn(this,no,null,"f"),xe(this,_n,"m",Fc).call(this),this.emit("disconnect")},Fc=function(){var n,r;const t=Gn in xe(this,Qe,"f").features?xe(this,Qe,"f").features[Gn].supportedTransactionVersions:xe(this,Qe,"f").features[bt].supportedTransactionVersions;nn(this,Cd,eB(t,["legacy"])?null:new Set(t),"f"),bt in xe(this,Qe,"f").features&&((n=xe(this,tr,"f"))!=null&&n.features.includes(bt))?(this.signTransaction=xe(this,_n,"m",L1),this.signAllTransactions=xe(this,_n,"m",j1)):(delete this.signTransaction,delete this.signAllTransactions),qs in xe(this,Qe,"f").features&&((r=xe(this,tr,"f"))!=null&&r.features.includes(qs))?this.signMessage=xe(this,_n,"m",$1):delete this.signMessage,lo in xe(this,Qe,"f").features?this.signIn=xe(this,_n,"m",D1):delete this.signIn},L1=async function(t){try{const n=xe(this,tr,"f");if(!n)throw new Lt;if(!(bt in xe(this,Qe,"f").features))throw new ha;if(!n.features.includes(bt))throw new Xi;try{const s=(await xe(this,Qe,"f").features[bt].signTransaction({account:n,transaction:Ys(t)?t.serialize():new Uint8Array(t.serialize({requireAllSignatures:!1,verifySignatures:!1}))}))[0].signedTransaction;return Ys(t)?vo.deserialize(s):Mr.from(s)}catch(r){throw r instanceof vn?r:new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},j1=async function(t){try{const n=xe(this,tr,"f");if(!n)throw new Lt;if(!(bt in xe(this,Qe,"f").features))throw new ha;if(!n.features.includes(bt))throw new Xi;try{const r=await xe(this,Qe,"f").features[bt].signTransaction(...t.map(s=>({account:n,transaction:Ys(s)?s.serialize():new Uint8Array(s.serialize({requireAllSignatures:!1,verifySignatures:!1}))})));return t.map((s,i)=>{const o=r[i].signedTransaction;return Ys(s)?vo.deserialize(o):Mr.from(o)})}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},$1=async function(t){try{const n=xe(this,tr,"f");if(!n)throw new Lt;if(!(qs in xe(this,Qe,"f").features))throw new ha;if(!n.features.includes(qs))throw new Xi;try{return(await xe(this,Qe,"f").features[qs].signMessage({account:n,message:t}))[0].signature}catch(r){throw new yf(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}},D1=async function(t={}){try{if(!(lo in xe(this,Qe,"f").features))throw new ha;let n;try{[n]=await xe(this,Qe,"f").features[lo].signIn(t)}catch(r){throw new I1(r==null?void 0:r.message,r)}if(!n)throw new I1;return xe(this,_n,"m",Xl).call(this,n.account),n}catch(n){throw this.emit("error",n),n}};const nB=DC;var rB=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},sB=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ed;let pr;const Af=new Set;function iB(e){Wc=void 0,Af.add(e)}function oB(e){Wc=void 0,Af.delete(e)}const pa={};function aB(){if(pr||(pr=Object.freeze({register:z1,get:cB,on:uB}),typeof window>"u"))return pr;const e=Object.freeze({register:z1});try{window.addEventListener("wallet-standard:register-wallet",({detail:t})=>t(e))}catch(t){console.error(`wallet-standard:register-wallet event listener could not be added
`,t)}try{window.dispatchEvent(new lB(e))}catch(t){console.error(`wallet-standard:app-ready event could not be dispatched
`,t)}return pr}function z1(...e){var t;return e=e.filter(n=>!Af.has(n)),e.length?(e.forEach(n=>iB(n)),(t=pa.register)==null||t.forEach(n=>Fp(()=>n(...e))),function(){var r;e.forEach(s=>oB(s)),(r=pa.unregister)==null||r.forEach(s=>Fp(()=>s(...e)))}):()=>{}}let Wc;function cB(){return Wc||(Wc=[...Af]),Wc}function uB(e,t){var n;return(n=pa[e])!=null&&n.push(t)||(pa[e]=[t]),function(){var s;pa[e]=(s=pa[e])==null?void 0:s.filter(i=>t!==i)}}function Fp(e){try{e()}catch(t){console.error(t)}}class lB extends Event{get detail(){return rB(this,ed,"f")}get type(){return"wallet-standard:app-ready"}constructor(t){super("wallet-standard:app-ready",{bubbles:!1,cancelable:!1,composed:!1}),ed.set(this,void 0),sB(this,ed,t,"f")}preventDefault(){throw new Error("preventDefault cannot be called")}stopImmediatePropagation(){throw new Error("stopImmediatePropagation cannot be called")}stopPropagation(){throw new Error("stopPropagation cannot be called")}}ed=new WeakMap;function dB(){if(pr||(pr=aB(),typeof window>"u"))return pr;const e=window.navigator.wallets||[];if(!Array.isArray(e))return console.error("window.navigator.wallets is not an array"),pr;const{register:t}=pr,n=(...r)=>r.forEach(s=>Fp(()=>s({register:t})));try{Object.defineProperty(window.navigator,"wallets",{value:Object.freeze({push:n})})}catch{return console.error("window.navigator.wallets could not be set"),pr}return n(...e),pr}function fB(e){const t=U1(()=>new Set),{get:n,on:r}=U1(()=>dB()),[s,i]=V.useState(()=>F1(n()));V.useEffect(()=>{const a=[r("register",(...c)=>i(u=>[...u,...F1(c)])),r("unregister",(...c)=>i(u=>u.filter(l=>c.some(d=>d===l.wallet))))];return()=>a.forEach(c=>c())},[r]);const o=hB(s);return V.useEffect(()=>{if(!o)return;const a=new Set(s);new Set(o.filter(u=>!a.has(u))).forEach(u=>u.destroy())},[o,s]),V.useEffect(()=>()=>s.forEach(a=>a.destroy()),[]),V.useMemo(()=>[...s,...e.filter(({name:a})=>s.some(c=>c.name===a)?(t.has(a)||(t.add(a),console.warn(`${a} was registered as a Standard Wallet. The Wallet Adapter for ${a} can be removed from your app.`)),!1):!0)],[s,e,t])}function U1(e){const t=V.useRef(void 0);return t.current===void 0&&(t.current={value:e()}),t.current.value}function hB(e){const t=V.useRef(void 0);return V.useEffect(()=>{t.current=e}),t.current}function F1(e){return e.filter(nB).map(t=>new tB({wallet:t}))}var va;(function(e){e[e.DESKTOP_WEB=0]="DESKTOP_WEB",e[e.MOBILE_WEB=1]="MOBILE_WEB"})(va||(va={}));function pB(e){return/(WebView|Version\/.+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+)|; wv\).+(Chrome)\/(\d+)\.(\d+)\.(\d+)\.(\d+))/i.test(e)}function mB({adapters:e,userAgentString:t}){return e.some(n=>n.name!==Jl&&n.readyState===ze.Installed)?va.DESKTOP_WEB:t&&/android/i.test(t)&&!pB(t)?va.MOBILE_WEB:va.DESKTOP_WEB}function gB(e){return e?/devnet/i.test(e)?"devnet":/testnet/i.test(e)?"testnet":"mainnet-beta":"mainnet-beta"}function yB({children:e,wallets:t,adapter:n,isUnloadingRef:r,onAutoConnectRequest:s,onConnectError:i,onError:o,onSelectWallet:a}){const c=V.useRef(!1),[u,l]=V.useState(!1),d=V.useRef(!1),[p,h]=V.useState(!1),[g,y]=V.useState(()=>(n==null?void 0:n.publicKey)??null),[E,S]=V.useState(()=>(n==null?void 0:n.connected)??!1),M=V.useRef(o);V.useEffect(()=>(M.current=o,()=>{M.current=void 0}),[o]);const _=V.useRef((m,v)=>(r.current||(M.current?M.current(m,v):(console.error(m,v),m instanceof Eo&&typeof window<"u"&&v&&window.open(v.url,"_blank"))),m)),[T,O]=V.useState(()=>t.map(m=>({adapter:m,readyState:m.readyState})).filter(({readyState:m})=>m!==ze.Unsupported));V.useEffect(()=>{O(v=>t.map((R,A)=>{const B=v[A];return B&&B.adapter===R&&B.readyState===R.readyState?B:{adapter:R,readyState:R.readyState}}).filter(({readyState:R})=>R!==ze.Unsupported));function m(v){O(R=>{const A=R.findIndex(({adapter:j})=>j===this);if(A===-1)return R;const{adapter:B}=R[A];return[...R.slice(0,A),{adapter:B,readyState:v},...R.slice(A+1)].filter(({readyState:j})=>j!==ze.Unsupported)})}return t.forEach(v=>v.on("readyStateChange",m,v)),()=>{t.forEach(v=>v.off("readyStateChange",m,v))}},[n,t]);const $=V.useMemo(()=>T.find(m=>m.adapter===n)??null,[n,T]);V.useEffect(()=>{if(!n)return;const m=A=>{y(A),c.current=!1,l(!1),S(!0),d.current=!1,h(!1)},v=()=>{r.current||(y(null),c.current=!1,l(!1),S(!1),d.current=!1,h(!1))},R=A=>{_.current(A,n)};return n.on("connect",m),n.on("disconnect",v),n.on("error",R),()=>{n.off("connect",m),n.off("disconnect",v),n.off("error",R),v()}},[n,r]);const D=V.useRef(!1);V.useEffect(()=>()=>{D.current=!1},[n]),V.useEffect(()=>{D.current||c.current||E||!s||!(($==null?void 0:$.readyState)===ze.Installed||($==null?void 0:$.readyState)===ze.Loadable)||(c.current=!0,l(!0),D.current=!0,async function(){try{await s()}catch{i()}finally{l(!1),c.current=!1}}())},[E,s,i,$]);const z=V.useCallback(async(m,v,R)=>{if(!n)throw _.current(new T1);if(!E)throw _.current(new Lt,n);return await n.sendTransaction(m,v,R)},[n,E]),U=V.useMemo(()=>n&&"signTransaction"in n?async m=>{if(!E)throw _.current(new Lt,n);return await n.signTransaction(m)}:void 0,[n,E]),K=V.useMemo(()=>n&&"signAllTransactions"in n?async m=>{if(!E)throw _.current(new Lt,n);return await n.signAllTransactions(m)}:void 0,[n,E]),W=V.useMemo(()=>n&&"signMessage"in n?async m=>{if(!E)throw _.current(new Lt,n);return await n.signMessage(m)}:void 0,[n,E]),q=V.useMemo(()=>n&&"signIn"in n?async m=>await n.signIn(m):void 0,[n]),I=V.useCallback(async()=>{if(c.current||d.current||$!=null&&$.adapter.connected)return;if(!$)throw _.current(new T1);const{adapter:m,readyState:v}=$;if(!(v===ze.Installed||v===ze.Loadable))throw _.current(new Eo,m);c.current=!0,l(!0);try{await m.connect()}catch(R){throw i(),R}finally{l(!1),c.current=!1}},[i,$]),f=V.useCallback(async()=>{if(!d.current&&n){d.current=!0,h(!0);try{await n.disconnect()}finally{h(!1),d.current=!1}}},[n]);return ne.createElement(CE.Provider,{value:{autoConnect:!!s,wallets:T,wallet:$,publicKey:g,connected:E,connecting:u,disconnecting:p,select:a,connect:I,disconnect:f,sendTransaction:z,signTransaction:U,signAllTransactions:K,signMessage:W,signIn:q}},e)}let u0;function bB(){var e;return u0===void 0&&(u0=((e=globalThis.navigator)==null?void 0:e.userAgent)??null),u0}function W1(e){const t=bB();return mB({adapters:e,userAgentString:t})===va.MOBILE_WEB}function wB(){const e=globalThis.location;if(e)return`${e.protocol}//${e.host}`}function xB({children:e,wallets:t,autoConnect:n,localStorageKey:r="walletName",onError:s}){const{connection:i}=OC(),o=fB(t),a=V.useMemo(()=>{if(!W1(o))return null;const M=o.find(_=>_.name===Jl);return M||new qk({addressSelector:Hk(),appIdentity:{uri:wB()},authorizationResultCache:Gk(),cluster:gB(i==null?void 0:i.rpcEndpoint),onWalletNotFound:Zk()})},[o,i==null?void 0:i.rpcEndpoint]),c=V.useMemo(()=>a==null||o.indexOf(a)!==-1?o:[a,...o],[o,a]),[u,l]=UC(r,null),d=V.useMemo(()=>c.find(M=>M.name===u)??null,[c,u]),p=V.useCallback(M=>{u!==M&&(d&&d.name!==Jl&&d.disconnect(),l(M))},[d,l,u]);V.useEffect(()=>{if(!d)return;function M(){y.current||l(null)}return d.on("disconnect",M),()=>{d.off("disconnect",M)}},[d,o,l,u]);const h=V.useRef(!1),g=V.useMemo(()=>{if(!(!n||!d))return async()=>{(n===!0||await n(d))&&(h.current?await d.connect():await d.autoConnect())}},[n,d]),y=V.useRef(!1);V.useEffect(()=>{if(u===Jl&&W1(o)){y.current=!1;return}function M(){y.current=!0}return window.addEventListener("beforeunload",M),()=>{window.removeEventListener("beforeunload",M)}},[o,u]);const E=V.useCallback(()=>{d&&p(null)},[d,p]),S=V.useCallback(M=>{h.current=!0,p(M)},[p]);return ne.createElement(yB,{wallets:c,adapter:d,isUnloadingRef:y,onAutoConnectRequest:g,onConnectError:E,onError:s,onSelectWallet:S},e)}const c6=V.createContext(void 0);function vB({children:e,x402Endpoint:t="/api/x402"}){const{publicKey:n,connected:r,connecting:s,disconnect:i,signMessage:o}=Du(),[a,c]=V.useState(null),[u,l]=V.useState(!1);V.useEffect(()=>{c(r&&n?{publicKey:n.toString(),isConnected:!0,isVerified:!1,role:null}:null)},[r,n]);const d=V.useCallback(async()=>{throw new Error("Use WalletMultiButton from @solana/wallet-adapter-react-ui for connection")},[]),p=V.useCallback(async()=>{try{await i()}catch(S){console.error("Wallet disconnect failed:",S),c(null)}},[i]),h=V.useCallback(async S=>{if(!(a!=null&&a.isConnected)||!o)throw new Error("Wallet not connected or not supported");try{const M=new TextEncoder().encode(S),_=await o(M);return Array.from(_).map(T=>T.toString(16).padStart(2,"0")).join("")}catch(M){throw console.error("Message signing failed:",M),new Error("Failed to sign message")}},[a,o]),g=V.useCallback(async()=>{if(!(a!=null&&a.isConnected))throw new Error("Wallet not connected");l(!0);try{const S={message:`Verify ownership of wallet ${a.publicKey} for Adx402 protocol`,timestamp:Date.now()},M=await h(JSON.stringify(S)),_=await fetch(`${t}/verify`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({wallet:a.publicKey,signature:M,challenge:S})});if(!_.ok)throw new Error("x402 verification failed");const T=await _.json();return c(O=>O?{...O,isVerified:!0,role:T.role||null}:null),!0}catch(S){return console.error("x402 verification failed:",S),c(M=>M?{...M,isVerified:!1}:null),!1}finally{l(!1)}},[a,h,t]),y=V.useCallback(async()=>{if(!(a!=null&&a.isConnected))return null;try{return .5}catch(S){return console.error("Failed to get balance:",S),null}},[a]),E={wallet:a,isConnecting:s,isVerifying:u,connect:d,disconnect:p,signMessage:h,verifyWithX402:g,getBalance:y};return N.jsx(c6.Provider,{value:E,children:e})}function ny(){const e=V.useContext(c6);if(e===void 0)throw new Error("useWallet must be used within a WalletProvider");return e}function EB(){const{mode:e,toggleTheme:t}=w8();return N.jsxs("div",{className:"min-h-screen bg-background",children:[N.jsx("header",{className:"border-b border-border",children:N.jsxs("div",{className:"container mx-auto px-4 py-4 flex justify-between items-center",children:[N.jsx("div",{className:"flex items-center space-x-3",children:N.jsx("img",{src:"/logo.svg",alt:"Adx402 logo",className:"h-10 w-auto"})}),N.jsxs("div",{className:"flex items-center space-x-4",children:[N.jsx("button",{onClick:t,className:"p-2 rounded-lg hover:bg-surface transition-colors","aria-label":"Toggle theme",children:e==="dark"?"":""}),N.jsx(pi,{to:"/demo",children:N.jsx(An,{variant:"outline",size:"sm",children:"SDK Demo"})}),N.jsx(pi,{to:"/brand",children:N.jsx(An,{size:"sm",children:"Try as Brand"})})]})]})}),N.jsx("section",{className:"py-20 px-4",children:N.jsxs("div",{className:"container mx-auto text-center max-w-4xl",children:[N.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-text mb-2",children:"The web3-native pay-per-click network,"}),N.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-primary mb-3",children:"powered by Solana x402 payment rails"}),N.jsx("p",{className:"text-2xl font-semibold text-text mb-6",children:"The ad network that moves with on-chain money."}),N.jsx("div",{className:"mb-8"}),N.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[N.jsx(pi,{to:"/brand",children:N.jsx(An,{size:"lg",className:"w-full sm:w-auto",children:"Start as Brand"})}),N.jsx(pi,{to:"/publisher",children:N.jsx(An,{variant:"outline",size:"lg",className:"w-full sm:w-auto",children:"Start as Publisher"})})]})]})}),N.jsx("section",{className:"py-16 px-4 bg-surface",children:N.jsxs("div",{className:"container mx-auto max-w-6xl",children:[N.jsx("h2",{className:"text-3xl font-bold text-center text-text mb-12",children:"How It Works"}),N.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[N.jsx(kt,{children:N.jsxs(Bt,{className:"p-6 text-center",children:[N.jsx("div",{className:"w-12 h-12 bg-primary rounded-lg flex items-center justify-center mx-auto mb-4",children:N.jsx("span",{className:"text-white font-bold",children:"1"})}),N.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"Verify via x402"}),N.jsx("p",{className:"text-text-secondary",children:"One tap x402 challenge proves wallet ownership and assigns a role (brand or publisher) on-chain."})]})}),N.jsx(kt,{children:N.jsxs(Bt,{className:"p-6 text-center",children:[N.jsx("div",{className:"w-12 h-12 bg-secondary rounded-lg flex items-center justify-center mx-auto mb-4",children:N.jsx("span",{className:"text-white font-bold",children:"2"})}),N.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"Smart Matching"}),N.jsx("p",{className:"text-text-secondary",children:"AI-powered matching connects relevant ads with publisher audiences based on content tags and wallet reputation."})]})}),N.jsx(kt,{children:N.jsxs(Bt,{className:"p-6 text-center",children:[N.jsx("div",{className:"w-12 h-12 bg-success rounded-lg flex items-center justify-center mx-auto mb-4",children:N.jsx("span",{className:"text-white font-bold",children:"3"})}),N.jsx("h3",{className:"text-xl font-semibold text-text mb-2",children:"x402 payouts"}),N.jsx("p",{className:"text-text-secondary",children:"Publishers receive SOL rewards settled automatically through x402 micro-payments once metrics are verified."})]})})]})]})}),N.jsx("section",{className:"py-16 px-4",children:N.jsx("div",{className:"container mx-auto max-w-6xl space-y-10",children:N.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[N.jsx(kt,{children:N.jsxs(Bt,{className:"p-8 space-y-6",children:[N.jsx("p",{className:"inline-flex items-center rounded-full bg-primary/10 px-3 py-1 text-sm font-semibold text-primary",children:"For brands"}),N.jsx("h3",{className:"text-2xl font-semibold text-text",children:"Launch a campaign in minutes"}),N.jsx("p",{className:"text-text-secondary",children:"Connect a wallet, stake via x402, upload your creative, and go live once moderation + wallet checks pass. Every impression can be traced back to your signing key."}),N.jsxs("ul",{className:"space-y-3 text-text",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),"Signed x402 challenge assigns your role and enforces unique brand wallets."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-secondary"}),"Credit pools are funded in SOL; ad spend streams as impressions clear."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-info"}),"Real-time creative dashboard mirrors the component library used in"," ",N.jsx("code",{className:"text-sm",children:"/brand"}),"."]})]}),N.jsx(pi,{to:"/brand",children:N.jsx(An,{className:"mt-2 w-full md:w-auto",children:"Go to Brand Console"})})]})}),N.jsx(kt,{children:N.jsxs(Bt,{className:"p-8 space-y-6",children:[N.jsx("p",{className:"inline-flex items-center rounded-full bg-secondary/10 px-3 py-1 text-sm font-semibold text-secondary",children:"For publishers"}),N.jsx("h3",{className:"text-2xl font-semibold text-text",children:"Monetize every slot, automatically"}),N.jsxs("p",{className:"text-text-secondary",children:["Register your domain, drop the SDK snippet, and let"," ",N.jsx("code",{className:"text-sm",children:"adx402"})," call"," ",N.jsx("code",{className:"text-sm",children:"/ad/<wallet>"})," using your tags and slot reputation. x402 handles payoutsno invoicing."]}),N.jsxs("ul",{className:"space-y-3 text-text",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-secondary"}),"Domain proof + wallet challenge secures your publisher identity."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-success"}),"Each impression/click is hashed; once verified, x402 settles SOL directly to your wallet."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-warning"}),"Adjustable fill rules: pin your own tags, aspect ratios, or fallback assets."]})]}),N.jsx(pi,{to:"/publisher",children:N.jsx(An,{variant:"outline",className:"mt-2 w-full md:w-auto",children:"Go to Publisher Console"})})]})})]})})}),N.jsx("section",{className:"py-16 px-4",children:N.jsxs("div",{className:"container mx-auto max-w-5xl grid gap-8 lg:grid-cols-2",children:[N.jsxs("div",{className:"space-y-4",children:[N.jsx("p",{className:"inline-flex items-center rounded-full bg-info/10 px-3 py-1 text-sm font-semibold text-info",children:"Built for the Solana x402 Hackathon"}),N.jsx("h2",{className:"text-3xl font-bold text-text",children:"What x402 unlocks"}),N.jsx("p",{className:"text-text-secondary",children:"x402 brings HTTP status 402 (Payment Required) to Solana. We use it to verify wallets, require deposits, and stream rewardsall without centralized accounts."}),N.jsxs("ul",{className:"space-y-3 text-text",children:[N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-primary"}),"Real-time wallet verification with signed challenges."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-secondary"}),"Programmatic settlement to publishers using x402 transfers."]}),N.jsxs("li",{className:"flex items-start gap-3",children:[N.jsx("span",{className:"mt-1 h-2 w-2 rounded-full bg-success"}),"Configurable gating: require deposits before ads go live."]})]})]}),N.jsx(kt,{children:N.jsxs(Bt,{className:"space-y-6 p-6",children:[N.jsx("h3",{className:"text-xl font-semibold text-text",children:"Challenge  Serve  Settle"}),N.jsxs("div",{className:"space-y-4 text-sm text-text-secondary",children:[N.jsxs("div",{className:"rounded-lg border border-border p-4",children:[N.jsx("p",{className:"text-text font-semibold",children:"1. Wallet challenge"}),N.jsxs("p",{className:"mt-1",children:[N.jsx("code",{className:"text-sm text-text",children:"adx402"})," requests a signed message to prove wallet ownership via x402 endpoints."]})]}),N.jsxs("div",{className:"rounded-lg border border-border p-4",children:[N.jsx("p",{className:"text-text font-semibold",children:"2. Serve & track"}),N.jsx("p",{className:"mt-1",children:"Ads render in isolated slots, impressions/clicks are hashed and queued for validation."})]}),N.jsxs("div",{className:"rounded-lg border border-border p-4",children:[N.jsx("p",{className:"text-text font-semibold",children:"3. Auto-settlement"}),N.jsx("p",{className:"mt-1",children:"Verified metrics trigger x402 payouts in SOL with transaction hashes auditable on-chain."})]})]}),N.jsx(pi,{to:"/demo",children:N.jsx(An,{className:"w-full",children:"Explore x402 flow"})})]})})]})}),N.jsx("section",{className:"py-16 px-4",children:N.jsxs("div",{className:"container mx-auto max-w-4xl",children:[N.jsxs("div",{className:"text-center mb-12",children:[N.jsx("h2",{className:"text-3xl font-bold text-text mb-4",children:"Easy Integration"}),N.jsx("p",{className:"text-xl text-text-secondary",children:"Drop-in SDK for any website or app"})]}),N.jsx(kt,{children:N.jsxs(Bt,{className:"p-8",children:[N.jsx("div",{className:"bg-surface rounded-lg p-6 mb-6",children:N.jsx("pre",{className:"text-sm text-text overflow-x-auto",children:N.jsx("code",{children:`// Initialize
adx402.init({
  wallet: "your_publisher_wallet",
  tags: ["tech", "gaming"]
});

// Display ad
adx402.render("#ad-slot", {
  aspectRatio: "16x9"
});`})})}),N.jsx("div",{className:"text-center",children:N.jsx(pi,{to:"/demo",children:N.jsx(An,{variant:"outline",children:"Try the SDK Demo "})})})]})})]})}),N.jsx("section",{className:"py-16 px-4 bg-surface",children:N.jsx("div",{className:"container mx-auto max-w-4xl",children:N.jsxs("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[N.jsxs("div",{children:[N.jsx("div",{className:"text-3xl font-bold text-primary mb-2",children:"1,247"}),N.jsx("div",{className:"text-text-secondary",children:"Active Publishers"})]}),N.jsxs("div",{children:[N.jsx("div",{className:"text-3xl font-bold text-secondary mb-2",children:"3,891"}),N.jsx("div",{className:"text-text-secondary",children:"Ads Served"})]}),N.jsxs("div",{children:[N.jsx("div",{className:"text-3xl font-bold text-success mb-2",children:"12.5 SOL"}),N.jsx("div",{className:"text-text-secondary",children:"Total Earnings"})]})]})})}),N.jsx("footer",{className:"border-t border-border py-8 px-4",children:N.jsx("div",{className:"container mx-auto text-center text-text-secondary",children:N.jsx("p",{children:" 2025 Adx402 Protocol. Built on Solana with love by Atelier x Psy Labs"})})})]})}const u6={setVisible(e){console.error(l6("call","setVisible"))},visible:!1};Object.defineProperty(u6,"visible",{get(){return console.error(l6("read","visible")),!1}});function l6(e,t){return`You have tried to  ${e} "${t}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`}const d6=V.createContext(u6);function f6(){return V.useContext(d6)}function SB({onSelectWallet:e}){const{connect:t,connected:n,connecting:r,disconnect:s,disconnecting:i,publicKey:o,select:a,wallet:c,wallets:u}=Du();let l;r?l="connecting":n?l="connected":i?l="disconnecting":c?l="has-wallet":l="no-wallet";const d=V.useCallback(()=>{t().catch(()=>{})},[t]),p=V.useCallback(()=>{s().catch(()=>{})},[s]),h=V.useCallback(()=>{e({onSelectWallet:a,wallets:u})},[e,a,u]);return{buttonState:l,onConnect:l==="has-wallet"?d:void 0,onDisconnect:l!=="disconnecting"&&l!=="no-wallet"?p:void 0,onSelectWallet:h,publicKey:o??void 0,walletIcon:c==null?void 0:c.adapter.icon,walletName:c==null?void 0:c.adapter.name}}const h6=e=>ne.createElement("button",{className:`wallet-adapter-button ${e.className||""}`,disabled:e.disabled,style:e.style,onClick:e.onClick,tabIndex:e.tabIndex||0,type:"button"},e.startIcon&&ne.createElement("i",{className:"wallet-adapter-button-start-icon"},e.startIcon),e.children,e.endIcon&&ne.createElement("i",{className:"wallet-adapter-button-end-icon"},e.endIcon)),p6=({wallet:e,...t})=>e&&ne.createElement("img",{src:e.adapter.icon,alt:`${e.adapter.name} icon`,...t});function _B({walletIcon:e,walletName:t,...n}){return ne.createElement(h6,{...n,className:"wallet-adapter-button-trigger",startIcon:e&&t?ne.createElement(p6,{wallet:{adapter:{icon:e,name:t}}}):void 0})}function AB({children:e,labels:t,...n}){const{setVisible:r}=f6(),{buttonState:s,onConnect:i,onDisconnect:o,publicKey:a,walletIcon:c,walletName:u}=SB({onSelectWallet(){r(!0)}}),[l,d]=V.useState(!1),[p,h]=V.useState(!1),g=V.useRef(null);V.useEffect(()=>{const E=S=>{const M=g.current;!M||M.contains(S.target)||h(!1)};return document.addEventListener("mousedown",E),document.addEventListener("touchstart",E),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("touchstart",E)}},[]);const y=V.useMemo(()=>{if(e)return e;if(a){const E=a.toBase58();return E.slice(0,4)+".."+E.slice(-4)}else return s==="connecting"||s==="has-wallet"?t[s]:t["no-wallet"]},[s,e,t,a]);return ne.createElement("div",{className:"wallet-adapter-dropdown"},ne.createElement(_B,{...n,"aria-expanded":p,style:{pointerEvents:p?"none":"auto",...n.style},onClick:()=>{switch(s){case"no-wallet":r(!0);break;case"has-wallet":i&&i();break;case"connected":h(!0);break}},walletIcon:c,walletName:u},y),ne.createElement("ul",{"aria-label":"dropdown-list",className:`wallet-adapter-dropdown-list ${p&&"wallet-adapter-dropdown-list-active"}`,ref:g,role:"menu"},a?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:async()=>{await navigator.clipboard.writeText(a.toBase58()),d(!0),setTimeout(()=>d(!1),400)},role:"menuitem"},l?t.copied:t["copy-address"]):null,ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{r(!0),h(!1)},role:"menuitem"},t["change-wallet"]),o?ne.createElement("li",{className:"wallet-adapter-dropdown-list-item",onClick:()=>{o(),h(!1)},role:"menuitem"},t.disconnect):null))}const V1=({id:e,children:t,expanded:n=!1})=>{const r=V.useRef(null),s=V.useRef(!0),i="height 250ms ease-out",o=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.scrollHeight+"px"})},a=()=>{const c=r.current;c&&requestAnimationFrame(()=>{c.style.height=c.offsetHeight+"px",c.style.overflow="hidden",requestAnimationFrame(()=>{c.style.height="0"})})};return V.useLayoutEffect(()=>{n?o():a()},[n]),V.useLayoutEffect(()=>{const c=r.current;if(!c)return;function u(){c&&(c.style.overflow=n?"initial":"hidden",n&&(c.style.height="auto"))}function l(d){c&&d.target===c&&d.propertyName==="height"&&u()}return s.current&&(u(),s.current=!1),c.addEventListener("transitionend",l),()=>c.removeEventListener("transitionend",l)},[n]),ne.createElement("div",{className:"wallet-adapter-collapse",id:e,ref:r,role:"region",style:{height:0,transition:s.current?void 0:i}},t)},l0=({handleClick:e,tabIndex:t,wallet:n})=>ne.createElement("li",null,ne.createElement(h6,{onClick:e,startIcon:ne.createElement(p6,{wallet:n}),tabIndex:t},n.adapter.name,n.readyState===ze.Installed&&ne.createElement("span",null,"Detected"))),IB=()=>ne.createElement("svg",{width:"97",height:"96",viewBox:"0 0 97 96",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ne.createElement("circle",{cx:"48.5",cy:"48",r:"48",fill:"url(#paint0_linear_880_5115)",fillOpacity:"0.1"}),ne.createElement("circle",{cx:"48.5",cy:"48",r:"47",stroke:"url(#paint1_linear_880_5115)",strokeOpacity:"0.4",strokeWidth:"2"}),ne.createElement("g",{clipPath:"url(#clip0_880_5115)"},ne.createElement("path",{d:"M65.5769 28.1523H31.4231C27.6057 28.1523 24.5 31.258 24.5 35.0754V60.9215C24.5 64.7389 27.6057 67.8446 31.4231 67.8446H65.5769C69.3943 67.8446 72.5 64.7389 72.5 60.9215V35.0754C72.5 31.258 69.3943 28.1523 65.5769 28.1523ZM69.7308 52.1523H59.5769C57.2865 52.1523 55.4231 50.289 55.4231 47.9985C55.4231 45.708 57.2864 43.8446 59.5769 43.8446H69.7308V52.1523ZM69.7308 41.0754H59.5769C55.7595 41.0754 52.6539 44.1811 52.6539 47.9985C52.6539 51.8159 55.7595 54.9215 59.5769 54.9215H69.7308V60.9215C69.7308 63.2119 67.8674 65.0754 65.5769 65.0754H31.4231C29.1327 65.0754 27.2692 63.212 27.2692 60.9215V35.0754C27.2692 32.785 29.1326 30.9215 31.4231 30.9215H65.5769C67.8673 30.9215 69.7308 32.7849 69.7308 35.0754V41.0754Z",fill:"url(#paint2_linear_880_5115)"}),ne.createElement("path",{d:"M61.4231 46.6172H59.577C58.8123 46.6172 58.1924 47.2371 58.1924 48.0018C58.1924 48.7665 58.8123 49.3863 59.577 49.3863H61.4231C62.1878 49.3863 62.8077 48.7664 62.8077 48.0018C62.8077 47.2371 62.1878 46.6172 61.4231 46.6172Z",fill:"url(#paint3_linear_880_5115)"})),ne.createElement("defs",null,ne.createElement("linearGradient",{id:"paint0_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint1_linear_880_5115",x1:"3.41664",y1:"98.0933",x2:"103.05",y2:"8.42498",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint2_linear_880_5115",x1:"25.9583",y1:"68.7101",x2:"67.2337",y2:"23.7879",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("linearGradient",{id:"paint3_linear_880_5115",x1:"58.3326",y1:"49.4467",x2:"61.0002",y2:"45.4453",gradientUnits:"userSpaceOnUse"},ne.createElement("stop",{stopColor:"#9945FF"}),ne.createElement("stop",{offset:"0.14",stopColor:"#8A53F4"}),ne.createElement("stop",{offset:"0.42",stopColor:"#6377D6"}),ne.createElement("stop",{offset:"0.79",stopColor:"#24B0A7"}),ne.createElement("stop",{offset:"0.99",stopColor:"#00D18C"}),ne.createElement("stop",{offset:"1",stopColor:"#00D18C"})),ne.createElement("clipPath",{id:"clip0_880_5115"},ne.createElement("rect",{width:"48",height:"48",fill:"white",transform:"translate(24.5 24)"})))),TB=({className:e="",container:t="body"})=>{const n=V.useRef(null),{wallets:r,select:s}=Du(),{setVisible:i}=f6(),[o,a]=V.useState(!1),[c,u]=V.useState(!1),[l,d]=V.useState(null),[p,h]=V.useMemo(()=>{const _=[],T=[];for(const O of r)O.readyState===ze.Installed?_.push(O):T.push(O);return _.length?[_,T]:[T,[]]},[r]),g=V.useCallback(()=>{u(!1),setTimeout(()=>i(!1),150)},[i]),y=V.useCallback(_=>{_.preventDefault(),g()},[g]),E=V.useCallback((_,T)=>{s(T),y(_)},[s,y]),S=V.useCallback(()=>a(!o),[o]),M=V.useCallback(_=>{const T=n.current;if(!T)return;const O=T.querySelectorAll("button"),$=O[0],D=O[O.length-1];_.shiftKey?document.activeElement===$&&(D.focus(),_.preventDefault()):document.activeElement===D&&($.focus(),_.preventDefault())},[n]);return V.useLayoutEffect(()=>{const _=O=>{O.key==="Escape"?g():O.key==="Tab"&&M(O)},{overflow:T}=window.getComputedStyle(document.body);return setTimeout(()=>u(!0),0),document.body.style.overflow="hidden",window.addEventListener("keydown",_,!1),()=>{document.body.style.overflow=T,window.removeEventListener("keydown",_,!1)}},[g,M]),V.useLayoutEffect(()=>d(document.querySelector(t)),[t]),l&&cv.createPortal(ne.createElement("div",{"aria-labelledby":"wallet-adapter-modal-title","aria-modal":"true",className:`wallet-adapter-modal ${c&&"wallet-adapter-modal-fade-in"} ${e}`,ref:n,role:"dialog"},ne.createElement("div",{className:"wallet-adapter-modal-container"},ne.createElement("div",{className:"wallet-adapter-modal-wrapper"},ne.createElement("button",{onClick:y,className:"wallet-adapter-modal-button-close"},ne.createElement("svg",{width:"14",height:"14"},ne.createElement("path",{d:"M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z"}))),p.length?ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"Connect a wallet on Solana to continue"),ne.createElement("ul",{className:"wallet-adapter-modal-list"},p.map(_=>ne.createElement(l0,{key:_.adapter.name,handleClick:T=>E(T,_.adapter.name),wallet:_})),h.length?ne.createElement(V1,{expanded:o,id:"wallet-adapter-modal-collapse"},h.map(_=>ne.createElement(l0,{key:_.adapter.name,handleClick:T=>E(T,_.adapter.name),tabIndex:o?0:-1,wallet:_}))):null),h.length?ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},ne.createElement("span",null,o?"Less ":"More ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))):null):ne.createElement(ne.Fragment,null,ne.createElement("h1",{className:"wallet-adapter-modal-title"},"You'll need a wallet on Solana to continue"),ne.createElement("div",{className:"wallet-adapter-modal-middle"},ne.createElement(IB,null)),h.length?ne.createElement(ne.Fragment,null,ne.createElement("button",{className:"wallet-adapter-modal-list-more",onClick:S,tabIndex:0},ne.createElement("span",null,o?"Hide ":"Already have a wallet? View ","options"),ne.createElement("svg",{width:"13",height:"7",viewBox:"0 0 13 7",xmlns:"http://www.w3.org/2000/svg",className:`${o?"wallet-adapter-modal-list-more-icon-rotate":""}`},ne.createElement("path",{d:"M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z"}))),ne.createElement(V1,{expanded:o,id:"wallet-adapter-modal-collapse"},ne.createElement("ul",{className:"wallet-adapter-modal-list"},h.map(_=>ne.createElement(l0,{key:_.adapter.name,handleClick:T=>E(T,_.adapter.name),tabIndex:o?0:-1,wallet:_}))))):null))),ne.createElement("div",{className:"wallet-adapter-modal-overlay",onMouseDown:y})),l)},RB=({children:e,...t})=>{const[n,r]=V.useState(!1);return ne.createElement(d6.Provider,{value:{visible:n,setVisible:r}},e,n&&ne.createElement(TB,{...t}))},NB={"change-wallet":"Change wallet",connecting:"Connecting ...","copy-address":"Copy address",copied:"Copied",disconnect:"Disconnect","has-wallet":"Connect","no-wallet":"Select Wallet"};function ry(e){return ne.createElement(AB,{...e,labels:NB})}function m6(e,t){return function(){return e.apply(t,arguments)}}const{toString:CB}=Object.prototype,{getPrototypeOf:sy}=Object,{iterator:If,toStringTag:g6}=Symbol,Tf=(e=>t=>{const n=CB.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),os=e=>(e=e.toLowerCase(),t=>Tf(t)===e),Rf=e=>t=>typeof t===e,{isArray:cc}=Array,za=Rf("undefined");function Uu(e){return e!==null&&!za(e)&&e.constructor!==null&&!za(e.constructor)&&ar(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const y6=os("ArrayBuffer");function MB(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&y6(e.buffer),t}const kB=Rf("string"),ar=Rf("function"),b6=Rf("number"),Fu=e=>e!==null&&typeof e=="object",BB=e=>e===!0||e===!1,td=e=>{if(Tf(e)!=="object")return!1;const t=sy(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(g6 in e)&&!(If in e)},OB=e=>{if(!Fu(e)||Uu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},PB=os("Date"),LB=os("File"),jB=os("Blob"),$B=os("FileList"),DB=e=>Fu(e)&&ar(e.pipe),zB=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ar(e.append)&&((t=Tf(e))==="formdata"||t==="object"&&ar(e.toString)&&e.toString()==="[object FormData]"))},UB=os("URLSearchParams"),[FB,WB,VB,qB]=["ReadableStream","Request","Response","Headers"].map(os),HB=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),cc(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{if(Uu(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function w6(e,t){if(Uu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const so=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,x6=e=>!za(e)&&e!==so;function Wp(){const{caseless:e,skipUndefined:t}=x6(this)&&this||{},n={},r=(s,i)=>{const o=e&&w6(n,i)||i;td(n[o])&&td(s)?n[o]=Wp(n[o],s):td(s)?n[o]=Wp({},s):cc(s)?n[o]=s.slice():(!t||!za(s))&&(n[o]=s)};for(let s=0,i=arguments.length;s<i;s++)arguments[s]&&Wu(arguments[s],r);return n}const GB=(e,t,n,{allOwnKeys:r}={})=>(Wu(t,(s,i)=>{n&&ar(s)?e[i]=m6(s,n):e[i]=s},{allOwnKeys:r}),e),KB=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ZB=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},YB=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&sy(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},JB=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},QB=e=>{if(!e)return null;if(cc(e))return e;let t=e.length;if(!b6(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},XB=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&sy(Uint8Array)),eO=(e,t)=>{const r=(e&&e[If]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},tO=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},nO=os("HTMLFormElement"),rO=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),q1=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),sO=os("RegExp"),v6=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Wu(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},iO=e=>{v6(e,(t,n)=>{if(ar(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ar(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},oO=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return cc(e)?r(e):r(String(e).split(t)),n},aO=()=>{},cO=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function uO(e){return!!(e&&ar(e.append)&&e[g6]==="FormData"&&e[If])}const lO=e=>{const t=new Array(10),n=(r,s)=>{if(Fu(r)){if(t.indexOf(r)>=0)return;if(Uu(r))return r;if(!("toJSON"in r)){t[s]=r;const i=cc(r)?[]:{};return Wu(r,(o,a)=>{const c=n(o,s+1);!za(c)&&(i[a]=c)}),t[s]=void 0,i}}return r};return n(e,0)},dO=os("AsyncFunction"),fO=e=>e&&(Fu(e)||ar(e))&&ar(e.then)&&ar(e.catch),E6=((e,t)=>e?setImmediate:t?((n,r)=>(so.addEventListener("message",({source:s,data:i})=>{s===so&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),so.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ar(so.postMessage)),hO=typeof queueMicrotask<"u"?queueMicrotask.bind(so):typeof process<"u"&&process.nextTick||E6,pO=e=>e!=null&&ar(e[If]),Y={isArray:cc,isArrayBuffer:y6,isBuffer:Uu,isFormData:zB,isArrayBufferView:MB,isString:kB,isNumber:b6,isBoolean:BB,isObject:Fu,isPlainObject:td,isEmptyObject:OB,isReadableStream:FB,isRequest:WB,isResponse:VB,isHeaders:qB,isUndefined:za,isDate:PB,isFile:LB,isBlob:jB,isRegExp:sO,isFunction:ar,isStream:DB,isURLSearchParams:UB,isTypedArray:XB,isFileList:$B,forEach:Wu,merge:Wp,extend:GB,trim:HB,stripBOM:KB,inherits:ZB,toFlatObject:YB,kindOf:Tf,kindOfTest:os,endsWith:JB,toArray:QB,forEachEntry:eO,matchAll:tO,isHTMLForm:nO,hasOwnProperty:q1,hasOwnProp:q1,reduceDescriptors:v6,freezeMethods:iO,toObjectSet:oO,toCamelCase:rO,noop:aO,toFiniteNumber:cO,findKey:w6,global:so,isContextDefined:x6,isSpecCompliantForm:uO,toJSONObject:lO,isAsyncFn:dO,isThenable:fO,setImmediate:E6,asap:hO,isIterable:pO};function Pe(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}Y.inherits(Pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Y.toJSONObject(this.config),code:this.code,status:this.status}}});const S6=Pe.prototype,_6={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_6[e]={value:e}});Object.defineProperties(Pe,_6);Object.defineProperty(S6,"isAxiosError",{value:!0});Pe.from=(e,t,n,r,s,i)=>{const o=Object.create(S6);Y.toFlatObject(e,o,function(l){return l!==Error.prototype},u=>u!=="isAxiosError");const a=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Pe.call(o,a,c,n,r,s),e&&o.cause==null&&Object.defineProperty(o,"cause",{value:e,configurable:!0}),o.name=e&&e.name||"Error",i&&Object.assign(o,i),o};const mO=null;function Vp(e){return Y.isPlainObject(e)||Y.isArray(e)}function A6(e){return Y.endsWith(e,"[]")?e.slice(0,-2):e}function H1(e,t,n){return e?e.concat(t).map(function(s,i){return s=A6(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function gO(e){return Y.isArray(e)&&!e.some(Vp)}const yO=Y.toFlatObject(Y,{},null,function(t){return/^is[A-Z]/.test(t)});function Nf(e,t,n){if(!Y.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Y.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,E){return!Y.isUndefined(E[y])});const r=n.metaTokens,s=n.visitor||l,i=n.dots,o=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Y.isSpecCompliantForm(t);if(!Y.isFunction(s))throw new TypeError("visitor must be a function");function u(g){if(g===null)return"";if(Y.isDate(g))return g.toISOString();if(Y.isBoolean(g))return g.toString();if(!c&&Y.isBlob(g))throw new Pe("Blob is not supported. Use a Buffer instead.");return Y.isArrayBuffer(g)||Y.isTypedArray(g)?c&&typeof Blob=="function"?new Blob([g]):Buffer.from(g):g}function l(g,y,E){let S=g;if(g&&!E&&typeof g=="object"){if(Y.endsWith(y,"{}"))y=r?y:y.slice(0,-2),g=JSON.stringify(g);else if(Y.isArray(g)&&gO(g)||(Y.isFileList(g)||Y.endsWith(y,"[]"))&&(S=Y.toArray(g)))return y=A6(y),S.forEach(function(_,T){!(Y.isUndefined(_)||_===null)&&t.append(o===!0?H1([y],T,i):o===null?y:y+"[]",u(_))}),!1}return Vp(g)?!0:(t.append(H1(E,y,i),u(g)),!1)}const d=[],p=Object.assign(yO,{defaultVisitor:l,convertValue:u,isVisitable:Vp});function h(g,y){if(!Y.isUndefined(g)){if(d.indexOf(g)!==-1)throw Error("Circular reference detected in "+y.join("."));d.push(g),Y.forEach(g,function(S,M){(!(Y.isUndefined(S)||S===null)&&s.call(t,S,Y.isString(M)?M.trim():M,y,p))===!0&&h(S,y?y.concat(M):[M])}),d.pop()}}if(!Y.isObject(e))throw new TypeError("data must be an object");return h(e),t}function G1(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function iy(e,t){this._pairs=[],e&&Nf(e,this,t)}const I6=iy.prototype;I6.append=function(t,n){this._pairs.push([t,n])};I6.toString=function(t){const n=t?function(r){return t.call(this,r,G1)}:G1;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function bO(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function T6(e,t,n){if(!t)return e;const r=n&&n.encode||bO;Y.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let i;if(s?i=s(t,n):i=Y.isURLSearchParams(t)?t.toString():new iy(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class K1{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Y.forEach(this.handlers,function(r){r!==null&&t(r)})}}const R6={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wO=typeof URLSearchParams<"u"?URLSearchParams:iy,xO=typeof FormData<"u"?FormData:null,vO=typeof Blob<"u"?Blob:null,EO={isBrowser:!0,classes:{URLSearchParams:wO,FormData:xO,Blob:vO},protocols:["http","https","file","blob","url","data"]},oy=typeof window<"u"&&typeof document<"u",qp=typeof navigator=="object"&&navigator||void 0,SO=oy&&(!qp||["ReactNative","NativeScript","NS"].indexOf(qp.product)<0),_O=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",AO=oy&&window.location.href||"http://localhost",IO=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:oy,hasStandardBrowserEnv:SO,hasStandardBrowserWebWorkerEnv:_O,navigator:qp,origin:AO},Symbol.toStringTag,{value:"Module"})),$n={...IO,...EO};function TO(e,t){return Nf(e,new $n.classes.URLSearchParams,{visitor:function(n,r,s,i){return $n.isNode&&Y.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function RO(e){return Y.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function NO(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function N6(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),c=i>=n.length;return o=!o&&Y.isArray(s)?s.length:o,c?(Y.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!Y.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&Y.isArray(s[o])&&(s[o]=NO(s[o])),!a)}if(Y.isFormData(e)&&Y.isFunction(e.entries)){const n={};return Y.forEachEntry(e,(r,s)=>{t(RO(r),s,n,0)}),n}return null}function CO(e,t,n){if(Y.isString(e))try{return(t||JSON.parse)(e),Y.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Vu={transitional:R6,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=Y.isObject(t);if(i&&Y.isHTMLForm(t)&&(t=new FormData(t)),Y.isFormData(t))return s?JSON.stringify(N6(t)):t;if(Y.isArrayBuffer(t)||Y.isBuffer(t)||Y.isStream(t)||Y.isFile(t)||Y.isBlob(t)||Y.isReadableStream(t))return t;if(Y.isArrayBufferView(t))return t.buffer;if(Y.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return TO(t,this.formSerializer).toString();if((a=Y.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Nf(a?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),CO(t)):t}],transformResponse:[function(t){const n=this.transitional||Vu.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(Y.isResponse(t)||Y.isReadableStream(t))return t;if(t&&Y.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Pe.from(a,Pe.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:$n.classes.FormData,Blob:$n.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Y.forEach(["delete","get","head","post","put","patch"],e=>{Vu.headers[e]={}});const MO=Y.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kO=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&MO[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Z1=Symbol("internals");function Sc(e){return e&&String(e).trim().toLowerCase()}function nd(e){return e===!1||e==null?e:Y.isArray(e)?e.map(nd):String(e)}function BO(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const OO=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function d0(e,t,n,r,s){if(Y.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!Y.isString(t)){if(Y.isString(r))return t.indexOf(r)!==-1;if(Y.isRegExp(r))return r.test(t)}}function PO(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function LO(e,t){const n=Y.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}let cr=class{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,c,u){const l=Sc(c);if(!l)throw new Error("header name must be a non-empty string");const d=Y.findKey(s,l);(!d||s[d]===void 0||u===!0||u===void 0&&s[d]!==!1)&&(s[d||c]=nd(a))}const o=(a,c)=>Y.forEach(a,(u,l)=>i(u,l,c));if(Y.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(Y.isString(t)&&(t=t.trim())&&!OO(t))o(kO(t),n);else if(Y.isObject(t)&&Y.isIterable(t)){let a={},c,u;for(const l of t){if(!Y.isArray(l))throw TypeError("Object iterator must return a key-value pair");a[u=l[0]]=(c=a[u])?Y.isArray(c)?[...c,l[1]]:[c,l[1]]:l[1]}o(a,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Sc(t),t){const r=Y.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return BO(s);if(Y.isFunction(n))return n.call(this,s,r);if(Y.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Sc(t),t){const r=Y.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||d0(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=Sc(o),o){const a=Y.findKey(r,o);a&&(!n||d0(r,r[a],a,n))&&(delete r[a],s=!0)}}return Y.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||d0(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return Y.forEach(this,(s,i)=>{const o=Y.findKey(r,i);if(o){n[o]=nd(s),delete n[i];return}const a=t?PO(i):String(i).trim();a!==i&&delete n[i],n[a]=nd(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Y.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&Y.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[Z1]=this[Z1]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=Sc(o);r[a]||(LO(s,o),r[a]=!0)}return Y.isArray(t)?t.forEach(i):i(t),this}};cr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Y.reduceDescriptors(cr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Y.freezeMethods(cr);function f0(e,t){const n=this||Vu,r=t||n,s=cr.from(r.headers);let i=r.data;return Y.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function C6(e){return!!(e&&e.__CANCEL__)}function uc(e,t,n){Pe.call(this,e??"canceled",Pe.ERR_CANCELED,t,n),this.name="CanceledError"}Y.inherits(uc,Pe,{__CANCEL__:!0});function M6(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Pe("Request failed with status code "+n.status,[Pe.ERR_BAD_REQUEST,Pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function jO(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function $O(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(c){const u=Date.now(),l=r[i];o||(o=u),n[s]=c,r[s]=u;let d=i,p=0;for(;d!==s;)p+=n[d++],d=d%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=l&&u-l;return h?Math.round(p*1e3/h):void 0}}function DO(e,t){let n=0,r=1e3/t,s,i;const o=(u,l=Date.now())=>{n=l,s=null,i&&(clearTimeout(i),i=null),e(...u)};return[(...u)=>{const l=Date.now(),d=l-n;d>=r?o(u,l):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-d)))},()=>s&&o(s)]}const kd=(e,t,n=3)=>{let r=0;const s=$O(50,250);return DO(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,c=o-r,u=s(c),l=o<=a;r=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:c,rate:u||void 0,estimated:u&&a&&l?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(d)},n)},Y1=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},J1=e=>(...t)=>Y.asap(()=>e(...t)),zO=$n.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,$n.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL($n.origin),$n.navigator&&/(msie|trident)/i.test($n.navigator.userAgent)):()=>!0,UO=$n.hasStandardBrowserEnv?{write(e,t,n,r,s,i,o){if(typeof document>"u")return;const a=[`${e}=${encodeURIComponent(t)}`];Y.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),Y.isString(r)&&a.push(`path=${r}`),Y.isString(s)&&a.push(`domain=${s}`),i===!0&&a.push("secure"),Y.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function FO(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function WO(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function k6(e,t,n){let r=!FO(t);return e&&(r||n==!1)?WO(e,t):t}const Q1=e=>e instanceof cr?{...e}:e;function _o(e,t){t=t||{};const n={};function r(u,l,d,p){return Y.isPlainObject(u)&&Y.isPlainObject(l)?Y.merge.call({caseless:p},u,l):Y.isPlainObject(l)?Y.merge({},l):Y.isArray(l)?l.slice():l}function s(u,l,d,p){if(Y.isUndefined(l)){if(!Y.isUndefined(u))return r(void 0,u,d,p)}else return r(u,l,d,p)}function i(u,l){if(!Y.isUndefined(l))return r(void 0,l)}function o(u,l){if(Y.isUndefined(l)){if(!Y.isUndefined(u))return r(void 0,u)}else return r(void 0,l)}function a(u,l,d){if(d in t)return r(u,l);if(d in e)return r(void 0,u)}const c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,l,d)=>s(Q1(u),Q1(l),d,!0)};return Y.forEach(Object.keys({...e,...t}),function(l){const d=c[l]||s,p=d(e[l],t[l],l);Y.isUndefined(p)&&d!==a||(n[l]=p)}),n}const B6=e=>{const t=_o({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;if(t.headers=o=cr.from(o),t.url=T6(k6(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),Y.isFormData(n)){if($n.hasStandardBrowserEnv||$n.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Y.isFunction(n.getHeaders)){const c=n.getHeaders(),u=["content-type","content-length"];Object.entries(c).forEach(([l,d])=>{u.includes(l.toLowerCase())&&o.set(l,d)})}}if($n.hasStandardBrowserEnv&&(r&&Y.isFunction(r)&&(r=r(t)),r||r!==!1&&zO(t.url))){const c=s&&i&&UO.read(i);c&&o.set(s,c)}return t},VO=typeof XMLHttpRequest<"u",qO=VO&&function(e){return new Promise(function(n,r){const s=B6(e);let i=s.data;const o=cr.from(s.headers).normalize();let{responseType:a,onUploadProgress:c,onDownloadProgress:u}=s,l,d,p,h,g;function y(){h&&h(),g&&g(),s.cancelToken&&s.cancelToken.unsubscribe(l),s.signal&&s.signal.removeEventListener("abort",l)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function S(){if(!E)return;const _=cr.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),O={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:_,config:e,request:E};M6(function(D){n(D),y()},function(D){r(D),y()},O),E=null}"onloadend"in E?E.onloadend=S:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(S)},E.onabort=function(){E&&(r(new Pe("Request aborted",Pe.ECONNABORTED,e,E)),E=null)},E.onerror=function(T){const O=T&&T.message?T.message:"Network Error",$=new Pe(O,Pe.ERR_NETWORK,e,E);$.event=T||null,r($),E=null},E.ontimeout=function(){let T=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const O=s.transitional||R6;s.timeoutErrorMessage&&(T=s.timeoutErrorMessage),r(new Pe(T,O.clarifyTimeoutError?Pe.ETIMEDOUT:Pe.ECONNABORTED,e,E)),E=null},i===void 0&&o.setContentType(null),"setRequestHeader"in E&&Y.forEach(o.toJSON(),function(T,O){E.setRequestHeader(O,T)}),Y.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),a&&a!=="json"&&(E.responseType=s.responseType),u&&([p,g]=kd(u,!0),E.addEventListener("progress",p)),c&&E.upload&&([d,h]=kd(c),E.upload.addEventListener("progress",d),E.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(l=_=>{E&&(r(!_||_.type?new uc(null,e,E):_),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(l),s.signal&&(s.signal.aborted?l():s.signal.addEventListener("abort",l)));const M=jO(s.url);if(M&&$n.protocols.indexOf(M)===-1){r(new Pe("Unsupported protocol "+M+":",Pe.ERR_BAD_REQUEST,e));return}E.send(i||null)})},HO=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const l=u instanceof Error?u:this.reason;r.abort(l instanceof Pe?l:new uc(l instanceof Error?l.message:l))}};let o=t&&setTimeout(()=>{o=null,i(new Pe(`timeout ${t} of ms exceeded`,Pe.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Y.asap(a),c}},GO=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},KO=async function*(e,t){for await(const n of ZO(e))yield*GO(n,t)},ZO=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},X1=(e,t,n,r)=>{const s=KO(e,t);let i=0,o,a=c=>{o||(o=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:u,value:l}=await s.next();if(u){a(),c.close();return}let d=l.byteLength;if(n){let p=i+=d;n(p)}c.enqueue(new Uint8Array(l))}catch(u){throw a(u),u}},cancel(c){return a(c),s.return()}},{highWaterMark:2})},ew=64*1024,{isFunction:Ml}=Y,YO=(({Request:e,Response:t})=>({Request:e,Response:t}))(Y.global),{ReadableStream:tw,TextEncoder:nw}=Y.global,rw=(e,...t)=>{try{return!!e(...t)}catch{return!1}},JO=e=>{e=Y.merge.call({skipUndefined:!0},YO,e);const{fetch:t,Request:n,Response:r}=e,s=t?Ml(t):typeof fetch=="function",i=Ml(n),o=Ml(r);if(!s)return!1;const a=s&&Ml(tw),c=s&&(typeof nw=="function"?(g=>y=>g.encode(y))(new nw):async g=>new Uint8Array(await new n(g).arrayBuffer())),u=i&&a&&rw(()=>{let g=!1;const y=new n($n.origin,{body:new tw,method:"POST",get duplex(){return g=!0,"half"}}).headers.has("Content-Type");return g&&!y}),l=o&&a&&rw(()=>Y.isReadableStream(new r("").body)),d={stream:l&&(g=>g.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(g=>{!d[g]&&(d[g]=(y,E)=>{let S=y&&y[g];if(S)return S.call(y);throw new Pe(`Response type '${g}' is not supported`,Pe.ERR_NOT_SUPPORT,E)})});const p=async g=>{if(g==null)return 0;if(Y.isBlob(g))return g.size;if(Y.isSpecCompliantForm(g))return(await new n($n.origin,{method:"POST",body:g}).arrayBuffer()).byteLength;if(Y.isArrayBufferView(g)||Y.isArrayBuffer(g))return g.byteLength;if(Y.isURLSearchParams(g)&&(g=g+""),Y.isString(g))return(await c(g)).byteLength},h=async(g,y)=>{const E=Y.toFiniteNumber(g.getContentLength());return E??p(y)};return async g=>{let{url:y,method:E,data:S,signal:M,cancelToken:_,timeout:T,onDownloadProgress:O,onUploadProgress:$,responseType:D,headers:z,withCredentials:U="same-origin",fetchOptions:K}=B6(g),W=t||fetch;D=D?(D+"").toLowerCase():"text";let q=HO([M,_&&_.toAbortSignal()],T),I=null;const f=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let m;try{if($&&u&&E!=="get"&&E!=="head"&&(m=await h(z,S))!==0){let C=new n(y,{method:"POST",body:S,duplex:"half"}),b;if(Y.isFormData(S)&&(b=C.headers.get("content-type"))&&z.setContentType(b),C.body){const[P,X]=Y1(m,kd(J1($)));S=X1(C.body,ew,P,X)}}Y.isString(U)||(U=U?"include":"omit");const v=i&&"credentials"in n.prototype,R={...K,signal:q,method:E.toUpperCase(),headers:z.normalize().toJSON(),body:S,duplex:"half",credentials:v?U:void 0};I=i&&new n(y,R);let A=await(i?W(I,K):W(y,R));const B=l&&(D==="stream"||D==="response");if(l&&(O||B&&f)){const C={};["status","statusText","headers"].forEach(ee=>{C[ee]=A[ee]});const b=Y.toFiniteNumber(A.headers.get("content-length")),[P,X]=O&&Y1(b,kd(J1(O),!0))||[];A=new r(X1(A.body,ew,P,()=>{X&&X(),f&&f()}),C)}D=D||"text";let j=await d[Y.findKey(d,D)||"text"](A,g);return!B&&f&&f(),await new Promise((C,b)=>{M6(C,b,{data:j,headers:cr.from(A.headers),status:A.status,statusText:A.statusText,config:g,request:I})})}catch(v){throw f&&f(),v&&v.name==="TypeError"&&/Load failed|fetch/i.test(v.message)?Object.assign(new Pe("Network Error",Pe.ERR_NETWORK,g,I),{cause:v.cause||v}):Pe.from(v,v&&v.code,g,I)}}},QO=new Map,O6=e=>{let t=e&&e.env||{};const{fetch:n,Request:r,Response:s}=t,i=[r,s,n];let o=i.length,a=o,c,u,l=QO;for(;a--;)c=i[a],u=l.get(c),u===void 0&&l.set(c,u=a?new Map:JO(t)),l=u;return u};O6();const ay={http:mO,xhr:qO,fetch:{get:O6}};Y.forEach(ay,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const sw=e=>`- ${e}`,XO=e=>Y.isFunction(e)||e===null||e===!1;function eP(e,t){e=Y.isArray(e)?e:[e];const{length:n}=e;let r,s;const i={};for(let o=0;o<n;o++){r=e[o];let a;if(s=r,!XO(r)&&(s=ay[(a=String(r)).toLowerCase()],s===void 0))throw new Pe(`Unknown adapter '${a}'`);if(s&&(Y.isFunction(s)||(s=s.get(t))))break;i[a||"#"+o]=s}if(!s){const o=Object.entries(i).map(([c,u])=>`adapter ${c} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(sw).join(`
`):" "+sw(o[0]):"as no adapter specified";throw new Pe("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return s}const P6={getAdapter:eP,adapters:ay};function h0(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new uc(null,e)}function iw(e){return h0(e),e.headers=cr.from(e.headers),e.data=f0.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),P6.getAdapter(e.adapter||Vu.adapter,e)(e).then(function(r){return h0(e),r.data=f0.call(e,e.transformResponse,r),r.headers=cr.from(r.headers),r},function(r){return C6(r)||(h0(e),r&&r.response&&(r.response.data=f0.call(e,e.transformResponse,r.response),r.response.headers=cr.from(r.response.headers))),Promise.reject(r)})}const L6="1.13.2",Cf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Cf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const ow={};Cf.transitional=function(t,n,r){function s(i,o){return"[Axios v"+L6+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new Pe(s(o," has been removed"+(n?" in "+n:"")),Pe.ERR_DEPRECATED);return n&&!ow[o]&&(ow[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};Cf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function tP(e,t,n){if(typeof e!="object")throw new Pe("options must be an object",Pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],c=a===void 0||o(a,i,e);if(c!==!0)throw new Pe("option "+i+" must be "+c,Pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Pe("Unknown option "+i,Pe.ERR_BAD_OPTION)}}const rd={assertOptions:tP,validators:Cf},us=rd.validators;let fo=class{constructor(t){this.defaults=t||{},this.interceptors={request:new K1,response:new K1}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s={};Error.captureStackTrace?Error.captureStackTrace(s):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=_o(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&rd.assertOptions(r,{silentJSONParsing:us.transitional(us.boolean),forcedJSONParsing:us.transitional(us.boolean),clarifyTimeoutError:us.transitional(us.boolean)},!1),s!=null&&(Y.isFunction(s)?n.paramsSerializer={serialize:s}:rd.assertOptions(s,{encode:us.function,serialize:us.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),rd.assertOptions(n,{baseUrl:us.spelling("baseURL"),withXsrfToken:us.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&Y.merge(i.common,i[n.method]);i&&Y.forEach(["delete","get","head","post","put","patch","common"],g=>{delete i[g]}),n.headers=cr.concat(o,i);const a=[];let c=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(c=c&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let l,d=0,p;if(!c){const g=[iw.bind(this),void 0];for(g.unshift(...a),g.push(...u),p=g.length,l=Promise.resolve(n);d<p;)l=l.then(g[d++],g[d++]);return l}p=a.length;let h=n;for(;d<p;){const g=a[d++],y=a[d++];try{h=g(h)}catch(E){y.call(this,E);break}}try{l=iw.call(this,h)}catch(g){return Promise.reject(g)}for(d=0,p=u.length;d<p;)l=l.then(u[d++],u[d++]);return l}getUri(t){t=_o(this.defaults,t);const n=k6(t.baseURL,t.url,t.allowAbsoluteUrls);return T6(n,t.params,t.paramsSerializer)}};Y.forEach(["delete","get","head","options"],function(t){fo.prototype[t]=function(n,r){return this.request(_o(r||{},{method:t,url:n,data:(r||{}).data}))}});Y.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(_o(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}fo.prototype[t]=n(),fo.prototype[t+"Form"]=n(!0)});let nP=class j6{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new uc(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new j6(function(s){t=s}),cancel:t}}};function rP(e){return function(n){return e.apply(null,n)}}function sP(e){return Y.isObject(e)&&e.isAxiosError===!0}const Hp={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Hp).forEach(([e,t])=>{Hp[t]=e});function $6(e){const t=new fo(e),n=m6(fo.prototype.request,t);return Y.extend(n,fo.prototype,t,{allOwnKeys:!0}),Y.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return $6(_o(e,s))},n}const ht=$6(Vu);ht.Axios=fo;ht.CanceledError=uc;ht.CancelToken=nP;ht.isCancel=C6;ht.VERSION=L6;ht.toFormData=Nf;ht.AxiosError=Pe;ht.Cancel=ht.CanceledError;ht.all=function(t){return Promise.all(t)};ht.spread=rP;ht.isAxiosError=sP;ht.mergeConfig=_o;ht.AxiosHeaders=cr;ht.formToJSON=e=>N6(Y.isHTMLForm(e)?new FormData(e):e);ht.getAdapter=P6.getAdapter;ht.HttpStatusCode=Hp;ht.default=ht;const{Axios:cJ,AxiosError:uJ,CanceledError:lJ,isCancel:dJ,CancelToken:fJ,VERSION:hJ,all:pJ,Cancel:mJ,isAxiosError:gJ,spread:yJ,toFormData:bJ,AxiosHeaders:wJ,HttpStatusCode:xJ,formToJSON:vJ,getAdapter:EJ,mergeConfig:SJ}=ht,iP=hg("flex h-10 w-full rounded-md border border-border bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",{variants:{variant:{default:"",error:"border-error focus-visible:ring-error",success:"border-success focus-visible:ring-success"}},defaultVariants:{variant:"default"}}),kr=ne.forwardRef(({className:e,variant:t,type:n,leftIcon:r,rightIcon:s,error:i,helperText:o,...a},c)=>{const u=i?"error":t;return N.jsxs("div",{className:"relative",children:[r&&N.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-text-secondary",children:r}),N.jsx("input",{type:n,className:jr(iP({variant:u,className:e}),r&&"pl-10",s&&"pr-10"),ref:c,...a}),s&&N.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-text-secondary",children:s}),(i||o)&&N.jsx("p",{className:jr("mt-1 text-sm",i?"text-error":"text-text-secondary"),children:i||o})]})});kr.displayName="Input";const oP=ne.forwardRef(({className:e,error:t,helperText:n,...r},s)=>N.jsxs("div",{className:"relative",children:[N.jsx("textarea",{className:jr("flex min-h-[80px] w-full rounded-md border border-border bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-text-muted focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t&&"border-error focus-visible:ring-error",e),ref:s,...r}),(t||n)&&N.jsx("p",{className:jr("mt-1 text-sm",t?"text-error":"text-text-secondary"),children:t||n})]}));oP.displayName="Textarea";const sr=ne.forwardRef(({className:e,children:t,required:n,...r},s)=>N.jsxs("label",{ref:s,className:jr("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e),...r,children:[t,n&&N.jsx("span",{className:"text-error ml-1",children:"*"})]}));sr.displayName="Label";const aP=[{id:"ad-1",wallet:"8xRtD1z7sK3E9pN2mL6bF4hG7jK9cV5xW2yT8aQ3",url:"https://example.com/product",aspectRatio:"16x9",tags:["tech","gaming","software"],imageUrl:"/api/placeholder/640/360",status:"approved",moderationStatus:"approved",createdAt:new Date("2024-11-01"),expiresAt:new Date("2024-11-08"),impressions:15420,clicks:892,creatorWallet:"9ySuE2z8sL4F0pM3nL7cG5jH8kV6xB3yR9aP4"},{id:"ad-2",wallet:"7wQsC0y6rJ2D8nM1kH4fE9gT5vB7xL3zP8aR6",url:"https://brandstore.com/collection",aspectRatio:"1x1",tags:["fashion","lifestyle","shopping"],imageUrl:"/api/placeholder/400/400",status:"approved",moderationStatus:"approved",createdAt:new Date("2024-11-02"),expiresAt:new Date("2024-11-09"),impressions:8750,clicks:456,creatorWallet:"6vPrB9x4sK1E7mN0jG3fD8hT2vL5zQ7aR1"},{id:"ad-3",wallet:"5uOrA8w3rH9C6lK4fE1gS7vB0xM2zP9aQ8",url:"https://cryptoexchange.com/trade",aspectRatio:"5x6",tags:["crypto","finance","trading"],imageUrl:"/api/placeholder/250/300",status:"pending",moderationStatus:"pending",createdAt:new Date("2024-11-08"),expiresAt:new Date("2024-11-15"),impressions:0,clicks:0},{id:"ad-4",wallet:"4tNqZ7v2rG8B5kJ3fD0hR6cV9xL1zP7aS4",url:"https://fitnessapp.com/premium",aspectRatio:"16x9",tags:["fitness","health","mobile"],imageUrl:"/api/placeholder/640/360",status:"rejected",moderationStatus:"rejected",createdAt:new Date("2024-11-05"),expiresAt:new Date("2024-11-12"),impressions:0,clicks:0}],cP=[{wallet:"9ySuE2z8sL4F0pM3nL7cG5jH8kV6xB3yR9aP4",tags:["tech","blog","tutorial"],siteUrl:"https://techblog.example.com",totalEarnings:2.45,totalImpressions:45670,totalClicks:2341,slotsCount:3,isActive:!0,registeredAt:new Date("2024-10-15")},{wallet:"6vPrB9x4sK1E7mN0jG3fD8hT2vL5zQ7aR1",tags:["fashion","lifestyle","ecommerce"],siteUrl:"https://fashionstore.example.com",totalEarnings:1.87,totalImpressions:32150,totalClicks:1654,slotsCount:2,isActive:!0,registeredAt:new Date("2024-10-20")},{wallet:"3sLmZ6w1qF7A4jH2dE9gR5cB8xK0zP6aT3",tags:["gaming","reviews","entertainment"],siteUrl:"https://gamereviews.example.com",totalEarnings:3.12,totalImpressions:67890,totalClicks:3456,slotsCount:4,isActive:!0,registeredAt:new Date("2024-09-30")},{wallet:"2rKjY5v0pD6S3hF1eG8bQ4cA7xJ9zO5aU2",tags:["crypto","news","analysis"],siteUrl:"https://cryptonews.example.com",totalEarnings:4.23,totalImpressions:89230,totalClicks:4567,slotsCount:5,isActive:!0,registeredAt:new Date("2024-10-01")}],D6=[{impressions:15420,clicks:892,ctr:5.78,earnings:2.45,period:"week"},{impressions:8750,clicks:456,ctr:5.21,earnings:1.87,period:"week"},{impressions:67890,clicks:3456,ctr:5.09,earnings:3.12,period:"week"},{impressions:89230,clicks:4567,ctr:5.12,earnings:4.23,period:"week"}];var uP=Object.defineProperty,lP=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(t,n)=>(typeof require<"u"?require:t)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')}),cy=(e,t)=>{for(var n in t)uP(e,n,{get:t[n],enumerable:!0})},z6={84532:{usdcAddress:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",usdcName:"USDC"},8453:{usdcAddress:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",usdcName:"USD Coin"},43113:{usdcAddress:"0x5425890298aed601595a70AB815c96711a31Bc65",usdcName:"USD Coin"},43114:{usdcAddress:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",usdcName:"USD Coin"},4689:{usdcAddress:"0xcdf79194c6c285077a58da47641d4dbe51f63542",usdcName:"Bridged USDC"},103:{usdcAddress:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",usdcName:"USDC"},101:{usdcAddress:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v",usdcName:"USDC"},1328:{usdcAddress:"0x4fcf1784b31630811181f670aea7a7bef803eaed",usdcName:"USDC"},1329:{usdcAddress:"0xe15fc38f6d8c56af07bbcbe3baf5708a2bf42392",usdcName:"USDC"},137:{usdcAddress:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",usdcName:"USD Coin"},80002:{usdcAddress:"0x41E94Eb019C0762f9Bfcf9Fb1E58725BfB0e7582",usdcName:"USDC"},3338:{usdcAddress:"0xbbA60da06c2c5424f03f7434542280FCAd453d10",usdcName:"USDC"},2741:{usdcAddress:"0x84a71ccd554cc1b02749b35d22f684cc8ec987e1",usdcName:"Bridged USDC"},11124:{usdcAddress:"0xe4C7fBB0a626ed208021ccabA6Be1566905E2dFc",usdcName:"Bridged USDC"}},dP=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"authorizer",type:"address"},{indexed:!0,internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"AuthorizationUsed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"Blacklisted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newBlacklister",type:"address"}],name:"BlacklisterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"burner",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Burn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newMasterMinter",type:"address"}],name:"MasterMinterChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"Mint",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"minter",type:"address"},{indexed:!1,internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"MinterConfigured",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"oldMinter",type:"address"}],name:"MinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousOwner",type:"address"},{indexed:!1,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_account",type:"address"}],name:"UnBlacklisted",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"CANCEL_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"DOMAIN_SEPARATOR",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"PERMIT_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"RECEIVE_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"TRANSFER_WITH_AUTHORIZATION_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"}],name:"authorizationState",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"blacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"blacklister",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_amount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"authorizer",type:"address"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"cancelAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"},{internalType:"uint256",name:"minterAllowedAmount",type:"uint256"}],name:"configureMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"currency",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"decrement",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"increment",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"tokenName",type:"string"},{internalType:"string",name:"tokenSymbol",type:"string"},{internalType:"string",name:"tokenCurrency",type:"string"},{internalType:"uint8",name:"tokenDecimals",type:"uint8"},{internalType:"address",name:"newMasterMinter",type:"address"},{internalType:"address",name:"newPauser",type:"address"},{internalType:"address",name:"newBlacklister",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"string",name:"newName",type:"string"}],name:"initializeV2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"lostAndFound",type:"address"}],name:"initializeV2_1",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"accountsToBlacklist",type:"address[]"},{internalType:"string",name:"newSymbol",type:"string"}],name:"initializeV2_2",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"isBlacklisted",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"isMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"masterMinter",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_to",type:"address"},{internalType:"uint256",name:"_amount",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"minterAllowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"nonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"deadline",type:"uint256"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"permit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"receiveWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"removeMinter",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"uint256",name:"validAfter",type:"uint256"},{internalType:"uint256",name:"validBefore",type:"uint256"},{internalType:"bytes32",name:"nonce",type:"bytes32"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"transferWithAuthorization",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_account",type:"address"}],name:"unBlacklist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newBlacklister",type:"address"}],name:"updateBlacklister",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newMasterMinter",type:"address"}],name:"updateMasterMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"pure",type:"function"}];function fP(e){return z6[e.toString()]}var Ze;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const i={};for(const o of s)i[o]=o;return i},e.getValidEnumValues=s=>{const i=e.objectKeys(s).filter(a=>typeof s[s[a]]!="number"),o={};for(const a of i)o[a]=s[a];return e.objectValues(o)},e.objectValues=s=>e.objectKeys(s).map(function(i){return s[i]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const i=[];for(const o in s)Object.prototype.hasOwnProperty.call(s,o)&&i.push(o);return i},e.find=(s,i)=>{for(const o of s)if(i(o))return o},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,i=" | "){return s.map(o=>typeof o=="string"?`'${o}'`:o).join(i)}e.joinValues=r,e.jsonStringifyReplacer=(s,i)=>typeof i=="bigint"?i.toString():i})(Ze||(Ze={}));var aw;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(aw||(aw={}));const pe=Ze.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Ii=e=>{switch(typeof e){case"undefined":return pe.undefined;case"string":return pe.string;case"number":return Number.isNaN(e)?pe.nan:pe.number;case"boolean":return pe.boolean;case"function":return pe.function;case"bigint":return pe.bigint;case"symbol":return pe.symbol;case"object":return Array.isArray(e)?pe.array:e===null?pe.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?pe.promise:typeof Map<"u"&&e instanceof Map?pe.map:typeof Set<"u"&&e instanceof Set?pe.set:typeof Date<"u"&&e instanceof Date?pe.date:pe.object;default:return pe.unknown}},ie=Ze.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class si extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(i){return i.message},r={_errors:[]},s=i=>{for(const o of i.issues)if(o.code==="invalid_union")o.unionErrors.map(s);else if(o.code==="invalid_return_type")s(o.returnTypeError);else if(o.code==="invalid_arguments")s(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const u=o.path[c];c===o.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(n(o))):a[u]=a[u]||{_errors:[]},a=a[u],c++}}};return s(this),r}static assert(t){if(!(t instanceof si))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,Ze.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const i=s.path[0];n[i]=n[i]||[],n[i].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}si.create=e=>new si(e);const Gp=(e,t)=>{let n;switch(e.code){case ie.invalid_type:e.received===pe.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ie.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,Ze.jsonStringifyReplacer)}`;break;case ie.unrecognized_keys:n=`Unrecognized key(s) in object: ${Ze.joinValues(e.keys,", ")}`;break;case ie.invalid_union:n="Invalid input";break;case ie.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${Ze.joinValues(e.options)}`;break;case ie.invalid_enum_value:n=`Invalid enum value. Expected ${Ze.joinValues(e.options)}, received '${e.received}'`;break;case ie.invalid_arguments:n="Invalid function arguments";break;case ie.invalid_return_type:n="Invalid function return type";break;case ie.invalid_date:n="Invalid date";break;case ie.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:Ze.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ie.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ie.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ie.custom:n="Invalid input";break;case ie.invalid_intersection_types:n="Intersection results could not be merged";break;case ie.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ie.not_finite:n="Number must be finite";break;default:n=t.defaultError,Ze.assertNever(e)}return{message:n}};let hP=Gp;function pP(){return hP}const mP=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,i=[...n,...s.path||[]],o={...s,path:i};if(s.message!==void 0)return{...s,path:i,message:s.message};let a="";const c=r.filter(u=>!!u).slice().reverse();for(const u of c)a=u(o,{data:t,defaultError:a}).message;return{...s,path:i,message:a}};function fe(e,t){const n=pP(),r=mP({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Gp?void 0:Gp].filter(s=>!!s)});e.common.issues.push(r)}class Jn{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return Ce;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const i=await s.key,o=await s.value;r.push({key:i,value:o})}return Jn.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:i,value:o}=s;if(i.status==="aborted"||o.status==="aborted")return Ce;i.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),i.value!=="__proto__"&&(typeof o.value<"u"||s.alwaysSet)&&(r[i.value]=o.value)}return{status:t.value,value:r}}}const Ce=Object.freeze({status:"aborted"}),Dc=e=>({status:"dirty",value:e}),Dr=e=>({status:"valid",value:e}),cw=e=>e.status==="aborted",uw=e=>e.status==="dirty",Ua=e=>e.status==="valid",Bd=e=>typeof Promise<"u"&&e instanceof Promise;var ve;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(ve||(ve={}));class Es{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const lw=(e,t)=>{if(Ua(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new si(e.common.issues);return this._error=n,this._error}}};function Le(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(o,a)=>{const{message:c}=e;return o.code==="invalid_enum_value"?{message:c??a.defaultError}:typeof a.data>"u"?{message:c??r??a.defaultError}:o.code!=="invalid_type"?{message:a.defaultError}:{message:c??n??a.defaultError}},description:s}}class We{get description(){return this._def.description}_getType(t){return Ii(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Jn,ctx:{common:t.parent.common,data:t.data,parsedType:Ii(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Bd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ii(t)},s=this._parseSync({data:t,path:r.path,parent:r});return lw(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ii(t)};if(!this["~standard"].async)try{const i=this._parseSync({data:t,path:[],parent:n});return Ua(i)?{value:i.value}:{issues:n.common.issues}}catch(i){(s=(r=i==null?void 0:i.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(i=>Ua(i)?{value:i.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Ii(t)},s=this._parse({data:t,path:r.path,parent:r}),i=await(Bd(s)?s:Promise.resolve(s));return lw(r,i)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,i)=>{const o=t(s),a=()=>i.addIssue({code:ie.custom,...r(s)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new No({schema:this,typeName:Me.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Js.create(this,this._def)}nullable(){return Co.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return gs.create(this)}promise(){return Dd.create(this,this._def)}or(t){return Pd.create([this,t],this._def)}and(t){return Ld.create(this,t,this._def)}transform(t){return new No({...Le(this._def),schema:this,typeName:Me.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new zd({...Le(this._def),innerType:this,defaultValue:n,typeName:Me.ZodDefault})}brand(){return new V6({typeName:Me.ZodBranded,type:this,...Le(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Ud({...Le(this._def),innerType:this,catchValue:n,typeName:Me.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return ly.create(this,t)}readonly(){return Fd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const gP=/^c[^\s-]{8,}$/i,yP=/^[0-9a-z]+$/,bP=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wP=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,xP=/^[a-z0-9_-]{21}$/i,vP=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,EP=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,SP=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,_P="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let p0;const AP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,IP=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,TP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,RP=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,NP=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,CP=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,U6="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",MP=new RegExp(`^${U6}$`);function F6(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function kP(e){return new RegExp(`^${F6(e)}$`)}function BP(e){let t=`${U6}T${F6(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function OP(e,t){return!!((t==="v4"||!t)&&AP.test(e)||(t==="v6"||!t)&&TP.test(e))}function PP(e,t){if(!vP.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function LP(e,t){return!!((t==="v4"||!t)&&IP.test(e)||(t==="v6"||!t)&&RP.test(e))}class hs extends We{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==pe.string){const i=this._getOrReturnCtx(t);return fe(i,{code:ie.invalid_type,expected:pe.string,received:i.parsedType}),Ce}const r=new Jn;let s;for(const i of this._def.checks)if(i.kind==="min")t.data.length<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="max")t.data.length>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),r.dirty());else if(i.kind==="length"){const o=t.data.length>i.value,a=t.data.length<i.value;(o||a)&&(s=this._getOrReturnCtx(t,s),o?fe(s,{code:ie.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):a&&fe(s,{code:ie.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),r.dirty())}else if(i.kind==="email")SP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"email",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="emoji")p0||(p0=new RegExp(_P,"u")),p0.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"emoji",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="uuid")wP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"uuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="nanoid")xP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"nanoid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid")gP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="cuid2")yP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cuid2",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="ulid")bP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ulid",code:ie.invalid_string,message:i.message}),r.dirty());else if(i.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),fe(s,{validation:"url",code:ie.invalid_string,message:i.message}),r.dirty()}else i.kind==="regex"?(i.regex.lastIndex=0,i.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"regex",code:ie.invalid_string,message:i.message}),r.dirty())):i.kind==="trim"?t.data=t.data.trim():i.kind==="includes"?t.data.includes(i.value,i.position)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),r.dirty()):i.kind==="toLowerCase"?t.data=t.data.toLowerCase():i.kind==="toUpperCase"?t.data=t.data.toUpperCase():i.kind==="startsWith"?t.data.startsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:{startsWith:i.value},message:i.message}),r.dirty()):i.kind==="endsWith"?t.data.endsWith(i.value)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:{endsWith:i.value},message:i.message}),r.dirty()):i.kind==="datetime"?BP(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:"datetime",message:i.message}),r.dirty()):i.kind==="date"?MP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:"date",message:i.message}),r.dirty()):i.kind==="time"?kP(i).test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.invalid_string,validation:"time",message:i.message}),r.dirty()):i.kind==="duration"?EP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"duration",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="ip"?OP(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"ip",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="jwt"?PP(t.data,i.alg)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"jwt",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="cidr"?LP(t.data,i.version)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"cidr",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64"?NP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64",code:ie.invalid_string,message:i.message}),r.dirty()):i.kind==="base64url"?CP.test(t.data)||(s=this._getOrReturnCtx(t,s),fe(s,{validation:"base64url",code:ie.invalid_string,message:i.message}),r.dirty()):Ze.assertNever(i);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:ie.invalid_string,...ve.errToObj(r)})}_addCheck(t){return new hs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...ve.errToObj(t)})}url(t){return this._addCheck({kind:"url",...ve.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...ve.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...ve.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...ve.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...ve.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...ve.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...ve.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...ve.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...ve.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...ve.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...ve.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...ve.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...ve.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...ve.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...ve.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...ve.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...ve.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...ve.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...ve.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...ve.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...ve.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...ve.errToObj(n)})}nonempty(t){return this.min(1,ve.errToObj(t))}trim(){return new hs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new hs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}hs.create=e=>new hs({checks:[],typeName:Me.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});function jP(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,i=Number.parseInt(e.toFixed(s).replace(".","")),o=Number.parseInt(t.toFixed(s).replace(".",""));return i%o/10**s}class Ao extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==pe.number){const i=this._getOrReturnCtx(t);return fe(i,{code:ie.invalid_type,expected:pe.number,received:i.parsedType}),Ce}let r;const s=new Jn;for(const i of this._def.checks)i.kind==="int"?Ze.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.invalid_type,expected:"integer",received:"float",message:i.message}),s.dirty()):i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.too_small,minimum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.too_big,maximum:i.value,type:"number",inclusive:i.inclusive,exact:!1,message:i.message}),s.dirty()):i.kind==="multipleOf"?jP(t.data,i.value)!==0&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):i.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.not_finite,message:i.message}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ve.toString(n))}setLimit(t,n,r,s){return new Ao({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(t){return new Ao({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:ve.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ve.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:ve.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:ve.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:ve.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&Ze.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ao.create=e=>new Ao({checks:[],typeName:Me.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class Io extends We{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==pe.bigint)return this._getInvalidInput(t);let r;const s=new Jn;for(const i of this._def.checks)i.kind==="min"?(i.inclusive?t.data<i.value:t.data<=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.too_small,type:"bigint",minimum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="max"?(i.inclusive?t.data>i.value:t.data>=i.value)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.too_big,type:"bigint",maximum:i.value,inclusive:i.inclusive,message:i.message}),s.dirty()):i.kind==="multipleOf"?t.data%i.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),fe(r,{code:ie.not_multiple_of,multipleOf:i.value,message:i.message}),s.dirty()):Ze.assertNever(i);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return fe(n,{code:ie.invalid_type,expected:pe.bigint,received:n.parsedType}),Ce}gte(t,n){return this.setLimit("min",t,!0,ve.toString(n))}gt(t,n){return this.setLimit("min",t,!1,ve.toString(n))}lte(t,n){return this.setLimit("max",t,!0,ve.toString(n))}lt(t,n){return this.setLimit("max",t,!1,ve.toString(n))}setLimit(t,n,r,s){return new Io({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:ve.toString(s)}]})}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:ve.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:ve.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:ve.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:ve.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:ve.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Io.create=e=>new Io({checks:[],typeName:Me.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Le(e)});class Od extends We{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==pe.boolean){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.boolean,received:r.parsedType}),Ce}return Dr(t.data)}}Od.create=e=>new Od({typeName:Me.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Le(e)});class Fa extends We{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==pe.date){const i=this._getOrReturnCtx(t);return fe(i,{code:ie.invalid_type,expected:pe.date,received:i.parsedType}),Ce}if(Number.isNaN(t.data.getTime())){const i=this._getOrReturnCtx(t);return fe(i,{code:ie.invalid_date}),Ce}const r=new Jn;let s;for(const i of this._def.checks)i.kind==="min"?t.data.getTime()<i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.too_small,message:i.message,inclusive:!0,exact:!1,minimum:i.value,type:"date"}),r.dirty()):i.kind==="max"?t.data.getTime()>i.value&&(s=this._getOrReturnCtx(t,s),fe(s,{code:ie.too_big,message:i.message,inclusive:!0,exact:!1,maximum:i.value,type:"date"}),r.dirty()):Ze.assertNever(i);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Fa({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:ve.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:ve.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Fa.create=e=>new Fa({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Me.ZodDate,...Le(e)});class dw extends We{_parse(t){if(this._getType(t)!==pe.symbol){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.symbol,received:r.parsedType}),Ce}return Dr(t.data)}}dw.create=e=>new dw({typeName:Me.ZodSymbol,...Le(e)});class Kp extends We{_parse(t){if(this._getType(t)!==pe.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.undefined,received:r.parsedType}),Ce}return Dr(t.data)}}Kp.create=e=>new Kp({typeName:Me.ZodUndefined,...Le(e)});class Zp extends We{_parse(t){if(this._getType(t)!==pe.null){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.null,received:r.parsedType}),Ce}return Dr(t.data)}}Zp.create=e=>new Zp({typeName:Me.ZodNull,...Le(e)});class Yp extends We{constructor(){super(...arguments),this._any=!0}_parse(t){return Dr(t.data)}}Yp.create=e=>new Yp({typeName:Me.ZodAny,...Le(e)});class fw extends We{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Dr(t.data)}}fw.create=e=>new fw({typeName:Me.ZodUnknown,...Le(e)});class ji extends We{_parse(t){const n=this._getOrReturnCtx(t);return fe(n,{code:ie.invalid_type,expected:pe.never,received:n.parsedType}),Ce}}ji.create=e=>new ji({typeName:Me.ZodNever,...Le(e)});class hw extends We{_parse(t){if(this._getType(t)!==pe.undefined){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.void,received:r.parsedType}),Ce}return Dr(t.data)}}hw.create=e=>new hw({typeName:Me.ZodVoid,...Le(e)});class gs extends We{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==pe.array)return fe(n,{code:ie.invalid_type,expected:pe.array,received:n.parsedType}),Ce;if(s.exactLength!==null){const o=n.data.length>s.exactLength.value,a=n.data.length<s.exactLength.value;(o||a)&&(fe(n,{code:o?ie.too_big:ie.too_small,minimum:a?s.exactLength.value:void 0,maximum:o?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(fe(n,{code:ie.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(fe(n,{code:ie.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>s.type._parseAsync(new Es(n,o,n.path,a)))).then(o=>Jn.mergeArray(r,o));const i=[...n.data].map((o,a)=>s.type._parseSync(new Es(n,o,n.path,a)));return Jn.mergeArray(r,i)}get element(){return this._def.type}min(t,n){return new gs({...this._def,minLength:{value:t,message:ve.toString(n)}})}max(t,n){return new gs({...this._def,maxLength:{value:t,message:ve.toString(n)}})}length(t,n){return new gs({...this._def,exactLength:{value:t,message:ve.toString(n)}})}nonempty(t){return this.min(1,t)}}gs.create=(e,t)=>new gs({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Me.ZodArray,...Le(t)});function ua(e){if(e instanceof on){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Js.create(ua(r))}return new on({...e._def,shape:()=>t})}else return e instanceof gs?new gs({...e._def,type:ua(e.element)}):e instanceof Js?Js.create(ua(e.unwrap())):e instanceof Co?Co.create(ua(e.unwrap())):e instanceof To?To.create(e.items.map(t=>ua(t))):e}class on extends We{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=Ze.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==pe.object){const u=this._getOrReturnCtx(t);return fe(u,{code:ie.invalid_type,expected:pe.object,received:u.parsedType}),Ce}const{status:r,ctx:s}=this._processInputParams(t),{shape:i,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof ji&&this._def.unknownKeys==="strip"))for(const u in s.data)o.includes(u)||a.push(u);const c=[];for(const u of o){const l=i[u],d=s.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Es(s,d,s.path,u)),alwaysSet:u in s.data})}if(this._def.catchall instanceof ji){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of a)c.push({key:{status:"valid",value:l},value:{status:"valid",value:s.data[l]}});else if(u==="strict")a.length>0&&(fe(s,{code:ie.unrecognized_keys,keys:a}),r.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of a){const d=s.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Es(s,d,s.path,l)),alwaysSet:l in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const d=await l.key,p=await l.value;u.push({key:d,value:p,alwaysSet:l.alwaysSet})}return u}).then(u=>Jn.mergeObjectSync(r,u)):Jn.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(t){return ve.errToObj,new on({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o;const s=((o=(i=this._def).errorMap)==null?void 0:o.call(i,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:ve.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new on({...this._def,unknownKeys:"strip"})}passthrough(){return new on({...this._def,unknownKeys:"passthrough"})}extend(t){return new on({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new on({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Me.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new on({...this._def,catchall:t})}pick(t){const n={};for(const r of Ze.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}omit(t){const n={};for(const r of Ze.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new on({...this._def,shape:()=>n})}deepPartial(){return ua(this)}partial(t){const n={};for(const r of Ze.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new on({...this._def,shape:()=>n})}required(t){const n={};for(const r of Ze.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let i=this.shape[r];for(;i instanceof Js;)i=i._def.innerType;n[r]=i}return new on({...this._def,shape:()=>n})}keyof(){return W6(Ze.objectKeys(this.shape))}}on.create=(e,t)=>new on({shape:()=>e,unknownKeys:"strip",catchall:ji.create(),typeName:Me.ZodObject,...Le(t)});on.strictCreate=(e,t)=>new on({shape:()=>e,unknownKeys:"strict",catchall:ji.create(),typeName:Me.ZodObject,...Le(t)});on.lazycreate=(e,t)=>new on({shape:e,unknownKeys:"strip",catchall:ji.create(),typeName:Me.ZodObject,...Le(t)});class Pd extends We{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(i){for(const a of i)if(a.result.status==="valid")return a.result;for(const a of i)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=i.map(a=>new si(a.ctx.common.issues));return fe(n,{code:ie.invalid_union,unionErrors:o}),Ce}if(n.common.async)return Promise.all(r.map(async i=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await i._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(s);{let i;const o=[];for(const c of r){const u={...n,common:{...n.common,issues:[]},parent:null},l=c._parseSync({data:n.data,path:n.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!i&&(i={result:l,ctx:u}),u.common.issues.length&&o.push(u.common.issues)}if(i)return n.common.issues.push(...i.ctx.common.issues),i.result;const a=o.map(c=>new si(c));return fe(n,{code:ie.invalid_union,unionErrors:a}),Ce}}get options(){return this._def.options}}Pd.create=(e,t)=>new Pd({options:e,typeName:Me.ZodUnion,...Le(t)});const $s=e=>e instanceof Qp?$s(e.schema):e instanceof No?$s(e.innerType()):e instanceof $d?[e.value]:e instanceof Ro?e.options:e instanceof Xp?Ze.objectValues(e.enum):e instanceof zd?$s(e._def.innerType):e instanceof Kp?[void 0]:e instanceof Zp?[null]:e instanceof Js?[void 0,...$s(e.unwrap())]:e instanceof Co?[null,...$s(e.unwrap())]:e instanceof V6||e instanceof Fd?$s(e.unwrap()):e instanceof Ud?$s(e._def.innerType):[];class uy extends We{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.object)return fe(n,{code:ie.invalid_type,expected:pe.object,received:n.parsedType}),Ce;const r=this.discriminator,s=n.data[r],i=this.optionsMap.get(s);return i?n.common.async?i._parseAsync({data:n.data,path:n.path,parent:n}):i._parseSync({data:n.data,path:n.path,parent:n}):(fe(n,{code:ie.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ce)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const i of n){const o=$s(i.shape[t]);if(!o.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const a of o){if(s.has(a))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(a)}`);s.set(a,i)}}return new uy({typeName:Me.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...Le(r)})}}function Jp(e,t){const n=Ii(e),r=Ii(t);if(e===t)return{valid:!0,data:e};if(n===pe.object&&r===pe.object){const s=Ze.objectKeys(t),i=Ze.objectKeys(e).filter(a=>s.indexOf(a)!==-1),o={...e,...t};for(const a of i){const c=Jp(e[a],t[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===pe.array&&r===pe.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let i=0;i<e.length;i++){const o=e[i],a=t[i],c=Jp(o,a);if(!c.valid)return{valid:!1};s.push(c.data)}return{valid:!0,data:s}}else return n===pe.date&&r===pe.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Ld extends We{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(i,o)=>{if(cw(i)||cw(o))return Ce;const a=Jp(i.value,o.value);return a.valid?((uw(i)||uw(o))&&n.dirty(),{status:n.value,value:a.data}):(fe(r,{code:ie.invalid_intersection_types}),Ce)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([i,o])=>s(i,o)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Ld.create=(e,t,n)=>new Ld({left:e,right:t,typeName:Me.ZodIntersection,...Le(n)});class To extends We{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.array)return fe(r,{code:ie.invalid_type,expected:pe.array,received:r.parsedType}),Ce;if(r.data.length<this._def.items.length)return fe(r,{code:ie.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ce;!this._def.rest&&r.data.length>this._def.items.length&&(fe(r,{code:ie.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const i=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Es(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(i).then(o=>Jn.mergeArray(n,o)):Jn.mergeArray(n,i)}get items(){return this._def.items}rest(t){return new To({...this._def,rest:t})}}To.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new To({items:e,typeName:Me.ZodTuple,rest:null,...Le(t)})};class jd extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.object)return fe(r,{code:ie.invalid_type,expected:pe.object,received:r.parsedType}),Ce;const s=[],i=this._def.keyType,o=this._def.valueType;for(const a in r.data)s.push({key:i._parse(new Es(r,a,r.path,a)),value:o._parse(new Es(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?Jn.mergeObjectAsync(n,s):Jn.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof We?new jd({keyType:t,valueType:n,typeName:Me.ZodRecord,...Le(r)}):new jd({keyType:hs.create(),valueType:t,typeName:Me.ZodRecord,...Le(n)})}}class pw extends We{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.map)return fe(r,{code:ie.invalid_type,expected:pe.map,received:r.parsedType}),Ce;const s=this._def.keyType,i=this._def.valueType,o=[...r.data.entries()].map(([a,c],u)=>({key:s._parse(new Es(r,a,r.path,[u,"key"])),value:i._parse(new Es(r,c,r.path,[u,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return Ce;(u.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(u.value,l.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return Ce;(u.status==="dirty"||l.status==="dirty")&&n.dirty(),a.set(u.value,l.value)}return{status:n.value,value:a}}}}pw.create=(e,t,n)=>new pw({valueType:t,keyType:e,typeName:Me.ZodMap,...Le(n)});class Qc extends We{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==pe.set)return fe(r,{code:ie.invalid_type,expected:pe.set,received:r.parsedType}),Ce;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(fe(r,{code:ie.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(fe(r,{code:ie.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const i=this._def.valueType;function o(c){const u=new Set;for(const l of c){if(l.status==="aborted")return Ce;l.status==="dirty"&&n.dirty(),u.add(l.value)}return{status:n.value,value:u}}const a=[...r.data.values()].map((c,u)=>i._parse(new Es(r,c,r.path,u)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(t,n){return new Qc({...this._def,minSize:{value:t,message:ve.toString(n)}})}max(t,n){return new Qc({...this._def,maxSize:{value:t,message:ve.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Qc.create=(e,t)=>new Qc({valueType:e,minSize:null,maxSize:null,typeName:Me.ZodSet,...Le(t)});class Qp extends We{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Qp.create=(e,t)=>new Qp({getter:e,typeName:Me.ZodLazy,...Le(t)});class $d extends We{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return fe(n,{received:n.data,code:ie.invalid_literal,expected:this._def.value}),Ce}return{status:"valid",value:t.data}}get value(){return this._def.value}}$d.create=(e,t)=>new $d({value:e,typeName:Me.ZodLiteral,...Le(t)});function W6(e,t){return new Ro({values:e,typeName:Me.ZodEnum,...Le(t)})}class Ro extends We{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{expected:Ze.joinValues(r),received:n.parsedType,code:ie.invalid_type}),Ce}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return fe(n,{received:n.data,code:ie.invalid_enum_value,options:r}),Ce}return Dr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Ro.create(t,{...this._def,...n})}exclude(t,n=this._def){return Ro.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}Ro.create=W6;class Xp extends We{_parse(t){const n=Ze.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==pe.string&&r.parsedType!==pe.number){const s=Ze.objectValues(n);return fe(r,{expected:Ze.joinValues(s),received:r.parsedType,code:ie.invalid_type}),Ce}if(this._cache||(this._cache=new Set(Ze.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=Ze.objectValues(n);return fe(r,{received:r.data,code:ie.invalid_enum_value,options:s}),Ce}return Dr(t.data)}get enum(){return this._def.values}}Xp.create=(e,t)=>new Xp({values:e,typeName:Me.ZodNativeEnum,...Le(t)});class Dd extends We{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==pe.promise&&n.common.async===!1)return fe(n,{code:ie.invalid_type,expected:pe.promise,received:n.parsedType}),Ce;const r=n.parsedType===pe.promise?n.data:Promise.resolve(n.data);return Dr(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Dd.create=(e,t)=>new Dd({type:e,typeName:Me.ZodPromise,...Le(t)});class No extends We{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Me.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,i={addIssue:o=>{fe(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(i.addIssue=i.addIssue.bind(i),s.type==="preprocess"){const o=s.transform(r.data,i);if(r.common.async)return Promise.resolve(o).then(async a=>{if(n.value==="aborted")return Ce;const c=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return c.status==="aborted"?Ce:c.status==="dirty"||n.value==="dirty"?Dc(c.value):c});{if(n.value==="aborted")return Ce;const a=this._def.schema._parseSync({data:o,path:r.path,parent:r});return a.status==="aborted"?Ce:a.status==="dirty"||n.value==="dirty"?Dc(a.value):a}}if(s.type==="refinement"){const o=a=>{const c=s.refinement(a,i);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ce:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(s.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Ua(o))return Ce;const a=s.transform(o.value,i);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>Ua(o)?Promise.resolve(s.transform(o.value,i)).then(a=>({status:n.value,value:a})):Ce);Ze.assertNever(s)}}No.create=(e,t,n)=>new No({schema:e,typeName:Me.ZodEffects,effect:t,...Le(n)});No.createWithPreprocess=(e,t,n)=>new No({schema:t,effect:{type:"preprocess",transform:e},typeName:Me.ZodEffects,...Le(n)});class Js extends We{_parse(t){return this._getType(t)===pe.undefined?Dr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Js.create=(e,t)=>new Js({innerType:e,typeName:Me.ZodOptional,...Le(t)});class Co extends We{_parse(t){return this._getType(t)===pe.null?Dr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Co.create=(e,t)=>new Co({innerType:e,typeName:Me.ZodNullable,...Le(t)});class zd extends We{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===pe.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}zd.create=(e,t)=>new zd({innerType:e,typeName:Me.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Le(t)});class Ud extends We{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Bd(s)?s.then(i=>({status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new si(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new si(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Ud.create=(e,t)=>new Ud({innerType:e,typeName:Me.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Le(t)});class mw extends We{_parse(t){if(this._getType(t)!==pe.nan){const r=this._getOrReturnCtx(t);return fe(r,{code:ie.invalid_type,expected:pe.nan,received:r.parsedType}),Ce}return{status:"valid",value:t.data}}}mw.create=e=>new mw({typeName:Me.ZodNaN,...Le(e)});class V6 extends We{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class ly extends We{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const i=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ce:i.status==="dirty"?(n.dirty(),Dc(i.value)):this._def.out._parseAsync({data:i.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ce:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new ly({in:t,out:n,typeName:Me.ZodPipeline})}}class Fd extends We{_parse(t){const n=this._def.innerType._parse(t),r=s=>(Ua(s)&&(s.value=Object.freeze(s.value)),s);return Bd(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Fd.create=(e,t)=>new Fd({innerType:e,typeName:Me.ZodReadonly,...Le(t)});var Me;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Me||(Me={}));const ut=hs.create,Br=Ao.create;Io.create;const q6=Od.create,$P=Fa.create,Wa=Yp.create;ji.create;const Mf=gs.create,xn=on.create,H6=Pd.create,DP=uy.create;Ld.create;To.create;const ho=jd.create,zP=$d.create,Ns=Ro.create;Dd.create;Js.create;Co.create;const UP={string:e=>hs.create({...e,coerce:!0}),number:e=>Ao.create({...e,coerce:!0}),boolean:e=>Od.create({...e,coerce:!0}),bigint:e=>Io.create({...e,coerce:!0}),date:e=>Fa.create({...e,coerce:!0})},FP="1.1.0";let zr=class em extends Error{constructor(t,n={}){var o;const r=n.cause instanceof em?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof em&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${FP}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}};function li(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const G6=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,K6=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Z6=/^\(.+?\).*?$/,gw=/^tuple(?<array>(\[(\d*)\])*)$/;function tm(e){let t=e.type;if(gw.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=tm(i),s<n-1&&(t+=", ")}const r=li(gw,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,tm({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function _c(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=tm(s),r!==n-1&&(t+=", ")}return t}function WP(e){var t;return e.type==="function"?`function ${e.name}(${_c(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${_c(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${_c(e.inputs)})`:e.type==="error"?`error ${e.name}(${_c(e.inputs)})`:e.type==="constructor"?`constructor(${_c(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Y6=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function VP(e){return Y6.test(e)}function qP(e){return li(Y6,e)}const J6=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function HP(e){return J6.test(e)}function GP(e){return li(J6,e)}const Q6=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function KP(e){return Q6.test(e)}function ZP(e){return li(Q6,e)}const X6=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function eS(e){return X6.test(e)}function YP(e){return li(X6,e)}const tS=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function JP(e){return tS.test(e)}function QP(e){return li(tS,e)}const nS=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function XP(e){return nS.test(e)}function eL(e){return li(nS,e)}const tL=/^receive\(\) external payable$/;function nL(e){return tL.test(e)}const rL=new Set(["indexed"]),nm=new Set(["calldata","memory","storage"]);let sL=class extends zr{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}},iL=class extends zr{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}},oL=class extends zr{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}},aL=class extends zr{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}},cL=class extends zr{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}},uL=class extends zr{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}},lL=class extends zr{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}},lc=class extends zr{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}},dL=class extends zr{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}},fL=class extends zr{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}},hL=class extends zr{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}},pL=class extends zr{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}};function mL(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const m0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function gL(e,t={}){if(KP(e))return yL(e,t);if(HP(e))return bL(e,t);if(VP(e))return wL(e,t);if(JP(e))return xL(e,t);if(XP(e))return vL(e);if(nL(e))return{type:"receive",stateMutability:"payable"};throw new dL({signature:e})}function yL(e,t={}){const n=ZP(e);if(!n)throw new lc({signature:e,type:"function"});const r=Gr(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(Mo(r[a],{modifiers:nm,structs:t,type:"function"}));const o=[];if(n.returns){const a=Gr(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(Mo(a[u],{modifiers:nm,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function bL(e,t={}){const n=GP(e);if(!n)throw new lc({signature:e,type:"event"});const r=Gr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Mo(r[o],{modifiers:rL,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function wL(e,t={}){const n=qP(e);if(!n)throw new lc({signature:e,type:"error"});const r=Gr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Mo(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function xL(e,t={}){const n=QP(e);if(!n)throw new lc({signature:e,type:"constructor"});const r=Gr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(Mo(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function vL(e){const t=eL(e);if(!t)throw new lc({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const EL=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,SL=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,_L=/^u?int$/;function Mo(e,t){var d,p;const n=mL(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(m0.has(n))return m0.get(n);const r=Z6.test(e),s=li(r?SL:EL,e);if(!s)throw new oL({param:e});if(s.name&&IL(s.name))throw new aL({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=Gr(s.type),g=[],y=h.length;for(let E=0;E<y;E++)g.push(Mo(h[E],{structs:a}));u={components:g}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(_L.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!rS(c))throw new iL({type:c});if(s.modifier){if(!((p=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&p.call(d,s.modifier)))throw new cL({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(nm.has(s.modifier)&&!TL(c,!!s.array))throw new uL({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...u};return m0.set(n,l),l}function Gr(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?Gr(a,[...t,n.trim()]):Gr(a,t,`${n}${o}`,r);case"(":return Gr(a,t,`${n}${o}`,r+1);case")":return Gr(a,t,`${n}${o}`,r-1);default:return Gr(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new pL({current:n,depth:r});return t.push(n.trim()),t}function rS(e){return e==="address"||e==="bool"||e==="function"||e==="string"||G6.test(e)||K6.test(e)}const AL=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function IL(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||G6.test(e)||K6.test(e)||AL.test(e)}function TL(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function RL(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!eS(a))continue;const c=YP(a);if(!c)throw new lc({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let p=0;p<d;p++){const g=u[p].trim();if(!g)continue;const y=Mo(g,{type:"struct"});l.push(y)}if(!l.length)throw new fL({signature:a});t[c.name]=l}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=sS(c,t)}return r}const NL=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function sS(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(Z6.test(o.type))r.push(o);else{const c=li(NL,o.type);if(!(c!=null&&c.type))throw new lL({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new hL({type:l});r.push({...o,type:`tuple${u??""}`,components:sS(t[l]??[],t,new Set([...n,l]))})}else if(rS(l))r.push(o);else throw new sL({type:l})}}return r}function iS(e){const t=RL(e),n=[],r=e.length;for(let s=0;s<r;s++){const i=e[s];eS(i)||n.push(gL(i,t))}return n}function ye(e,t,n){const r=e[t.name];if(typeof r=="function")return r;const s=e[n];return typeof s=="function"?s:i=>t(e,i)}function es(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new UL(e.type);return`${e.name}(${kf(e.inputs,{includeName:t})})`}function kf(e,{includeName:t=!1}={}){return e?e.map(n=>CL(n,{includeName:t})).join(t?", ":","):""}function CL(e,{includeName:t}){return e.type.startsWith("tuple")?`(${kf(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}function ts(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function At(e){return ts(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}const oS="2.38.6";let Ac={getDocsUrl:({docsBaseUrl:e,docsPath:t="",docsSlug:n})=>t?`${e??"https://viem.sh"}${t}${n?`#${n}`:""}`:void 0,version:`viem@${oS}`},Q=class rm extends Error{constructor(t,n={}){var a;const r=(()=>{var c;return n.cause instanceof rm?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof rm&&n.cause.docsPath||n.docsPath,i=(a=Ac.getDocsUrl)==null?void 0:a.call(Ac,{...n,docsPath:s}),o=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...i?[`Docs: ${i}`]:[],...r?[`Details: ${r}`]:[],...Ac.version?[`Version: ${Ac.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=t,this.version=oS}walk(t){return aS(this,t)}};function aS(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause!==void 0?aS(e.cause,t):t?null:e}class cS extends Q{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t,name:"AbiConstructorNotFoundError"})}}class Wd extends Q{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t,name:"AbiConstructorParamsNotFoundError"})}}class uS extends Q{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${kf(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class qu extends Q{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class ML extends Q{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class kL extends Q{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${At(n)}) does not match expected size (bytes${t}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class BL extends Q{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class OL extends Q{constructor(t,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${t}", but "${t}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class yw extends Q{constructor(t,{docsPath:n}={}){super([`Error ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class lS extends Q{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=t}}class PL extends Q{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t,name:"AbiEventSignatureEmptyTopicsError"})}}class dS extends Q{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class bw extends Q{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Va extends Q{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class fS extends Q{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class LL extends Q{constructor(t,{docsPath:n}){super([`Encoded function signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class jL extends Q{constructor(t,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${t.type}\` in \`${es(t.abiItem)}\`, and`,`\`${n.type}\` in \`${es(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let $L=class extends Q{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class Xc extends Q{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${kf(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class Bf extends Q{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${es(t,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class DL extends Q{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class zL extends Q{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let hS=class extends Q{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class UL extends Q{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class FL extends Q{constructor(t){super(`Filter type "${t}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let pS=class extends Q{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`,{name:"SliceOffsetOutOfBoundsError"})}},mS=class extends Q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class ww extends Q{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} is expected to be ${n} ${r} long, but is ${t} ${r} long.`,{name:"InvalidBytesLengthError"})}}function Go(e,{dir:t,size:n=32}={}){return typeof e=="string"?Bi(e,{dir:t,size:n}):WL(e,{dir:t,size:n})}function Bi(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new mS({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function WL(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new mS({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const i=t==="right";r[i?s:n-s-1]=e[i?s:e.length-s-1]}return r}let gS=class extends Q{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number "${i}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},VL=class extends Q{constructor(t){super(`Bytes value "${t}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class qL extends Q{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let HL=class extends Q{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`,{name:"SizeOverflowError"})}};function Lr(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function as(e,{size:t}){if(At(e)>t)throw new HL({givenSize:At(e),maxSize:t})}function nt(e,t={}){const{signed:n}=t;t.size&&as(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n-1n)-1n;return r<=i?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function GL(e,t={}){let n=e;if(t.size&&(as(n,{size:t.size}),n=Lr(n)),Lr(n)==="0x00")return!1;if(Lr(n)==="0x01")return!0;throw new qL(n)}function vr(e,t={}){return Number(nt(e,t))}const KL=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Ke(e,t={}){return typeof e=="number"||typeof e=="bigint"?se(e,t):typeof e=="string"?qa(e,t):typeof e=="boolean"?yS(e,t):dn(e,t)}function yS(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(as(n,{size:t.size}),Go(n,{size:t.size})):n}function dn(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=KL[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(as(r,{size:t.size}),Go(r,{dir:"right",size:t.size})):r}function se(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const c=typeof e=="bigint"?"n":"";throw new gS({max:i?`${i}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?Go(a,{size:r}):a}const ZL=new TextEncoder;function qa(e,t={}){const n=ZL.encode(e);return dn(n,t)}const YL=new TextEncoder;function Qs(e,t={}){return typeof e=="number"||typeof e=="bigint"?QL(e,t):typeof e=="boolean"?JL(e,t):ts(e)?ur(e,t):po(e,t)}function JL(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(as(n,{size:t.size}),Go(n,{size:t.size})):n}const Os={zero:48,nine:57,A:65,F:70,a:97,f:102};function xw(e){if(e>=Os.zero&&e<=Os.nine)return e-Os.zero;if(e>=Os.A&&e<=Os.F)return e-(Os.A-10);if(e>=Os.a&&e<=Os.f)return e-(Os.a-10)}function ur(e,t={}){let n=e;t.size&&(as(n,{size:t.size}),n=Go(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=r.length/2,i=new Uint8Array(s);for(let o=0,a=0;o<s;o++){const c=xw(r.charCodeAt(a++)),u=xw(r.charCodeAt(a++));if(c===void 0||u===void 0)throw new Q(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);i[o]=c*16+u}return i}function QL(e,t){const n=se(e,t);return ur(n)}function po(e,t={}){const n=YL.encode(e);return typeof t.size=="number"?(as(n,{size:t.size}),Go(n,{dir:"right",size:t.size})):n}function wn(e,t){const n=t||"hex",r=sE(ts(e,{strict:!1})?Qs(e):e);return n==="bytes"?r:Ke(r)}const XL=e=>wn(Qs(e));function e9(e){return XL(e)}function t9(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new Q("Unable to normalize signature.");return s}const n9=e=>{const t=typeof e=="string"?e:WP(e);return t9(t)};function bS(e){return e9(n9(e))}const Of=bS;let un=class extends Q{constructor({address:t}){super(`Address "${t}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},Hu=class extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const g0=new Hu(8192);function Gu(e,t){if(g0.has(`${e}.${t}`))return g0.get(`${e}.${t}`);const n=e.substring(2).toLowerCase(),r=wn(po(n),"bytes"),s=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());const i=`0x${s.join("")}`;return g0.set(`${e}.${t}`,i),i}function Ea(e,t){if(!wt(e,{strict:!1}))throw new un({address:e});return Gu(e,t)}const r9=/^0x[a-fA-F0-9]{40}$/,y0=new Hu(8192);function wt(e,t){const{strict:n=!0}=t??{},r=`${e}.${n}`;if(y0.has(r))return y0.get(r);const s=r9.test(e)?e.toLowerCase()===e?!0:n?Gu(e)===e:!0:!1;return y0.set(r,s),s}function $r(e){return typeof e[0]=="string"?Ur(e):s9(e)}function s9(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Ur(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function ko(e,t,n,{strict:r}={}){return ts(e,{strict:!1})?sm(e,t,n,{strict:r}):vS(e,t,n,{strict:r})}function wS(e,t){if(typeof t=="number"&&t>0&&t>At(e)-1)throw new pS({offset:t,position:"start",size:At(e)})}function xS(e,t,n){if(typeof t=="number"&&typeof n=="number"&&At(e)!==n-t)throw new pS({offset:n,position:"end",size:At(e)})}function vS(e,t,n,{strict:r}={}){wS(e,t);const s=e.slice(t,n);return r&&xS(s,t,n),s}function sm(e,t,n,{strict:r}={}){wS(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&xS(s,t,n),s}const i9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,ES=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Di(e,t){if(e.length!==t.length)throw new BL({expectedLength:e.length,givenLength:t.length});const n=o9({params:e,values:t}),r=fy(n);return r.length===0?"0x":r}function o9({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(dy({param:e[r],value:t[r]}));return n}function dy({param:e,value:t}){const n=hy(e.type);if(n){const[r,s]=n;return c9(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return h9(t,{param:e});if(e.type==="address")return a9(t);if(e.type==="bool")return l9(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int"),[,,s="256"]=ES.exec(e.type)??[];return d9(t,{signed:r,size:Number(s)})}if(e.type.startsWith("bytes"))return u9(t,{param:e});if(e.type==="string")return f9(t);throw new DL(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function fy(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=At(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(se(t+s,{size:32})),r.push(a),s+=At(a)):n.push(a)}return $r([...n,...r])}function a9(e){if(!wt(e))throw new un({address:e});return{dynamic:!1,encoded:Bi(e.toLowerCase())}}function c9(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new hS(e);if(!r&&e.length!==t)throw new ML({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const i=[];for(let o=0;o<e.length;o++){const a=dy({param:n,value:e[o]});a.dynamic&&(s=!0),i.push(a)}if(r||s){const o=fy(i);if(r){const a=se(i.length,{size:32});return{dynamic:!0,encoded:i.length>0?$r([a,o]):a}}if(s)return{dynamic:!0,encoded:o}}return{dynamic:!1,encoded:$r(i.map(({encoded:o})=>o))}}function u9(e,{param:t}){const[,n]=t.type.split("bytes"),r=At(e);if(!n){let s=e;return r%32!==0&&(s=Bi(s,{dir:"right",size:Math.ceil((e.length-2)/2/32)*32})),{dynamic:!0,encoded:$r([Bi(se(r,{size:32})),s])}}if(r!==Number.parseInt(n,10))throw new kL({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:Bi(e,{dir:"right"})}}function l9(e){if(typeof e!="boolean")throw new Q(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bi(yS(e))}}function d9(e,{signed:t,size:n=256}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new gS({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:se(e,{size:32,signed:t})}}function f9(e){const t=qa(e),n=Math.ceil(At(t)/32),r=[];for(let s=0;s<n;s++)r.push(Bi(ko(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:$r([Bi(se(At(t),{size:32})),...r])}}function h9(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const i=t.components[s],o=Array.isArray(e)?s:i.name,a=dy({param:i,value:e[o]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?fy(r):$r(r.map(({encoded:s})=>s))}}function hy(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}const Ku=e=>ko(bS(e),0,4);function Ko(e){const{abi:t,args:n=[],name:r}=e,s=ts(r,{strict:!1}),i=t.filter(a=>s?a.type==="function"?Ku(a)===r:a.type==="event"?Of(a)===r:!1:"name"in a&&a.name===r);if(i.length===0)return;if(i.length===1)return i[0];let o;for(const a of i){if(!("inputs"in a))continue;if(!n||n.length===0){if(!a.inputs||a.inputs.length===0)return a;continue}if(!a.inputs||a.inputs.length===0||a.inputs.length!==n.length)continue;if(n.every((u,l)=>{const d="inputs"in a&&a.inputs[l];return d?im(u,d):!1})){if(o&&"inputs"in o&&o.inputs){const u=SS(a.inputs,o.inputs,n);if(u)throw new jL({abiItem:a,type:u[0]},{abiItem:o,type:u[1]})}o=a}}return o||i[0]}function im(e,t){const n=typeof e,r=t.type;switch(r){case"address":return wt(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>im(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>im(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function SS(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return SS(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?wt(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?wt(n[r],{strict:!1}):!1)return o}}const vw="/docs/contract/encodeEventTopics";function Zu(e){var c;const{abi:t,eventName:n,args:r}=e;let s=t[0];if(n){const u=Ko({abi:t,name:n});if(!u)throw new bw(n,{docsPath:vw});s=u}if(s.type!=="event")throw new bw(void 0,{docsPath:vw});const i=es(s),o=Of(i);let a=[];if(r&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(d=>"indexed"in d&&d.indexed),l=Array.isArray(r)?r:Object.values(r).length>0?(u==null?void 0:u.map(d=>r[d.name]))??[]:[];l.length>0&&(a=(u==null?void 0:u.map((d,p)=>Array.isArray(l[p])?l[p].map((h,g)=>Ew({param:d,value:l[p][g]})):typeof l[p]<"u"&&l[p]!==null?Ew({param:d,value:l[p]}):null))??[])}return[o,...a]}function Ew({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return wn(Qs(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new FL(e.type);return Di([e],[t])}function Pf(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:i,response:o,status:a,transport:c})=>{a==="success"&&t===i&&(n[o]=c.request)})),i=>n[i]||e.request}async function _S(e,t){const{address:n,abi:r,args:s,eventName:i,fromBlock:o,strict:a,toBlock:c}=t,u=Pf(e,{method:"eth_newFilter"}),l=i?Zu({abi:r,args:s,eventName:i}):void 0,d=await e.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof o=="bigint"?se(o):o,toBlock:typeof c=="bigint"?se(c):c,topics:l}]});return{abi:r,args:s,eventName:i,id:d,request:u(d),strict:!!a,type:"event"}}function xt(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Sw="/docs/contract/encodeFunctionData";function p9(e){const{abi:t,args:n,functionName:r}=e;let s=t[0];if(r){const i=Ko({abi:t,args:n,name:r});if(!i)throw new Va(r,{docsPath:Sw});s=i}if(s.type!=="function")throw new Va(void 0,{docsPath:Sw});return{abi:[s],functionName:Ku(es(s))}}function Qn(e){const{args:t}=e,{abi:n,functionName:r}=(()=>{var a;return e.abi.length===1&&((a=e.functionName)!=null&&a.startsWith("0x"))?e:p9(e)})(),s=n[0],i=r,o="inputs"in s&&s.inputs?Di(s.inputs,t??[]):void 0;return Ur([i,o??"0x"])}const m9={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},AS={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},g9={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};let _w=class extends Q{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`,{name:"NegativeOffsetError"})}},IS=class extends Q{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`,{name:"PositionOutOfBoundsError"})}},y9=class extends Q{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`,{name:"RecursiveReadLimitExceededError"})}};const b9={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new y9({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new IS({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new _w({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new _w({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function py(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(b9);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}function w9(e,t={}){typeof t.size<"u"&&as(e,{size:t.size});const n=dn(e,t);return nt(n,t)}function x9(e,t={}){let n=e;if(typeof t.size<"u"&&(as(n,{size:t.size}),n=Lr(n)),n.length>1||n[0]>1)throw new VL(n);return!!n[0]}function Xs(e,t={}){typeof t.size<"u"&&as(e,{size:t.size});const n=dn(e,t);return vr(n,t)}function v9(e,t={}){let n=e;return typeof t.size<"u"&&(as(n,{size:t.size}),n=Lr(n,{dir:"right"})),new TextDecoder().decode(n)}function Yu(e,t){const n=typeof t=="string"?ur(t):t,r=py(n);if(At(n)===0&&e.length>0)throw new qu;if(At(t)&&At(t)<32)throw new uS({data:typeof t=="string"?t:dn(t),params:e,size:At(t)});let s=0;const i=[];for(let o=0;o<e.length;++o){const a=e[o];r.setPosition(s);const[c,u]=Sa(r,a,{staticPosition:0});s+=u,i.push(c)}return i}function Sa(e,t,{staticPosition:n}){const r=hy(t.type);if(r){const[s,i]=r;return S9(e,{...t,type:i},{length:s,staticPosition:n})}if(t.type==="tuple")return T9(e,t,{staticPosition:n});if(t.type==="address")return E9(e);if(t.type==="bool")return _9(e);if(t.type.startsWith("bytes"))return A9(e,t,{staticPosition:n});if(t.type.startsWith("uint")||t.type.startsWith("int"))return I9(e,t);if(t.type==="string")return R9(e,{staticPosition:n});throw new zL(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const Aw=32,om=32;function E9(e){const t=e.readBytes(32);return[Gu(dn(vS(t,-20))),32]}function S9(e,t,{length:n,staticPosition:r}){if(!n){const o=Xs(e.readBytes(om)),a=r+o,c=a+Aw;e.setPosition(a);const u=Xs(e.readBytes(Aw)),l=eu(t);let d=0;const p=[];for(let h=0;h<u;++h){e.setPosition(c+(l?h*32:d));const[g,y]=Sa(e,t,{staticPosition:c});d+=y,p.push(g)}return e.setPosition(r+32),[p,32]}if(eu(t)){const o=Xs(e.readBytes(om)),a=r+o,c=[];for(let u=0;u<n;++u){e.setPosition(a+u*32);const[l]=Sa(e,t,{staticPosition:a});c.push(l)}return e.setPosition(r+32),[c,32]}let s=0;const i=[];for(let o=0;o<n;++o){const[a,c]=Sa(e,t,{staticPosition:r+s});s+=c,i.push(a)}return[i,s]}function _9(e){return[x9(e.readBytes(32),{size:32}),32]}function A9(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=Xs(e.readBytes(32));e.setPosition(n+o);const a=Xs(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[dn(c),32]}return[dn(e.readBytes(Number.parseInt(s,10),32)),32]}function I9(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?w9(s,{signed:n}):Xs(s,{signed:n}),32]}function T9(e,t,{staticPosition:n}){const r=t.components.length===0||t.components.some(({name:o})=>!o),s=r?[]:{};let i=0;if(eu(t)){const o=Xs(e.readBytes(om)),a=n+o;for(let c=0;c<t.components.length;++c){const u=t.components[c];e.setPosition(a+i);const[l,d]=Sa(e,u,{staticPosition:a});i+=d,s[r?c:u==null?void 0:u.name]=l}return e.setPosition(n+32),[s,32]}for(let o=0;o<t.components.length;++o){const a=t.components[o],[c,u]=Sa(e,a,{staticPosition:n});s[r?o:a==null?void 0:a.name]=c,i+=u}return[s,i]}function R9(e,{staticPosition:t}){const n=Xs(e.readBytes(32)),r=t+n;e.setPosition(r);const s=Xs(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=v9(Lr(i));return e.setPosition(t+32),[o,32]}function eu(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(eu);const n=hy(e.type);return!!(n&&eu({...e,type:n[1]}))}function N9(e){const{abi:t,data:n}=e,r=ko(n,0,4);if(r==="0x")throw new qu;const i=[...t||[],AS,g9].find(o=>o.type==="error"&&r===Ku(es(o)));if(!i)throw new lS(r,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:i,args:"inputs"in i&&i.inputs&&i.inputs.length>0?Yu(i.inputs,ko(n,4)):void 0,errorName:i.name}}const mn=(e,t,n)=>JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString():s,n);function TS({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,i)=>`${r&&s.name?`${s.name}: `:""}${typeof t[i]=="object"?mn(t[i]):t[i]}`).join(", ")})`}const C9={gwei:9,wei:18},M9={ether:-9,wei:9};function RS(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,i]=[n.slice(0,n.length-t),n.slice(n.length-t)];return i=i.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${i?`.${i}`:""}`}function my(e,t="wei"){return RS(e,C9[t])}function lr(e,t="wei"){return RS(e,M9[t])}class k9 extends Q{constructor({address:t}){super(`State for account "${t}" is set multiple times.`,{name:"AccountStateConflictError"})}}class B9 extends Q{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function Iw(e){return e.reduce((t,{slot:n,value:r})=>`${t}        ${n}: ${r}
`,"")}function O9(e){return e.reduce((t,{address:n,...r})=>{let s=`${t}    ${n}:
`;return r.nonce&&(s+=`      nonce: ${r.nonce}
`),r.balance&&(s+=`      balance: ${r.balance}
`),r.code&&(s+=`      code: ${r.code}
`),r.state&&(s+=`      state:
`,s+=Iw(r.state)),r.stateDiff&&(s+=`      stateDiff:
`,s+=Iw(r.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Ju(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class P9 extends Q{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class L9 extends Q{constructor({v:t}){super(`Invalid \`v\` value "${t}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class j9 extends Q{constructor({transaction:t}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Ju(t),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class $9 extends Q{constructor({storageKey:t}){super(`Size for storage key "${t}" is invalid. Expected 32 bytes. Got ${Math.floor((t.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class D9 extends Q{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){var g;const h=Ju({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof p<"u"&&`${my(p)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${lr(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",h].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class NS extends Q{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){let o="Transaction";r&&i!==void 0&&(o=`Transaction at block time "${r}" at index "${i}"`),t&&i!==void 0&&(o=`Transaction at block hash "${t}" at index "${i}"`),n&&i!==void 0&&(o=`Transaction at block number "${n}" at index "${i}"`),s&&(o=`Transaction with hash "${s}"`),super(`${o} could not be found.`,{name:"TransactionNotFoundError"})}}class CS extends Q{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class MS extends Q{constructor({receipt:t}){super(`Transaction with hash "${t.transactionHash}" reverted.`,{metaMessages:['The receipt marked the transaction as "reverted". This could mean that the function on the contract you are trying to call threw an error.'," ","You can attempt to extract the revert reason by:","- calling the `simulateContract` or `simulateCalls` Action with the `abi` and `functionName` of the contract","- using the `call` Action with raw `data`"],name:"TransactionReceiptRevertedError"}),Object.defineProperty(this,"receipt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.receipt=t}}class z9 extends Q{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const U9=e=>e,gy=e=>e;class kS extends Q{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p,stateOverride:h}){var E;const g=n?xt(n):void 0;let y=Ju({from:g==null?void 0:g.address,to:d,value:typeof p<"u"&&`${my(p)} ${((E=s==null?void 0:s.nativeCurrency)==null?void 0:E.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${lr(u)} gwei`,nonce:l});h&&(y+=`
${O9(h)}`),super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",y].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class BS extends Q{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:i,functionName:o,sender:a}){const c=Ko({abi:n,args:r,name:o}),u=c?TS({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?es(c,{includeName:!0}):void 0,d=Ju({address:s&&U9(s),function:l,args:u&&u!=="()"&&`${[...Array((o==null?void 0:o.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${o}".`,{cause:t,docsPath:i,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],d&&"Contract Call:",d].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=o,this.sender=a}}class am extends Q{constructor({abi:t,data:n,functionName:r,message:s}){let i,o,a,c;if(n&&n!=="0x")try{o=N9({abi:t,data:n});const{abiItem:l,errorName:d,args:p}=o;if(d==="Error")c=p[0];else if(d==="Panic"){const[h]=p;c=m9[h]}else{const h=l?es(l,{includeName:!0}):void 0,g=l&&p?TS({abiItem:l,args:p,includeFunctionName:!1,includeName:!1}):void 0;a=[h?`Error: ${h}`:"",g&&g!=="()"?`       ${[...Array((d==null?void 0:d.length)??0).keys()].map(()=>" ").join("")}${g}`:""]}}catch(l){i=l}else s&&(c=s);let u;i instanceof lS&&(u=i.signature,a=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${r}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${r}" reverted.`,{cause:i,metaMessages:a,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=o,this.raw=n,this.reason=c,this.signature=u}}class F9 extends Q{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class W9 extends Q{constructor({factory:t}){super(`Deployment for counterfactual contract call failed${t?` for factory "${t}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class Lf extends Q{constructor({data:t,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}class Vc extends Q{constructor({body:t,cause:n,details:r,headers:s,status:i,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[i&&`Status: ${i}`,`URL: ${gy(o)}`,t&&`Request body: ${mn(t)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=s,this.status=i,this.url=o}}class yy extends Q{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${gy(r)}`,`Request body: ${mn(t)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Tw extends Q{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${gy(n)}`,`Request body: ${mn(t)}`],name:"TimeoutError"})}}const V9=-1;class dr extends Q{constructor(t,{code:n,docsPath:r,metaMessages:s,name:i,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages),name:i||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=i||t.name,this.code=t instanceof yy?t.code:n??V9}}class Ar extends dr{constructor(t,n){super(t,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class tu extends dr{constructor(t){super(t,{code:tu.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class nu extends dr{constructor(t){super(t,{code:nu.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(nu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class ru extends dr{constructor(t,{method:n}={}){super(t,{code:ru.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(ru,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class su extends dr{constructor(t){super(t,{code:su.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(su,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Bo extends dr{constructor(t){super(t,{code:Bo.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Bo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Oo extends dr{constructor(t){super(t,{code:Oo.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Oo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class iu extends dr{constructor(t){super(t,{code:iu.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(iu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ou extends dr{constructor(t){super(t,{code:ou.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ou,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class au extends dr{constructor(t){super(t,{code:au.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(au,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class io extends dr{constructor(t,{method:n}={}){super(t,{code:io.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(io,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class Ha extends dr{constructor(t){super(t,{code:Ha.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(Ha,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class cu extends dr{constructor(t){super(t,{code:cu.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(cu,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class _a extends Ar{constructor(t){super(t,{code:_a.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(_a,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class uu extends Ar{constructor(t){super(t,{code:uu.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(uu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class lu extends Ar{constructor(t,{method:n}={}){super(t,{code:lu.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(lu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class du extends Ar{constructor(t){super(t,{code:du.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(du,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class fu extends Ar{constructor(t){super(t,{code:fu.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(fu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class hu extends Ar{constructor(t){super(t,{code:hu.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(hu,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Ga extends Ar{constructor(t){super(t,{code:Ga.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Ga,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class pu extends Ar{constructor(t){super(t,{code:pu.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(pu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class mu extends Ar{constructor(t){super(t,{code:mu.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(mu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class gu extends Ar{constructor(t){super(t,{code:gu.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(gu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class yu extends Ar{constructor(t){super(t,{code:yu.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(yu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class bu extends Ar{constructor(t){super(t,{code:bu.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(bu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Ka extends Ar{constructor(t){super(t,{code:Ka.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Ka,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class q9 extends dr{constructor(t){super(t,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const H9=3;function Po(e,{abi:t,address:n,args:r,docsPath:s,functionName:i,sender:o}){const a=e instanceof Lf?e:e instanceof Q?e.walk(g=>"data"in g)||e.walk():{},{code:c,data:u,details:l,message:d,shortMessage:p}=a,h=e instanceof qu?new F9({functionName:i}):[H9,Bo.code].includes(c)&&(u||l||d||p)?new am({abi:t,data:typeof u=="object"?u.data:u,functionName:i,message:a instanceof yy?l:p??d}):e;return new BS(h,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:i,sender:o})}function OS(e){const t=wn(`0x${e.substring(4)}`).substring(26);return Gu(`0x${t}`)}const G9="modulepreload",K9=function(e){return"/"+e},Rw={},jf=function(t,n,r){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=K9(c),c in Rw)return;Rw[c]=!0;const u=c.endsWith(".css"),l=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${l}`))return;const d=document.createElement("link");if(d.rel=u?"stylesheet":G9,u||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),u)return new Promise((p,h)=>{d.addEventListener("load",p),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return t().catch(i)})};async function Z9({hash:e,signature:t}){const n=ts(e)?e:Ke(e),{secp256k1:r}=await jf(async()=>{const{secp256k1:o}=await Promise.resolve().then(()=>c7);return{secp256k1:o}},void 0);return`0x${(()=>{if(typeof t=="object"&&"r"in t&&"s"in t){const{r:u,s:l,v:d,yParity:p}=t,h=Number(p??d),g=Nw(h);return new r.Signature(nt(u),nt(l)).addRecoveryBit(g)}const o=ts(t)?t:Ke(t);if(At(o)!==65)throw new Error("invalid signature length");const a=vr(`0x${o.slice(130)}`),c=Nw(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function Nw(e){if(e===0||e===1)return e;if(e===27)return 0;if(e===28)return 1;throw new Error("Invalid yParityOrV value")}async function PS({hash:e,signature:t}){return OS(await Z9({hash:e,signature:t}))}function ii(e,t="hex"){const n=LS(e),r=py(new Uint8Array(n.length));return n.encode(r),t==="hex"?dn(r.bytes):r.bytes}function LS(e){return Array.isArray(e)?Y9(e.map(t=>LS(t))):J9(e)}function Y9(e){const t=e.reduce((s,i)=>s+i.length,0),n=jS(t);return{length:t<=55?1+t:1+n+t,encode(s){t<=55?s.pushByte(192+t):(s.pushByte(247+n),n===1?s.pushUint8(t):n===2?s.pushUint16(t):n===3?s.pushUint24(t):s.pushUint32(t));for(const{encode:i}of e)i(s)}}}function J9(e){const t=typeof e=="string"?ur(e):e,n=jS(t.length);return{length:t.length===1&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(s){t.length===1&&t[0]<128?s.pushBytes(t):t.length<=55?(s.pushByte(128+t.length),s.pushBytes(t)):(s.pushByte(183+n),n===1?s.pushUint8(t.length):n===2?s.pushUint16(t.length):n===3?s.pushUint24(t.length):s.pushUint32(t.length),s.pushBytes(t))}}}function jS(e){if(e<2**8)return 1;if(e<2**16)return 2;if(e<2**24)return 3;if(e<2**32)return 4;throw new Q("Length is too large.")}function $S(e){const{chainId:t,nonce:n,to:r}=e,s=e.contractAddress??e.address,i=wn(Ur(["0x05",ii([t?se(t):"0x",s,n?se(n):"0x"])]));return r==="bytes"?ur(i):i}async function $f(e){const{authorization:t,signature:n}=e;return PS({hash:$S(t),signature:n??t})}class Q9 extends Q{constructor(t,{account:n,docsPath:r,chain:s,data:i,gas:o,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:p}){var g;const h=Ju({from:n==null?void 0:n.address,to:d,value:typeof p<"u"&&`${my(p)} ${((g=s==null?void 0:s.nativeCurrency)==null?void 0:g.symbol)||"ETH"}`,data:i,gas:o,gasPrice:typeof a<"u"&&`${lr(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${lr(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${lr(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",h].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=t}}class ma extends Q{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t,name:"ExecutionRevertedError"})}}Object.defineProperty(ma,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(ma,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Lo extends Q{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${lr(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t,name:"FeeCapTooHighError"})}}Object.defineProperty(Lo,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class cm extends Q{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${lr(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t,name:"FeeCapTooLowError"})}}Object.defineProperty(cm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class um extends Q{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t,name:"NonceTooHighError"})}}Object.defineProperty(um,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class lm extends Q{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t,name:"NonceTooLowError"})}}Object.defineProperty(lm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class dm extends Q{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t,name:"NonceMaxValueError"})}}Object.defineProperty(dm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class fm extends Q{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(fm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class hm extends Q{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(hm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class pm extends Q{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(pm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class mm extends Q{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(mm,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class wu extends Q{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${lr(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${lr(r)} gwei`:""}).`].join(`
`),{cause:t,name:"TipAboveFeeCapError"})}}Object.defineProperty(wu,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Qu extends Q{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.shortMessage}`,{cause:t,name:"UnknownNodeError"})}}function Df(e,t){const n=(e.details||"").toLowerCase(),r=e instanceof Q?e.walk(s=>(s==null?void 0:s.code)===ma.code):e;return r instanceof Q?new ma({cause:e,message:r.details}):ma.nodeMessage.test(n)?new ma({cause:e,message:e.details}):Lo.nodeMessage.test(n)?new Lo({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):cm.nodeMessage.test(n)?new cm({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):um.nodeMessage.test(n)?new um({cause:e,nonce:t==null?void 0:t.nonce}):lm.nodeMessage.test(n)?new lm({cause:e,nonce:t==null?void 0:t.nonce}):dm.nodeMessage.test(n)?new dm({cause:e,nonce:t==null?void 0:t.nonce}):fm.nodeMessage.test(n)?new fm({cause:e}):hm.nodeMessage.test(n)?new hm({cause:e,gas:t==null?void 0:t.gas}):pm.nodeMessage.test(n)?new pm({cause:e,gas:t==null?void 0:t.gas}):mm.nodeMessage.test(n)?new mm({cause:e}):wu.nodeMessage.test(n)?new wu({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):new Qu({cause:e})}function X9(e,{docsPath:t,...n}){const r=(()=>{const s=Df(e,n);return s instanceof Qu?e:s})();return new Q9(r,{docsPath:t,...n})}function Xu(e,{format:t}){if(!t)return{};const n={};function r(i){const o=Object.keys(i);for(const a of o)a in e&&(n[a]=e[a]),i[a]&&typeof i[a]=="object"&&!Array.isArray(i[a])&&r(i[a])}const s=t(e||{});return r(s),n}function zf(e,t){return({exclude:n,format:r})=>({exclude:n,format:(s,i)=>{const o=t(s,i);if(n)for(const a of n)delete o[a];return{...o,...r(s,i)}},type:e})}const ej={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function zi(e,t){const n={};return typeof e.authorizationList<"u"&&(n.authorizationList=nj(e.authorizationList)),typeof e.accessList<"u"&&(n.accessList=e.accessList),typeof e.blobVersionedHashes<"u"&&(n.blobVersionedHashes=e.blobVersionedHashes),typeof e.blobs<"u"&&(typeof e.blobs[0]!="string"?n.blobs=e.blobs.map(r=>dn(r)):n.blobs=e.blobs),typeof e.data<"u"&&(n.data=e.data),e.account&&(n.from=e.account.address),typeof e.from<"u"&&(n.from=e.from),typeof e.gas<"u"&&(n.gas=se(e.gas)),typeof e.gasPrice<"u"&&(n.gasPrice=se(e.gasPrice)),typeof e.maxFeePerBlobGas<"u"&&(n.maxFeePerBlobGas=se(e.maxFeePerBlobGas)),typeof e.maxFeePerGas<"u"&&(n.maxFeePerGas=se(e.maxFeePerGas)),typeof e.maxPriorityFeePerGas<"u"&&(n.maxPriorityFeePerGas=se(e.maxPriorityFeePerGas)),typeof e.nonce<"u"&&(n.nonce=se(e.nonce)),typeof e.to<"u"&&(n.to=e.to),typeof e.type<"u"&&(n.type=ej[e.type]),typeof e.value<"u"&&(n.value=se(e.value)),n}const tj=zf("transactionRequest",zi);function nj(e){return e.map(t=>({address:t.address,r:t.r?se(BigInt(t.r)):t.r,s:t.s?se(BigInt(t.s)):t.s,chainId:se(t.chainId),nonce:se(t.nonce),...typeof t.yParity<"u"?{yParity:se(t.yParity)}:{},...typeof t.v<"u"&&typeof t.yParity>"u"?{v:se(t.v)}:{}}))}function Cw(e){if(!(!e||e.length===0))return e.reduce((t,{slot:n,value:r})=>{if(n.length!==66)throw new ww({size:n.length,targetSize:66,type:"hex"});if(r.length!==66)throw new ww({size:r.length,targetSize:66,type:"hex"});return t[n]=r,t},{})}function rj(e){const{balance:t,nonce:n,state:r,stateDiff:s,code:i}=e,o={};if(i!==void 0&&(o.code=i),t!==void 0&&(o.balance=se(t)),n!==void 0&&(o.nonce=se(n)),r!==void 0&&(o.state=Cw(r)),s!==void 0){if(o.state)throw new B9;o.stateDiff=Cw(s)}return o}function by(e){if(!e)return;const t={};for(const{address:n,...r}of e){if(!wt(n,{strict:!1}))throw new un({address:n});if(t[n])throw new k9({address:n});t[n]=rj(r)}return t}const sj=2n**16n-1n,Uf=2n**256n-1n;function di(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:i}=e,o=t?xt(t):void 0;if(o&&!wt(o.address))throw new un({address:o.address});if(i&&!wt(i))throw new un({address:i});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new P9;if(r&&r>Uf)throw new Lo({maxFeePerGas:r});if(s&&r&&s>r)throw new wu({maxFeePerGas:r,maxPriorityFeePerGas:s})}class ij extends Q{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class wy extends Q{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class oj extends Q{constructor({maxPriorityFeePerGas:t}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${lr(t)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class DS extends Q{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`,{name:"BlockNotFoundError"})}}const zS={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ff(e,t){const n={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?vr(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerBlobGas:e.maxFeePerBlobGas?BigInt(e.maxFeePerBlobGas):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?vr(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?zS[e.type]:void 0,typeHex:e.type?e.type:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return e.authorizationList&&(n.authorizationList=aj(e.authorizationList)),n.yParity=(()=>{if(e.yParity)return Number(e.yParity);if(typeof n.v=="bigint"){if(n.v===0n||n.v===27n)return 0;if(n.v===1n||n.v===28n)return 1;if(n.v>=35n)return n.v%2n===0n?1:0}})(),n.type==="legacy"&&(delete n.accessList,delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.yParity),n.type==="eip2930"&&(delete n.maxFeePerBlobGas,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas),n.type==="eip1559"&&delete n.maxFeePerBlobGas,n}const US=zf("transaction",Ff);function aj(e){return e.map(t=>({address:t.address,chainId:Number(t.chainId),nonce:Number(t.nonce),r:t.r,s:t.s,yParity:Number(t.yParity)}))}function xy(e,t){const n=(e.transactions??[]).map(r=>typeof r=="string"?r:Ff(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,blobGasUsed:e.blobGasUsed?BigInt(e.blobGasUsed):void 0,difficulty:e.difficulty?BigInt(e.difficulty):void 0,excessBlobGas:e.excessBlobGas?BigInt(e.excessBlobGas):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:n,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}const FS=zf("block",xy);async function ps(e,{blockHash:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",includeTransactions:s}={}){var u,l,d;const i=s??!1,o=n!==void 0?se(n):void 0;let a=null;if(t?a=await e.request({method:"eth_getBlockByHash",params:[t,i]},{dedupe:!0}):a=await e.request({method:"eth_getBlockByNumber",params:[o||r,i]},{dedupe:!!o}),!a)throw new DS({blockHash:t,blockNumber:n});return(((d=(l=(u=e.chain)==null?void 0:u.formatters)==null?void 0:l.block)==null?void 0:d.format)||xy)(a,"getBlock")}async function vy(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function cj(e,t){return WS(e,t)}async function WS(e,t){var i,o;const{block:n,chain:r=e.chain,request:s}=t||{};try{const a=((i=r==null?void 0:r.fees)==null?void 0:i.maxPriorityFeePerGas)??((o=r==null?void 0:r.fees)==null?void 0:o.defaultPriorityFee);if(typeof a=="function"){const u=n||await ye(e,ps,"getBlock")({}),l=await a({block:u,client:e,request:s});if(l===null)throw new Error;return l}if(typeof a<"u")return a;const c=await e.request({method:"eth_maxPriorityFeePerGas"});return nt(c)}catch{const[a,c]=await Promise.all([n?Promise.resolve(n):ye(e,ps,"getBlock")({}),ye(e,vy,"getGasPrice")({})]);if(typeof a.baseFeePerGas!="bigint")throw new wy;const u=c-a.baseFeePerGas;return u<0n?0n:u}}async function uj(e,t){return gm(e,t)}async function gm(e,t){var p,h;const{block:n,chain:r=e.chain,request:s,type:i="eip1559"}=t||{},o=await(async()=>{var g,y;return typeof((g=r==null?void 0:r.fees)==null?void 0:g.baseFeeMultiplier)=="function"?r.fees.baseFeeMultiplier({block:n,client:e,request:s}):((y=r==null?void 0:r.fees)==null?void 0:y.baseFeeMultiplier)??1.2})();if(o<1)throw new ij;const c=10**(((p=o.toString().split(".")[1])==null?void 0:p.length)??0),u=g=>g*BigInt(Math.ceil(o*c))/BigInt(c),l=n||await ye(e,ps,"getBlock")({});if(typeof((h=r==null?void 0:r.fees)==null?void 0:h.estimateFeesPerGas)=="function"){const g=await r.fees.estimateFeesPerGas({block:n,client:e,multiply:u,request:s,type:i});if(g!==null)return g}if(i==="eip1559"){if(typeof l.baseFeePerGas!="bigint")throw new wy;const g=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await WS(e,{block:l,chain:r,request:s}),y=u(l.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??y+g,maxPriorityFeePerGas:g}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await ye(e,vy,"getGasPrice")({}))}}async function Ey(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,typeof r=="bigint"?se(r):n]},{dedupe:!!r});return vr(s)}function Sy(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(i=>ur(i)):e.blobs,s=[];for(const i of r)s.push(Uint8Array.from(t.blobToKzgCommitment(i)));return n==="bytes"?s:s.map(i=>dn(i))}function _y(e){const{kzg:t}=e,n=e.to??(typeof e.blobs[0]=="string"?"hex":"bytes"),r=typeof e.blobs[0]=="string"?e.blobs.map(o=>ur(o)):e.blobs,s=typeof e.commitments[0]=="string"?e.commitments.map(o=>ur(o)):e.commitments,i=[];for(let o=0;o<r.length;o++){const a=r[o],c=s[o];i.push(Uint8Array.from(t.computeBlobKzgProof(a,c)))}return n==="bytes"?i:i.map(o=>dn(o))}function VS(e,t){const n=t||"hex",r=dp(ts(e,{strict:!1})?Qs(e):e);return n==="bytes"?r:Ke(r)}function lj(e){const{commitment:t,version:n=1}=e,r=e.to??(typeof t=="string"?"hex":"bytes"),s=VS(t,"bytes");return s.set([n],0),r==="bytes"?s:dn(s)}function qS(e){const{commitments:t,version:n}=e,r=e.to??(typeof t[0]=="string"?"hex":"bytes"),s=[];for(const i of t)s.push(lj({commitment:i,to:r,version:n}));return s}const Mw=6,HS=32,Ay=4096,GS=HS*Ay,kw=GS*Mw-1-1*Ay*Mw,KS=1;class dj extends Q{constructor({maxSize:t,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${t} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class ZS extends Q{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class fj extends Q{constructor({hash:t,size:n}){super(`Versioned hash "${t}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class hj extends Q{constructor({hash:t,version:n}){super(`Versioned hash "${t}" version is invalid.`,{metaMessages:[`Expected: ${KS}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function pj(e){const t=e.to??(typeof e.data=="string"?"hex":"bytes"),n=typeof e.data=="string"?ur(e.data):e.data,r=At(n);if(!r)throw new ZS;if(r>kw)throw new dj({maxSize:kw,size:r});const s=[];let i=!0,o=0;for(;i;){const a=py(new Uint8Array(GS));let c=0;for(;c<Ay;){const u=n.slice(o,o+(HS-1));if(a.pushByte(0),a.pushBytes(u),u.length<31){a.pushByte(128),i=!1;break}c++,o+=31}s.push(a)}return t==="bytes"?s.map(a=>a.bytes):s.map(a=>dn(a.bytes))}function YS(e){const{data:t,kzg:n,to:r}=e,s=e.blobs??pj({data:t,to:r}),i=e.commitments??Sy({blobs:s,kzg:n,to:r}),o=e.proofs??_y({blobs:s,commitments:i,kzg:n,to:r}),a=[];for(let c=0;c<s.length;c++)a.push({blob:s[c],commitment:i[c],proof:o[c]});return a}function JS(e){if(e.type)return e.type;if(typeof e.authorizationList<"u")return"eip7702";if(typeof e.blobs<"u"||typeof e.blobVersionedHashes<"u"||typeof e.maxFeePerBlobGas<"u"||typeof e.sidecars<"u")return"eip4844";if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")return"eip1559";if(typeof e.gasPrice<"u")return typeof e.accessList<"u"?"eip2930":"legacy";throw new j9({transaction:e})}async function fi(e){const t=await e.request({method:"eth_chainId"},{dedupe:!0});return vr(t)}const Iy=["blobVersionedHashes","chainId","fees","gas","nonce","type"],Bw=new Map;async function dc(e,t){const{account:n=e.account,blobs:r,chain:s,gas:i,kzg:o,nonce:a,nonceManager:c,parameters:u=Iy,type:l}=t,d=n&&xt(n),p={...t,...d?{from:d==null?void 0:d.address}:{}};let h;async function g(){return h||(h=await ye(e,ps,"getBlock")({blockTag:"latest"}),h)}let y;async function E(){return y||(s?s.id:typeof t.chainId<"u"?t.chainId:(y=await ye(e,fi,"getChainId")({}),y))}if(u.includes("nonce")&&typeof a>"u"&&d)if(c){const S=await E();p.nonce=await c.consume({address:d.address,chainId:S,client:e})}else p.nonce=await ye(e,Ey,"getTransactionCount")({address:d.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&r&&o){const S=Sy({blobs:r,kzg:o});if(u.includes("blobVersionedHashes")){const M=qS({commitments:S,to:"hex"});p.blobVersionedHashes=M}if(u.includes("sidecars")){const M=_y({blobs:r,commitments:S,kzg:o}),_=YS({blobs:r,commitments:S,proofs:M,to:"hex"});p.sidecars=_}}if(u.includes("chainId")&&(p.chainId=await E()),(u.includes("fees")||u.includes("type"))&&typeof l>"u")try{p.type=JS(p)}catch{let S=Bw.get(e.uid);if(typeof S>"u"){const M=await g();S=typeof(M==null?void 0:M.baseFeePerGas)=="bigint",Bw.set(e.uid,S)}p.type=S?"eip1559":"legacy"}if(u.includes("fees"))if(p.type!=="legacy"&&p.type!=="eip2930"){if(typeof p.maxFeePerGas>"u"||typeof p.maxPriorityFeePerGas>"u"){const S=await g(),{maxFeePerGas:M,maxPriorityFeePerGas:_}=await gm(e,{block:S,chain:s,request:p});if(typeof t.maxPriorityFeePerGas>"u"&&t.maxFeePerGas&&t.maxFeePerGas<_)throw new oj({maxPriorityFeePerGas:_});p.maxPriorityFeePerGas=_,p.maxFeePerGas=M}}else{if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")throw new wy;if(typeof t.gasPrice>"u"){const S=await g(),{gasPrice:M}=await gm(e,{block:S,chain:s,request:p,type:"legacy"});p.gasPrice=M}}return u.includes("gas")&&typeof i>"u"&&(p.gas=await ye(e,Ty,"estimateGas")({...p,account:d,prepare:(d==null?void 0:d.type)==="local"?[]:["blobVersionedHashes"]})),di(p),delete p.parameters,p}async function Ty(e,t){var o,a,c;const{account:n=e.account,prepare:r=!0}=t,s=n?xt(n):void 0,i=(()=>{if(Array.isArray(r))return r;if((s==null?void 0:s.type)!=="local")return["blobVersionedHashes"]})();try{const{accessList:u,authorizationList:l,blobs:d,blobVersionedHashes:p,blockNumber:h,blockTag:g,data:y,gas:E,gasPrice:S,maxFeePerBlobGas:M,maxFeePerGas:_,maxPriorityFeePerGas:T,nonce:O,value:$,stateOverride:D,...z}=r?await dc(e,{...t,parameters:i}):t,K=(typeof h=="bigint"?se(h):void 0)||g,W=by(D),q=await(async()=>{if(z.to)return z.to;if(l&&l.length>0)return await $f({authorization:l[0]}).catch(()=>{throw new Q("`to` is required. Could not infer from `authorizationList`")})})();di(t);const I=(c=(a=(o=e.chain)==null?void 0:o.formatters)==null?void 0:a.transactionRequest)==null?void 0:c.format,m=(I||zi)({...Xu(z,{format:I}),account:s,accessList:u,authorizationList:l,blobs:d,blobVersionedHashes:p,data:y,gas:E,gasPrice:S,maxFeePerBlobGas:M,maxFeePerGas:_,maxPriorityFeePerGas:T,nonce:O,to:q,value:$},"estimateGas");return BigInt(await e.request({method:"eth_estimateGas",params:W?[m,K??e.experimental_blockTag??"latest",W]:K?[m,K]:[m]}))}catch(u){throw X9(u,{...t,account:s,chain:e.chain})}}async function mj(e,t){const{abi:n,address:r,args:s,functionName:i,dataSuffix:o,...a}=t,c=Qn({abi:n,args:s,functionName:i});try{return await ye(e,Ty,"estimateGas")({data:`${c}${o?o.replace("0x",""):""}`,to:r,...a})}catch(u){const l=a.account?xt(a.account):void 0;throw Po(u,{abi:n,address:r,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:i,sender:l==null?void 0:l.address})}}function el(e,t){if(!wt(e,{strict:!1}))throw new un({address:e});if(!wt(t,{strict:!1}))throw new un({address:t});return e.toLowerCase()===t.toLowerCase()}const Ow="/docs/contract/decodeEventLog";function Ry(e){const{abi:t,data:n,strict:r,topics:s}=e,i=r??!0,[o,...a]=s;if(!o)throw new PL({docsPath:Ow});const c=t.find(y=>y.type==="event"&&o===Of(es(y)));if(!(c&&"name"in c)||c.type!=="event")throw new dS(o,{docsPath:Ow});const{name:u,inputs:l}=c,d=l==null?void 0:l.some(y=>!("name"in y&&y.name)),p=d?[]:{},h=l.map((y,E)=>[y,E]).filter(([y])=>"indexed"in y&&y.indexed);for(let y=0;y<h.length;y++){const[E,S]=h[y],M=a[y];if(!M)throw new Bf({abiItem:c,param:E});p[d?S:E.name||S]=gj({param:E,value:M})}const g=l.filter(y=>!("indexed"in y&&y.indexed));if(g.length>0){if(n&&n!=="0x")try{const y=Yu(g,n);if(y)if(d)for(let E=0;E<l.length;E++)p[E]=p[E]??y.shift();else for(let E=0;E<g.length;E++)p[g[E].name]=y[E]}catch(y){if(i)throw y instanceof uS||y instanceof IS?new Xc({abiItem:c,data:n,params:g,size:At(n)}):y}else if(i)throw new Xc({abiItem:c,data:"0x",params:g,size:0})}return{eventName:u,args:Object.values(p).length>0?p:void 0}}function gj({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(Yu([e],t)||[])[0]}function Ny(e){const{abi:t,args:n,logs:r,strict:s=!0}=e,i=(()=>{if(e.eventName)return Array.isArray(e.eventName)?e.eventName:[e.eventName]})();return r.map(o=>{var a;try{const c=t.find(l=>l.type==="event"&&o.topics[0]===Of(l));if(!c)return null;const u=Ry({...o,abi:[c],strict:s});return i&&!i.includes(u.eventName)||!yj({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...o}}catch(c){let u,l;if(c instanceof dS)return null;if(c instanceof Xc||c instanceof Bf){if(s)return null;u=c.abiItem.name,l=(a=c.abiItem.inputs)==null?void 0:a.some(d=>!("name"in d&&d.name))}return{...o,args:l?[]:{},eventName:u}}}).filter(Boolean)}function yj(e){const{args:t,inputs:n,matchArgs:r}=e;if(!r)return!0;if(!t)return!1;function s(i,o,a){try{return i.type==="address"?el(o,a):i.type==="string"||i.type==="bytes"?wn(Qs(o))===a:o===a}catch{return!1}}return Array.isArray(t)&&Array.isArray(r)?r.every((i,o)=>{if(i==null)return!0;const a=n[o];return a?(Array.isArray(i)?i:[i]).some(u=>s(a,u,t[o])):!1}):typeof t=="object"&&!Array.isArray(t)&&typeof r=="object"&&!Array.isArray(r)?Object.entries(r).every(([i,o])=>{if(o==null)return!0;const a=n.find(u=>u.name===i);return a?(Array.isArray(o)?o:[o]).some(u=>s(a,u,t[i])):!1}):!1}function Ss(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}async function Cy(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:i,events:o,args:a,strict:c}={}){const u=c??!1,l=o??(i?[i]:void 0);let d=[];l&&(d=[l.flatMap(y=>Zu({abi:[y],eventName:y.name,args:o?void 0:a}))],i&&(d=d[0]));let p;n?p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,blockHash:n}]}):p=await e.request({method:"eth_getLogs",params:[{address:t,topics:d,fromBlock:typeof r=="bigint"?se(r):r,toBlock:typeof s=="bigint"?se(s):s}]});const h=p.map(g=>Ss(g));return l?Ny({abi:l,args:a,logs:h,strict:u}):h}async function QS(e,t){const{abi:n,address:r,args:s,blockHash:i,eventName:o,fromBlock:a,toBlock:c,strict:u}=t,l=o?Ko({abi:n,name:o}):void 0,d=l?void 0:n.filter(p=>p.type==="event");return ye(e,Cy,"getLogs")({address:r,args:s,blockHash:i,event:l,events:d,fromBlock:a,toBlock:c,strict:u})}const b0="/docs/contract/decodeFunctionResult";function Zo(e){const{abi:t,args:n,functionName:r,data:s}=e;let i=t[0];if(r){const a=Ko({abi:t,args:n,name:r});if(!a)throw new Va(r,{docsPath:b0});i=a}if(i.type!=="function")throw new Va(void 0,{docsPath:b0});if(!i.outputs)throw new fS(i.name,{docsPath:b0});const o=Yu(i.outputs,s);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const My=BigInt(0),ym=BigInt(1);function tl(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function ky(e){if(!tl(e))throw new Error("Uint8Array expected")}function xu(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}function kl(e){const t=e.toString(16);return t.length&1?"0"+t:t}function XS(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?My:BigInt("0x"+e)}const e5=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",bj=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function vu(e){if(ky(e),e5)return e.toHex();let t="";for(let n=0;n<e.length;n++)t+=bj[e[n]];return t}const Ps={_0:48,_9:57,A:65,F:70,a:97,f:102};function Pw(e){if(e>=Ps._0&&e<=Ps._9)return e-Ps._0;if(e>=Ps.A&&e<=Ps.F)return e-(Ps.A-10);if(e>=Ps.a&&e<=Ps.f)return e-(Ps.a-10)}function Vd(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);if(e5)return Uint8Array.fromHex(e);const t=e.length,n=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(n);for(let s=0,i=0;s<n;s++,i+=2){const o=Pw(e.charCodeAt(i)),a=Pw(e.charCodeAt(i+1));if(o===void 0||a===void 0){const c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}r[s]=o*16+a}return r}function mo(e){return XS(vu(e))}function t5(e){return ky(e),XS(vu(Uint8Array.from(e).reverse()))}function nl(e,t){return Vd(e.toString(16).padStart(t*2,"0"))}function n5(e,t){return nl(e,t).reverse()}function Rr(e,t,n){let r;if(typeof t=="string")try{r=Vd(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(tl(t))r=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");const s=r.length;if(typeof n=="number"&&s!==n)throw new Error(e+" of length "+n+" expected, got "+s);return r}function qd(...e){let t=0;for(let r=0;r<e.length;r++){const s=e[r];ky(s),t+=s.length}const n=new Uint8Array(t);for(let r=0,s=0;r<e.length;r++){const i=e[r];n.set(i,s),s+=i.length}return n}const w0=e=>typeof e=="bigint"&&My<=e;function By(e,t,n){return w0(e)&&w0(t)&&w0(n)&&t<=e&&e<n}function Aa(e,t,n,r){if(!By(t,n,r))throw new Error("expected valid "+e+": "+n+" <= n < "+r+", got "+t)}function wj(e){let t;for(t=0;e>My;e>>=ym,t+=1);return t}const Wf=e=>(ym<<BigInt(e))-ym,x0=e=>new Uint8Array(e),Lw=e=>Uint8Array.from(e);function xj(e,t,n){if(typeof e!="number"||e<2)throw new Error("hashLen must be a number");if(typeof t!="number"||t<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=x0(e),s=x0(e),i=0;const o=()=>{r.fill(1),s.fill(0),i=0},a=(...d)=>n(s,r,...d),c=(d=x0(0))=>{s=a(Lw([0]),d),r=a(),d.length!==0&&(s=a(Lw([1]),d),r=a())},u=()=>{if(i++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const p=[];for(;d<t;){r=a();const h=r.slice();p.push(h),d+=r.length}return qd(...p)};return(d,p)=>{o(),c(d);let h;for(;!(h=p(u()));)c();return o(),h}}const vj={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||tl(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function Vf(e,t,n={}){const r=(s,i,o)=>{const a=vj[i];if(typeof a!="function")throw new Error("invalid validator function");const c=e[s];if(!(o&&c===void 0)&&!a(c,e))throw new Error("param "+String(s)+" is invalid. Expected "+i+", got "+c)};for(const[s,i]of Object.entries(t))r(s,i,!1);for(const[s,i]of Object.entries(n))r(s,i,!0);return e}function jw(e){const t=new WeakMap;return(n,...r)=>{const s=t.get(n);if(s!==void 0)return s;const i=e(n,...r);return t.set(n,i),i}}const Ej="0.1.1";function Sj(){return Ej}let qe=class bm extends Error{constructor(t,n={}){const r=(()=>{var c;if(n.cause instanceof bm){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof bm&&n.cause.docsPath||n.docsPath,o=`https://oxlib.sh${s??""}`,a=[t||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...r||s?["",r?`Details: ${r}`:void 0,s?`See: ${o}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(a,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Sj()}`}),this.cause=n.cause,this.details=r,this.docs=o,this.docsPath=s,this.shortMessage=t}walk(t){return r5(this,t)}};function r5(e,t){return t!=null&&t(e)?e:e&&typeof e=="object"&&"cause"in e&&e.cause?r5(e.cause,t):t?null:e}function rl(e,t){if(ga(e)>t)throw new zj({givenSize:ga(e),maxSize:t})}const Ls={zero:48,nine:57,A:65,F:70,a:97,f:102};function $w(e){if(e>=Ls.zero&&e<=Ls.nine)return e-Ls.zero;if(e>=Ls.A&&e<=Ls.F)return e-(Ls.A-10);if(e>=Ls.a&&e<=Ls.f)return e-(Ls.a-10)}function _j(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;if(e.length>r)throw new Uj({size:e.length,targetSize:r,type:"Bytes"});const s=new Uint8Array(r);for(let i=0;i<r;i++){const o=n==="right";s[o?i:r-i-1]=e[o?i:e.length-i-1]}return s}function s5(e,t={}){const{dir:n="left"}=t;let r=e,s=0;for(let i=0;i<r.length-1&&r[n==="left"?i:r.length-i-1].toString()==="0";i++)s++;return r=n==="left"?r.slice(s):r.slice(0,r.length-s),r}function qf(e,t){if(Er(e)>t)throw new Gj({givenSize:Er(e),maxSize:t})}function Aj(e,t){if(typeof t=="number"&&t>0&&t>Er(e)-1)throw new h5({offset:t,position:"start",size:Er(e)})}function Ij(e,t,n){if(typeof t=="number"&&typeof n=="number"&&Er(e)!==n-t)throw new h5({offset:n,position:"end",size:Er(e)})}function i5(e,t={}){const{dir:n,size:r=32}=t;if(r===0)return e;const s=e.replace("0x","");if(s.length>r*2)throw new Kj({size:Math.ceil(s.length/2),targetSize:r,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](r*2,"0")}`}const Tj="#__bigint";function o5(e,t,n){return JSON.stringify(e,(r,s)=>typeof s=="bigint"?s.toString()+Tj:s,n)}const Rj=new TextDecoder,Nj=new TextEncoder;function Cj(e){return e instanceof Uint8Array?e:typeof e=="string"?a5(e):Mj(e)}function Mj(e){return e instanceof Uint8Array?e:new Uint8Array(e)}function a5(e,t={}){const{size:n}=t;let r=e;n&&(qf(e,n),r=$o(e,n));let s=r.slice(2);s.length%2&&(s=`0${s}`);const i=s.length/2,o=new Uint8Array(i);for(let a=0,c=0;a<i;a++){const u=$w(s.charCodeAt(c++)),l=$w(s.charCodeAt(c++));if(u===void 0||l===void 0)throw new qe(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);o[a]=u*16+l}return o}function kj(e,t={}){const{size:n}=t,r=Nj.encode(e);return typeof n=="number"?(rl(r,n),Bj(r,n)):r}function Bj(e,t){return _j(e,{dir:"right",size:t})}function ga(e){return e.length}function Oj(e,t,n,r={}){const{strict:s}=r;return e.slice(t,n)}function Pj(e,t={}){const{size:n}=t;typeof n<"u"&&rl(e,n);const r=rs(e,t);return l5(r,t)}function Lj(e,t={}){const{size:n}=t;let r=e;if(typeof n<"u"&&(rl(r,n),r=c5(r)),r.length>1||r[0]>1)throw new Dj(r);return!!r[0]}function ei(e,t={}){const{size:n}=t;typeof n<"u"&&rl(e,n);const r=rs(e,t);return d5(r,t)}function jj(e,t={}){const{size:n}=t;let r=e;return typeof n<"u"&&(rl(r,n),r=$j(r)),Rj.decode(r)}function c5(e){return s5(e,{dir:"left"})}function $j(e){return s5(e,{dir:"right"})}class Dj extends qe{constructor(t){super(`Bytes value \`${t}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let zj=class extends qe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},Uj=class extends qe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Fj=new TextEncoder,Wj=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function Vj(e,t={}){const{strict:n=!1}=t;if(!e)throw new Dw(e);if(typeof e!="string")throw new Dw(e);if(n&&!/^0x[0-9a-fA-F]*$/.test(e))throw new zw(e);if(!e.startsWith("0x"))throw new zw(e)}function ns(...e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function qj(e){return e instanceof Uint8Array?rs(e):Array.isArray(e)?rs(new Uint8Array(e)):e}function u5(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(qf(n,t.size),jo(n,t.size)):n}function rs(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Wj[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(qf(r,t.size),$o(r,t.size)):r}function Hn(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let i;r?n?i=(1n<<BigInt(r)*8n-1n)-1n:i=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(i=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof i=="bigint"&&n?-i-1n:0;if(i&&s>i||s<o){const u=typeof e=="bigint"?"n":"";throw new f5({max:i?`${i}${u}`:void 0,min:`${o}${u}`,signed:n,size:r,value:`${e}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?jo(c,r):c}function Oy(e,t={}){return rs(Fj.encode(e),t)}function jo(e,t){return i5(e,{dir:"left",size:t})}function $o(e,t){return i5(e,{dir:"right",size:t})}function ys(e,t,n,r={}){const{strict:s}=r;Aj(e,t);const i=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return s&&Ij(i,t,n),i}function Er(e){return Math.ceil((e.length-2)/2)}function l5(e,t={}){const{signed:n}=t;t.size&&qf(e,t.size);const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,i=(1n<<BigInt(s)*8n)-1n,o=i>>1n;return r<=o?r:r-i-1n}function d5(e,t={}){const{signed:n,size:r}=t;return Number(!n&&!r?e:l5(e,t))}function Hj(e,t={}){const{strict:n=!1}=t;try{return Vj(e,{strict:n}),!0}catch{return!1}}class f5 extends qe{constructor({max:t,min:n,signed:r,size:s,value:i}){super(`Number \`${i}\` is not in safe${s?` ${s*8}-bit`:""}${r?" signed":" unsigned"} integer range ${t?`(\`${n}\` to \`${t}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class Dw extends qe{constructor(t){super(`Value \`${typeof t=="object"?o5(t):t}\` of type \`${typeof t}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class zw extends qe{constructor(t){super(`Value \`${t}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class Gj extends qe{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${t}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class h5 extends qe{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${t}\` is out-of-bounds (size: \`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class Kj extends qe{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (\`${t}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function Zj(e){return{address:e.address,amount:Hn(e.amount),index:Hn(e.index),validatorIndex:Hn(e.validatorIndex)}}function p5(e){return{...typeof e.baseFeePerGas=="bigint"&&{baseFeePerGas:Hn(e.baseFeePerGas)},...typeof e.blobBaseFee=="bigint"&&{blobBaseFee:Hn(e.blobBaseFee)},...typeof e.feeRecipient=="string"&&{feeRecipient:e.feeRecipient},...typeof e.gasLimit=="bigint"&&{gasLimit:Hn(e.gasLimit)},...typeof e.number=="bigint"&&{number:Hn(e.number)},...typeof e.prevRandao=="bigint"&&{prevRandao:Hn(e.prevRandao)},...typeof e.time=="bigint"&&{time:Hn(e.time)},...e.withdrawals&&{withdrawals:e.withdrawals.map(Zj)}}}const Hd=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],wm=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],m5=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],g5=[...m5,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Yj=[...m5,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],Uw=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],Fw=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],y5=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],Ww=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],Jj="0x82ad56cb",b5="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",Qj="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",Xj="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",Py="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class xm extends Q{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class e$ extends Q{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id}  ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id}  ${t.name}`],name:"ChainMismatchError"})}}class t$ extends Q{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class w5 extends Q{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class sl extends Q{constructor({chainId:t}){super(typeof t=="number"?`Chain ID "${t}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const v0="/docs/contract/encodeDeployData";function Hf(e){const{abi:t,args:n,bytecode:r}=e;if(!n||n.length===0)return r;const s=t.find(o=>"type"in o&&o.type==="constructor");if(!s)throw new cS({docsPath:v0});if(!("inputs"in s))throw new Wd({docsPath:v0});if(!s.inputs||s.inputs.length===0)throw new Wd({docsPath:v0});const i=Di(s.inputs,n);return Ur([r,i])}function fc({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new xm({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new xm({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function x5(e,{docsPath:t,...n}){const r=(()=>{const s=Df(e,n);return s instanceof Qu?e:s})();return new kS(r,{docsPath:t,...n})}function Ly(){let e=()=>{},t=()=>{};return{promise:new Promise((r,s)=>{e=r,t=s}),resolve:e,reject:t}}const E0=new Map;function v5({fn:e,id:t,shouldSplitBatch:n,wait:r=0,sort:s}){const i=async()=>{const l=c();o();const d=l.map(({args:p})=>p);d.length!==0&&e(d).then(p=>{s&&Array.isArray(p)&&p.sort(s);for(let h=0;h<l.length;h++){const{resolve:g}=l[h];g==null||g([p[h],p])}}).catch(p=>{for(let h=0;h<l.length;h++){const{reject:g}=l[h];g==null||g(p)}})},o=()=>E0.delete(t),a=()=>c().map(({args:l})=>l),c=()=>E0.get(t)||[],u=l=>E0.set(t,[...c(),l]);return{flush:o,async schedule(l){const{promise:d,resolve:p,reject:h}=Ly();return(n==null?void 0:n([...a(),l]))&&i(),c().length>0?(u({args:l,resolve:p,reject:h}),d):(u({args:l,resolve:p,reject:h}),setTimeout(i,r),d)}}}async function Gf(e,t){var I,f,m,v;const{account:n=e.account,authorizationList:r,batch:s=!!((I=e.batch)!=null&&I.multicall),blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",accessList:a,blobs:c,blockOverrides:u,code:l,data:d,factory:p,factoryData:h,gas:g,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:S,maxPriorityFeePerGas:M,nonce:_,to:T,value:O,stateOverride:$,...D}=t,z=n?xt(n):void 0;if(l&&(p||h))throw new Q("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(l&&T)throw new Q("Cannot provide both `code` & `to` as parameters.");const U=l&&d,K=p&&h&&T&&d,W=U||K,q=U?E5({code:l,data:d}):K?s$({data:d,factory:p,factoryData:h,to:T}):d;try{di(t);const A=(typeof i=="bigint"?se(i):void 0)||o,B=u?p5(u):void 0,j=by($),C=(v=(m=(f=e.chain)==null?void 0:f.formatters)==null?void 0:m.transactionRequest)==null?void 0:v.format,P=(C||zi)({...Xu(D,{format:C}),accessList:a,account:z,authorizationList:r,blobs:c,data:q,gas:g,gasPrice:y,maxFeePerBlobGas:E,maxFeePerGas:S,maxPriorityFeePerGas:M,nonce:_,to:W?void 0:T,value:O},"call");if(s&&n$({request:P})&&!j&&!B)try{return await r$(e,{...P,blockNumber:i,blockTag:o})}catch(oe){if(!(oe instanceof w5)&&!(oe instanceof xm))throw oe}const X=(()=>{const oe=[P,A];return j&&B?[...oe,j,B]:j?[...oe,j]:B?[...oe,{},B]:oe})(),ee=await e.request({method:"eth_call",params:X});return ee==="0x"?{data:void 0}:{data:ee}}catch(R){const A=i$(R),{offchainLookup:B,offchainLookupSignature:j}=await jf(async()=>{const{offchainLookup:C,offchainLookupSignature:b}=await import("./ccip-BnA741EO.js");return{offchainLookup:C,offchainLookupSignature:b}},__vite__mapDeps([0,1]));if(e.ccipRead!==!1&&(A==null?void 0:A.slice(0,10))===j&&T)return{data:await B(e,{data:A,to:T})};throw W&&(A==null?void 0:A.slice(0,10))==="0x101bb98d"?new W9({factory:p}):x5(R,{...t,account:z,chain:e.chain})}}function n$({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(Jj)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function r$(e,t){var y;const{batchSize:n=1024,deployless:r=!1,wait:s=0}=typeof((y=e.batch)==null?void 0:y.multicall)=="object"?e.batch.multicall:{},{blockNumber:i,blockTag:o=e.experimental_blockTag??"latest",data:a,to:c}=t,u=(()=>{if(r)return null;if(t.multicallAddress)return t.multicallAddress;if(e.chain)return fc({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new w5})(),d=(typeof i=="bigint"?se(i):void 0)||o,{schedule:p}=v5({id:`${e.uid}.${d}`,wait:s,shouldSplitBatch(E){return E.reduce((M,{data:_})=>M+(_.length-2),0)>n*2},fn:async E=>{const S=E.map(T=>({allowFailure:!0,callData:T.data,target:T.to})),M=Qn({abi:Hd,args:[S],functionName:"aggregate3"}),_=await e.request({method:"eth_call",params:[{...u===null?{data:E5({code:Py,data:M})}:{to:u,data:M}},d]});return Zo({abi:Hd,args:[S],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:h,success:g}]=await p({data:a,to:c});if(!g)throw new Lf({data:h});return h==="0x"?{data:void 0}:{data:h}}function E5(e){const{code:t,data:n}=e;return Hf({abi:iS(["constructor(bytes, bytes)"]),bytecode:b5,args:[t,n]})}function s$(e){const{data:t,factory:n,factoryData:r,to:s}=e;return Hf({abi:iS(["constructor(address, bytes, address, bytes)"]),bytecode:Qj,args:[s,t,n,r]})}function i$(e){var n;if(!(e instanceof Q))return;const t=e.walk();return typeof(t==null?void 0:t.data)=="object"?(n=t.data)==null?void 0:n.data:t.data}async function ss(e,t){const{abi:n,address:r,args:s,functionName:i,...o}=t,a=Qn({abi:n,args:s,functionName:i});try{const{data:c}=await ye(e,Gf,"call")({...o,data:a,to:r});return Zo({abi:n,args:s,functionName:i,data:c||"0x"})}catch(c){throw Po(c,{abi:n,address:r,args:s,docsPath:"/docs/contract/readContract",functionName:i})}}async function o$(e,t){const{abi:n,address:r,args:s,dataSuffix:i,functionName:o,...a}=t,c=a.account?xt(a.account):e.account,u=Qn({abi:n,args:s,functionName:o});try{const{data:l}=await ye(e,Gf,"call")({batch:!1,data:`${u}${i?i.replace("0x",""):""}`,to:r,...a,account:c}),d=Zo({abi:n,args:s,functionName:o,data:l||"0x"}),p=n.filter(h=>"name"in h&&h.name===t.functionName);return{result:d,request:{abi:p,address:r,args:s,dataSuffix:i,functionName:o,...a,account:c}}}catch(l){throw Po(l,{abi:n,address:r,args:s,docsPath:"/docs/contract/simulateContract",functionName:o,sender:c==null?void 0:c.address})}}const S0=new Map,Vw=new Map;let a$=0;function oi(e,t,n){const r=++a$,s=()=>S0.get(e)||[],i=()=>{const l=s();S0.set(e,l.filter(d=>d.id!==r))},o=()=>{const l=s();if(!l.some(p=>p.id===r))return;const d=Vw.get(e);if(l.length===1&&d){const p=d();p instanceof Promise&&p.catch(()=>{})}i()},a=s();if(S0.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return o;const c={};for(const l in t)c[l]=(...d)=>{var h,g;const p=s();if(p.length!==0)for(const y of p)(g=(h=y.fns)[l])==null||g.call(h,...d)};const u=n(c);return typeof u=="function"&&Vw.set(e,u),o}async function vm(e){return new Promise(t=>setTimeout(t,e))}function hc(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const i=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:i}));const c=await(n==null?void 0:n(a))??r;await vm(c);const u=async()=>{s&&(await e({unpoll:i}),await vm(r),u())};u()})(),i}const c$=new Map,u$=new Map;function l$(e){const t=(s,i)=>({clear:()=>i.delete(s),get:()=>i.get(s),set:o=>i.set(s,o)}),n=t(e,c$),r=t(e,u$);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function d$(e,{cacheKey:t,cacheTime:n=Number.POSITIVE_INFINITY}){const r=l$(t),s=r.response.get();if(s&&n>0&&Date.now()-s.created.getTime()<n)return s.data;let i=r.promise.get();i||(i=e(),r.promise.set(i));try{const o=await i;return r.response.set({created:new Date,data:o}),o}finally{r.promise.clear()}}const f$=e=>`blockNumber.${e}`;async function il(e,{cacheTime:t=e.cacheTime}={}){const n=await d$(()=>e.request({method:"eth_blockNumber"}),{cacheKey:f$(e.uid),cacheTime:t});return BigInt(n)}async function Kf(e,{filter:t}){const n="strict"in t&&t.strict,r=await t.request({method:"eth_getFilterChanges",params:[t.id]});if(typeof r[0]=="string")return r;const s=r.map(i=>Ss(i));return!("abi"in t)||!t.abi?s:Ny({abi:t.abi,logs:s,strict:n})}async function Zf(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function h$(e,t){const{abi:n,address:r,args:s,batch:i=!0,eventName:o,fromBlock:a,onError:c,onLogs:u,poll:l,pollingInterval:d=e.pollingInterval,strict:p}=t;return(typeof l<"u"?l:typeof a=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")))?(()=>{const E=p??!1,S=mn(["watchContractEvent",r,s,i,e.uid,o,d,E,a]);return oi(S,{onLogs:u,onError:c},M=>{let _;a!==void 0&&(_=a-1n);let T,O=!1;const $=hc(async()=>{var D;if(!O){try{T=await ye(e,_S,"createContractEventFilter")({abi:n,address:r,args:s,eventName:o,strict:E,fromBlock:a})}catch{}O=!0;return}try{let z;if(T)z=await ye(e,Kf,"getFilterChanges")({filter:T});else{const U=await ye(e,il,"getBlockNumber")({});_&&_<U?z=await ye(e,QS,"getContractEvents")({abi:n,address:r,args:s,eventName:o,fromBlock:_+1n,toBlock:U,strict:E}):z=[],_=U}if(z.length===0)return;if(i)M.onLogs(z);else for(const U of z)M.onLogs([U])}catch(z){T&&z instanceof Oo&&(O=!1),(D=M.onError)==null||D.call(M,z)}},{emitOnBegin:!0,interval:d});return async()=>{T&&await ye(e,Zf,"uninstallFilter")({filter:T}),$()}})})():(()=>{const E=p??!1,S=mn(["watchContractEvent",r,s,i,e.uid,o,d,E]);let M=!0,_=()=>M=!1;return oi(S,{onLogs:u,onError:c},T=>((async()=>{try{const O=(()=>{if(e.transport.type==="fallback"){const z=e.transport.transports.find(U=>U.config.type==="webSocket"||U.config.type==="ipc");return z?z.value:e.transport}return e.transport})(),$=o?Zu({abi:n,eventName:o,args:s}):[],{unsubscribe:D}=await O.subscribe({params:["logs",{address:r,topics:$}],onData(z){var K;if(!M)return;const U=z.result;try{const{eventName:W,args:q}=Ry({abi:n,data:U.data,topics:U.topics,strict:p}),I=Ss(U,{args:q,eventName:W});T.onLogs([I])}catch(W){let q,I;if(W instanceof Xc||W instanceof Bf){if(p)return;q=W.abiItem.name,I=(K=W.abiItem.inputs)==null?void 0:K.some(m=>!("name"in m&&m.name))}const f=Ss(U,{args:I?[]:{},eventName:q});T.onLogs([f])}},onError(z){var U;(U=T.onError)==null||U.call(T,z)}});_=D,M||_()}catch(O){c==null||c(O)}})(),()=>_()))})()}class Cs extends Q{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:t,docsSlug:"account",name:"AccountNotFoundError"})}}class go extends Q{constructor({docsPath:t,metaMessages:n,type:r}){super(`Account type "${r}" is not supported.`,{docsPath:t,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function ol({chain:e,currentChainId:t}){if(!e)throw new t$;if(t!==e.id)throw new e$({chain:e,currentChainId:t})}function Yf(e,{docsPath:t,...n}){const r=(()=>{const s=Df(e,n);return s instanceof Qu?e:s})();return new D9(r,{docsPath:t,...n})}async function Jf(e,{serializedTransaction:t}){return e.request({method:"eth_sendRawTransaction",params:[t]},{retryCount:0})}const _0=new Hu(128);async function al(e,t){var M,_,T,O;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,type:g,value:y,...E}=t;if(typeof n>"u")throw new Cs({docsPath:"/docs/actions/wallet/sendTransaction"});const S=n?xt(n):null;try{di(t);const $=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await $f({authorization:i[0]}).catch(()=>{throw new Q("`to` is required. Could not infer from `authorizationList`.")})})();if((S==null?void 0:S.type)==="json-rpc"||S===null){let D;r!==null&&(D=await ye(e,fi,"getChainId")({}),ol({currentChainId:D,chain:r}));const z=(T=(_=(M=e.chain)==null?void 0:M.formatters)==null?void 0:_.transactionRequest)==null?void 0:T.format,K=(z||zi)({...Xu(E,{format:z}),accessList:s,account:S,authorizationList:i,blobs:o,chainId:D,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:$,type:g,value:y},"sendTransaction"),W=_0.get(e.uid),q=W?"wallet_sendTransaction":"eth_sendTransaction";try{return await e.request({method:q,params:[K]},{retryCount:0})}catch(I){if(W===!1)throw I;const f=I;if(f.name==="InvalidInputRpcError"||f.name==="InvalidParamsRpcError"||f.name==="MethodNotFoundRpcError"||f.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[K]},{retryCount:0}).then(m=>(_0.set(e.uid,!0),m)).catch(m=>{const v=m;throw v.name==="MethodNotFoundRpcError"||v.name==="MethodNotSupportedRpcError"?(_0.set(e.uid,!1),f):v});throw f}}if((S==null?void 0:S.type)==="local"){const D=await ye(e,dc,"prepareTransactionRequest")({account:S,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:S.nonceManager,parameters:[...Iy,"sidecars"],type:g,value:y,...E,to:$}),z=(O=r==null?void 0:r.serializers)==null?void 0:O.transaction,U=await S.signTransaction(D,{serializer:z});return await ye(e,Jf,"sendRawTransaction")({serializedTransaction:U})}throw(S==null?void 0:S.type)==="smart"?new go({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new go({docsPath:"/docs/actions/wallet/sendTransaction",type:S==null?void 0:S.type})}catch($){throw $ instanceof go?$:Yf($,{...t,account:S,chain:t.chain||void 0})}}async function Za(e,t){return Za.internal(e,al,"sendTransaction",t)}(function(e){async function t(n,r,s,i){const{abi:o,account:a=n.account,address:c,args:u,dataSuffix:l,functionName:d,...p}=i;if(typeof a>"u")throw new Cs({docsPath:"/docs/contract/writeContract"});const h=a?xt(a):null,g=Qn({abi:o,args:u,functionName:d});try{return await ye(n,r,s)({data:`${g}${l?l.replace("0x",""):""}`,to:c,account:h,...p})}catch(y){throw Po(y,{abi:o,address:c,args:u,docsPath:"/docs/contract/writeContract",functionName:d,sender:h==null?void 0:h.address})}}e.internal=t})(Za||(Za={}));class p$ extends Q{constructor(t){super(`Call bundle failed with status: ${t.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=t}}function Gd(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,i)=>{const o=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await vm(l),o({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});i(u)}};o()})}const S5={"0x0":"reverted","0x1":"success"};function jy(e,t){const n={...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(r=>Ss(r)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?vr(e.transactionIndex):null,status:e.status?S5[e.status]:null,type:e.type?zS[e.type]||e.type:null};return e.blobGasPrice&&(n.blobGasPrice=BigInt(e.blobGasPrice)),e.blobGasUsed&&(n.blobGasUsed=BigInt(e.blobGasUsed)),n}const _5=zf("transactionReceipt",jy),A5="0x5792579257925792579257925792579257925792579257925792579257925792",I5=se(0,{size:32});async function T5(e,t){const{account:n=e.account,capabilities:r,chain:s=e.chain,experimental_fallback:i,experimental_fallbackDelay:o=32,forceAtomic:a=!1,id:c,version:u="2.0.0"}=t,l=n?xt(n):null,d=t.calls.map(p=>{const h=p,g=h.abi?Qn({abi:h.abi,functionName:h.functionName,args:h.args}):h.data;return{data:h.dataSuffix&&g?$r([g,h.dataSuffix]):g,to:h.to,value:h.value?se(h.value):void 0}});try{const p=await e.request({method:"wallet_sendCalls",params:[{atomicRequired:a,calls:d,capabilities:r,chainId:se(s.id),from:l==null?void 0:l.address,id:c,version:u}]},{retryCount:0});return typeof p=="string"?{id:p}:p}catch(p){const h=p;if(i&&(h.name==="MethodNotFoundRpcError"||h.name==="MethodNotSupportedRpcError"||h.name==="UnknownRpcError"||h.details.toLowerCase().includes("does not exist / is not available")||h.details.toLowerCase().includes("missing or invalid. request()")||h.details.toLowerCase().includes("did not match any variant of untagged enum")||h.details.toLowerCase().includes("account upgraded to unsupported contract")||h.details.toLowerCase().includes("eip-7702 not supported")||h.details.toLowerCase().includes("unsupported wc_ method")||h.details.toLowerCase().includes("feature toggled misconfigured")||h.details.toLowerCase().includes("jsonrpcengine: response has no error or result for request"))){if(r&&Object.values(r).some(M=>!M.optional)){const M="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Ga(new Q(M,{details:M}))}if(a&&d.length>1){const S="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Ka(new Q(S,{details:S}))}const g=[];for(const S of d){const M=al(e,{account:l,chain:s,data:S.data,to:S.to,value:S.value?nt(S.value):void 0});g.push(M),o>0&&await new Promise(_=>setTimeout(_,o))}const y=await Promise.allSettled(g);if(y.every(S=>S.status==="rejected"))throw y[0].reason;const E=y.map(S=>S.status==="fulfilled"?S.value:I5);return{id:$r([...E,se(s.id,{size:32}),A5])}}throw Yf(p,{...t,account:l,chain:t.chain})}}async function R5(e,t){async function n(l){if(l.endsWith(A5.slice(2))){const p=Lr(sm(l,-64,-32)),h=sm(l,0,-64).slice(2).match(/.{1,64}/g),g=await Promise.all(h.map(E=>I5.slice(2)!==E?e.request({method:"eth_getTransactionReceipt",params:[`0x${E}`]},{dedupe:!0}):void 0)),y=g.some(E=>E===null)?100:g.every(E=>(E==null?void 0:E.status)==="0x1")?200:g.every(E=>(E==null?void 0:E.status)==="0x0")?500:600;return{atomic:!1,chainId:vr(p),receipts:g.filter(Boolean),status:y,version:"2.0.0"}}return e.request({method:"wallet_getCallsStatus",params:[l]})}const{atomic:r=!1,chainId:s,receipts:i,version:o="2.0.0",...a}=await n(t.id),[c,u]=(()=>{const l=a.status;return l>=100&&l<200?["pending",l]:l>=200&&l<300?["success",l]:l>=300&&l<700?["failure",l]:l==="CONFIRMED"?["success",200]:l==="PENDING"?["pending",100]:[void 0,l]})();return{...a,atomic:r,chainId:s?vr(s):void 0,receipts:(i==null?void 0:i.map(l=>({...l,blockNumber:nt(l.blockNumber),gasUsed:nt(l.gasUsed),status:S5[l.status]})))??[],statusCode:u,status:c,version:o}}async function N5(e,t){const{id:n,pollingInterval:r=e.pollingInterval,status:s=({statusCode:y})=>y===200||y>=300,retryCount:i=4,retryDelay:o=({count:y})=>~~(1<<y)*200,timeout:a=6e4,throwOnFailure:c=!1}=t,u=mn(["waitForCallsStatus",e.uid,n]),{promise:l,resolve:d,reject:p}=Ly();let h;const g=oi(u,{resolve:d,reject:p},y=>{const E=hc(async()=>{const S=M=>{clearTimeout(h),E(),M(),g()};try{const M=await Gd(async()=>{const _=await ye(e,R5,"getCallsStatus")({id:n});if(c&&_.status==="failure")throw new p$(_);return _},{retryCount:i,delay:o});if(!s(M))return;S(()=>y.resolve(M))}catch(M){S(()=>y.reject(M))}},{interval:r,emitOnBegin:!0});return E});return h=a?setTimeout(()=>{g(),clearTimeout(h),p(new m$({id:n}))},a):void 0,await l}class m$ extends Q{constructor({id:t}){super(`Timed out while waiting for call bundle with id "${t}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const Em=256;let Bl=Em,Ol;function C5(e=11){if(!Ol||Bl+e>Em*2){Ol="",Bl=0;for(let t=0;t<Em;t++)Ol+=(256+Math.random()*256|0).toString(16).substring(1)}return Ol.substring(Bl,Bl+++e)}function M5(e){const{batch:t,chain:n,ccipRead:r,key:s="base",name:i="Base Client",type:o="base"}=e,a=e.experimental_blockTag??(typeof(n==null?void 0:n.experimental_preconfirmationTime)=="number"?"pending":void 0),c=(n==null?void 0:n.blockTime)??12e3,u=Math.min(Math.max(Math.floor(c/2),500),4e3),l=e.pollingInterval??u,d=e.cacheTime??l,p=e.account?xt(e.account):void 0,{config:h,request:g,value:y}=e.transport({chain:n,pollingInterval:l}),E={...h,...y},S={account:p,batch:t,cacheTime:d,ccipRead:r,chain:n,key:s,name:i,pollingInterval:l,request:g,transport:E,type:o,uid:C5(),...a?{experimental_blockTag:a}:{}};function M(_){return T=>{const O=T(_);for(const D in S)delete O[D];const $={..._,...O};return Object.assign($,{extend:M($)})}}return Object.assign(S,{extend:M(S)})}function $y(e){var n,r,s,i,o,a;if(!(e instanceof Q))return!1;const t=e.walk(c=>c instanceof am);return t instanceof am?((n=t.data)==null?void 0:n.errorName)==="HttpError"||((r=t.data)==null?void 0:r.errorName)==="ResolverError"||((s=t.data)==null?void 0:s.errorName)==="ResolverNotContract"||((i=t.data)==null?void 0:i.errorName)==="ResolverNotFound"||((o=t.data)==null?void 0:o.errorName)==="ReverseAddressMismatch"||((a=t.data)==null?void 0:a.errorName)==="UnsupportedResolverProfile":!1}function g$(e){const{abi:t,data:n}=e,r=ko(n,0,4),s=t.find(i=>i.type==="function"&&r===Ku(es(i)));if(!s)throw new LL(r,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Yu(s.inputs,ko(n,4)):void 0}}const A0="/docs/contract/encodeErrorResult";function qw(e){const{abi:t,errorName:n,args:r}=e;let s=t[0];if(n){const c=Ko({abi:t,args:r,name:n});if(!c)throw new yw(n,{docsPath:A0});s=c}if(s.type!=="error")throw new yw(void 0,{docsPath:A0});const i=es(s),o=Ku(i);let a="0x";if(r&&r.length>0){if(!s.inputs)throw new OL(s.name,{docsPath:A0});a=Di(s.inputs,r)}return Ur([o,a])}const I0="/docs/contract/encodeFunctionResult";function y$(e){const{abi:t,functionName:n,result:r}=e;let s=t[0];if(n){const o=Ko({abi:t,name:n});if(!o)throw new Va(n,{docsPath:I0});s=o}if(s.type!=="function")throw new Va(void 0,{docsPath:I0});if(!s.outputs)throw new fS(s.name,{docsPath:I0});const i=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[r];if(Array.isArray(r))return r;throw new hS(r)})();return Di(s.outputs,i)}const Qf="x-batch-gateway:true";async function b$(e){const{data:t,ccipRequest:n}=e,{args:[r]}=g$({abi:wm,data:t}),s=[],i=[];return await Promise.all(r.map(async(o,a)=>{try{i[a]=o.urls.includes(Qf)?await b$({data:o.data,ccipRequest:n}):await n(o),s[a]=!1}catch(c){s[a]=!0,i[a]=w$(c)}})),y$({abi:wm,functionName:"query",result:[s,i]})}function w$(e){return e.name==="HttpRequestError"&&e.status?qw({abi:wm,errorName:"HttpError",args:[e.status,e.shortMessage]}):qw({abi:[AS],errorName:"Error",args:["shortMessage"in e?e.shortMessage:e.message]})}function k5(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return ts(t)?t:null}function Sm(e){let t=new Uint8Array(32).fill(0);if(!e)return dn(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=k5(n[r]),i=s?Qs(s):wn(po(n[r]),"bytes");t=wn($r([t,i]),"bytes")}return dn(t)}function x$(e){return`[${e.slice(2)}]`}function v$(e){const t=new Uint8Array(32).fill(0);return e?k5(e)||wn(po(e)):dn(t)}function Dy(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(po(t).byteLength+2);let r=0;const s=t.split(".");for(let i=0;i<s.length;i++){let o=po(s[i]);o.byteLength>255&&(o=po(x$(v$(s[i])))),n[r]=o.length,n.set(o,r+1),r+=o.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function E$(e,t){const{blockNumber:n,blockTag:r,coinType:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return fc({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(p=>i.endsWith(p)))return null;const d=s!=null?[Sm(i),BigInt(s)]:[Sm(i)];try{const p=Qn({abi:Fw,functionName:"addr",args:d}),h={address:u,abi:g5,functionName:"resolveWithGateways",args:[Ke(Dy(i)),p,o??[Qf]],blockNumber:n,blockTag:r},y=await ye(e,ss,"readContract")(h);if(y[0]==="0x")return null;const E=Zo({abi:Fw,args:d,functionName:"addr",data:y[0]});return E==="0x"||Lr(E)==="0x00"?null:E}catch(p){if(a)throw p;if($y(p))return null;throw p}}class S$ extends Q{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`],name:"EnsAvatarInvalidMetadataError"})}}class Ic extends Q{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`,{name:"EnsAvatarInvalidNftUriError"})}}class zy extends Q{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class _$ extends Q{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const A$=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,I$=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,T$=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,R$=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function N$(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function Hw(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function B5({uri:e,gatewayUrls:t}){const n=T$.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=Hw(t==null?void 0:t.ipfs,"https://ipfs.io"),s=Hw(t==null?void 0:t.arweave,"https://arweave.net"),i=e.match(A$),{protocol:o,subpath:a,target:c,subtarget:u=""}=(i==null?void 0:i.groups)||{},l=o==="ipns:/"||a==="ipns/",d=o==="ipfs:/"||a==="ipfs/"||I$.test(e);if(e.startsWith("http")&&!l&&!d){let h=e;return t!=null&&t.arweave&&(h=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:h,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(o==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let p=e.replace(R$,"");if(p.startsWith("<svg")&&(p=`data:image/svg+xml;base64,${btoa(p)}`),p.startsWith("data:")||p.startsWith("{"))return{uri:p,isOnChain:!0,isEncoded:!1};throw new zy({uri:e})}function O5(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new S$({data:e});return e.image||e.image_url||e.image_data}async function C$({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await Uy({gatewayUrls:e,uri:O5(n)})}catch{throw new zy({uri:t})}}async function Uy({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=B5({uri:t,gatewayUrls:e});if(r||await N$(n))return n;throw new zy({uri:t})}function M$(e){let t=e;t.startsWith("did:nft:")&&(t=t.replace("did:nft:","").replace(/_/g,"/"));const[n,r,s]=t.split("/"),[i,o]=n.split(":"),[a,c]=r.split(":");if(!i||i.toLowerCase()!=="eip155")throw new Ic({reason:"Only EIP-155 supported"});if(!o)throw new Ic({reason:"Chain ID not found"});if(!c)throw new Ic({reason:"Contract address not found"});if(!s)throw new Ic({reason:"Token ID not found"});if(!a)throw new Ic({reason:"ERC namespace not found"});return{chainID:Number.parseInt(o,10),namespace:a.toLowerCase(),contractAddress:c,tokenID:s}}async function k$(e,{nft:t}){if(t.namespace==="erc721")return ss(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return ss(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new _$({namespace:t.namespace})}async function B$(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?O$(e,{gatewayUrls:t,record:n}):Uy({uri:n,gatewayUrls:t})}async function O$(e,{gatewayUrls:t,record:n}){const r=M$(n),s=await k$(e,{nft:r}),{uri:i,isOnChain:o,isEncoded:a}=B5({uri:s,gatewayUrls:t});if(o&&(i.includes("data:application/json;base64,")||i.startsWith("{"))){const u=a?atob(i.replace("data:application/json;base64,","")):i,l=JSON.parse(u);return Uy({uri:O5(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),C$({gatewayUrls:t,uri:i.replace(/(?:0x)?{id}/,c)})}async function P5(e,t){const{blockNumber:n,blockTag:r,key:s,name:i,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return fc({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),l=c==null?void 0:c.ensTlds;if(l&&!l.some(d=>i.endsWith(d)))return null;try{const d={address:u,abi:g5,args:[Ke(Dy(i)),Qn({abi:Uw,functionName:"text",args:[Sm(i),s]}),o??[Qf]],functionName:"resolveWithGateways",blockNumber:n,blockTag:r},h=await ye(e,ss,"readContract")(d);if(h[0]==="0x")return null;const g=Zo({abi:Uw,functionName:"text",data:h[0]});return g===""?null:g}catch(d){if(a)throw d;if($y(d))return null;throw d}}async function P$(e,{blockNumber:t,blockTag:n,assetGatewayUrls:r,name:s,gatewayUrls:i,strict:o,universalResolverAddress:a}){const c=await ye(e,P5,"getEnsText")({blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:a,gatewayUrls:i,strict:o});if(!c)return null;try{return await B$(e,{record:c,gatewayUrls:r})}catch{return null}}async function L$(e,t){const{address:n,blockNumber:r,blockTag:s,coinType:i=60n,gatewayUrls:o,strict:a}=t,{chain:c}=e,u=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return fc({blockNumber:r,chain:c,contract:"ensUniversalResolver"})})();try{const l={address:u,abi:Yj,args:[n,i,o??[Qf]],functionName:"reverseWithGateways",blockNumber:r,blockTag:s},d=ye(e,ss,"readContract"),[p]=await d(l);return p||null}catch(l){if(a)throw l;if($y(l))return null;throw l}}async function j$(e,t){const{blockNumber:n,blockTag:r,name:s}=t,{chain:i}=e,o=(()=>{if(t.universalResolverAddress)return t.universalResolverAddress;if(!i)throw new Error("client chain not configured. universalResolverAddress is required.");return fc({blockNumber:n,chain:i,contract:"ensUniversalResolver"})})(),a=i==null?void 0:i.ensTlds;if(a&&!a.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${a==null?void 0:a.join(", ")}) for chain "${i.name}" (id: ${i.id}).`);const[c]=await ye(e,ss,"readContract")({address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ke(Dy(s))],blockNumber:n,blockTag:r});return c}async function L5(e,t){var E,S,M;const{account:n=e.account,blockNumber:r,blockTag:s="latest",blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:h,...g}=t,y=n?xt(n):void 0;try{di(t);const T=(typeof r=="bigint"?se(r):void 0)||s,O=(M=(S=(E=e.chain)==null?void 0:E.formatters)==null?void 0:S.transactionRequest)==null?void 0:M.format,D=(O||zi)({...Xu(g,{format:O}),account:y,blobs:i,data:o,gas:a,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:l,maxPriorityFeePerGas:d,to:p,value:h},"createAccessList"),z=await e.request({method:"eth_createAccessList",params:[D,T]});return{accessList:z.accessList,gasUsed:BigInt(z.gasUsed)}}catch(_){throw x5(_,{...t,account:y,chain:e.chain})}}async function $$(e){const t=Pf(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function j5(e,{address:t,args:n,event:r,events:s,fromBlock:i,strict:o,toBlock:a}={}){const c=s??(r?[r]:void 0),u=Pf(e,{method:"eth_newFilter"});let l=[];c&&(l=[c.flatMap(h=>Zu({abi:[h],eventName:h.name,args:n}))],r&&(l=l[0]));const d=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof i=="bigint"?se(i):i,toBlock:typeof a=="bigint"?se(a):a,...l.length?{topics:l}:{}}]});return{abi:c,args:n,eventName:r?r.name:void 0,fromBlock:i,id:d,request:u(d),strict:!!o,toBlock:a,type:"event"}}async function $5(e){const t=Pf(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function D$(e,{address:t,blockNumber:n,blockTag:r=e.experimental_blockTag??"latest"}){const s=typeof n=="bigint"?se(n):void 0,i=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(i)}async function z$(e){const t=await e.request({method:"eth_blobBaseFee"});return BigInt(t)}async function U$(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?se(n):void 0;let i;return t?i=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]},{dedupe:!0}):i=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]},{dedupe:!!s}),vr(i)}async function _m(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?se(n):void 0,i=await e.request({method:"eth_getCode",params:[t,s||r]},{dedupe:!!s});if(i!=="0x")return i}class F$ extends Q{constructor({address:t}){super(`No EIP-712 domain found on contract "${t}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${t}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function W$(e,t){const{address:n,factory:r,factoryData:s}=t;try{const[i,o,a,c,u,l,d]=await ye(e,ss,"readContract")({abi:V$,address:n,functionName:"eip712Domain",factory:r,factoryData:s});return{domain:{name:o,version:a,chainId:Number(c),verifyingContract:u,salt:l},extensions:d,fields:i}}catch(i){const o=i;throw o.name==="ContractFunctionExecutionError"&&o.cause.name==="ContractFunctionZeroDataError"?new F$({address:n}):o}}const V$=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function q$(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function H$(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const i=typeof n=="bigint"?se(n):void 0,o=await e.request({method:"eth_feeHistory",params:[se(t),i||r,s]},{dedupe:!!i});return q$(o)}async function G$(e,{filter:t}){const n=t.strict??!1,s=(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(i=>Ss(i));return t.abi?Ny({abi:t.abi,logs:s,strict:n}):s}function K$(e){const{authorizationList:t}=e;if(t)for(const n of t){const{chainId:r}=n,s=n.address;if(!wt(s))throw new un({address:s});if(r<0)throw new sl({chainId:r})}Fy(e)}function Z$(e){const{blobVersionedHashes:t}=e;if(t){if(t.length===0)throw new ZS;for(const n of t){const r=At(n),s=vr(ko(n,0,1));if(r!==32)throw new fj({hash:n,size:r});if(s!==KS)throw new hj({hash:n,version:s})}}Fy(e)}function Fy(e){const{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:s}=e;if(t<=0)throw new sl({chainId:t});if(s&&!wt(s))throw new un({address:s});if(r&&r>Uf)throw new Lo({maxFeePerGas:r});if(n&&r&&n>r)throw new wu({maxFeePerGas:r,maxPriorityFeePerGas:n})}function Y$(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(t<=0)throw new sl({chainId:t});if(i&&!wt(i))throw new un({address:i});if(n||s)throw new Q("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>Uf)throw new Lo({maxFeePerGas:r})}function J$(e){const{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:s,to:i}=e;if(i&&!wt(i))throw new un({address:i});if(typeof t<"u"&&t<=0)throw new sl({chainId:t});if(n||s)throw new Q("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>Uf)throw new Lo({maxFeePerGas:r})}function Xf(e){if(!e||e.length===0)return[];const t=[];for(let n=0;n<e.length;n++){const{address:r,storageKeys:s}=e[n];for(let i=0;i<s.length;i++)if(s[i].length-2!==64)throw new $9({storageKey:s[i]});if(!wt(r,{strict:!1}))throw new un({address:r});t.push([r,s])}return t}function Wy(e,t){const n=JS(e);return n==="eip1559"?eD(e,t):n==="eip2930"?tD(e,t):n==="eip4844"?X$(e,t):n==="eip7702"?Q$(e,t):nD(e,t)}function Q$(e,t){const{authorizationList:n,chainId:r,gas:s,nonce:i,to:o,value:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;K$(e);const p=Xf(l),h=rD(n);return Ur(["0x04",ii([se(r),i?se(i):"0x",u?se(u):"0x",c?se(c):"0x",s?se(s):"0x",o??"0x",a?se(a):"0x",d??"0x",p,h,...cl(e,t)])])}function X$(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerBlobGas:a,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:l,data:d}=e;Z$(e);let p=e.blobVersionedHashes,h=e.sidecars;if(e.blobs&&(typeof p>"u"||typeof h>"u")){const _=typeof e.blobs[0]=="string"?e.blobs:e.blobs.map($=>dn($)),T=e.kzg,O=Sy({blobs:_,kzg:T});if(typeof p>"u"&&(p=qS({commitments:O})),typeof h>"u"){const $=_y({blobs:_,commitments:O,kzg:T});h=YS({blobs:_,commitments:O,proofs:$})}}const g=Xf(l),y=[se(n),s?se(s):"0x",u?se(u):"0x",c?se(c):"0x",r?se(r):"0x",i??"0x",o?se(o):"0x",d??"0x",g,a?se(a):"0x",p??[],...cl(e,t)],E=[],S=[],M=[];if(h)for(let _=0;_<h.length;_++){const{blob:T,commitment:O,proof:$}=h[_];E.push(T),S.push(O),M.push($)}return Ur(["0x03",ii(h?[y,E,S,M]:y)])}function eD(e,t){const{chainId:n,gas:r,nonce:s,to:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,accessList:u,data:l}=e;Fy(e);const d=Xf(u),p=[se(n),s?se(s):"0x",c?se(c):"0x",a?se(a):"0x",r?se(r):"0x",i??"0x",o?se(o):"0x",l??"0x",d,...cl(e,t)];return Ur(["0x02",ii(p)])}function tD(e,t){const{chainId:n,gas:r,data:s,nonce:i,to:o,value:a,accessList:c,gasPrice:u}=e;Y$(e);const l=Xf(c),d=[se(n),i?se(i):"0x",u?se(u):"0x",r?se(r):"0x",o??"0x",a?se(a):"0x",s??"0x",l,...cl(e,t)];return Ur(["0x01",ii(d)])}function nD(e,t){const{chainId:n=0,gas:r,data:s,nonce:i,to:o,value:a,gasPrice:c}=e;J$(e);let u=[i?se(i):"0x",c?se(c):"0x",r?se(r):"0x",o??"0x",a?se(a):"0x",s??"0x"];if(t){const l=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(t.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+t.v-27n);const h=27n+(t.v===27n?0n:1n);if(t.v!==h)throw new L9({v:t.v});return h})(),d=Lr(t.r),p=Lr(t.s);u=[...u,se(l),d==="0x00"?"0x":d,p==="0x00"?"0x":p]}else n>0&&(u=[...u,se(n),"0x","0x"]);return ii(u)}function cl(e,t){const n=t??e,{v:r,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof r>"u"&&typeof s>"u")return[];const i=Lr(n.r),o=Lr(n.s);return[typeof s=="number"?s?se(1):"0x":r===0n?"0x":r===1n?se(1):r===27n?"0x":se(1),i==="0x00"?"0x":i,o==="0x00"?"0x":o]}function rD(e){if(!e||e.length===0)return[];const t=[];for(const n of e){const{chainId:r,nonce:s,...i}=n,o=n.address;t.push([r?Ke(r):"0x",o,s?Ke(s):"0x",...cl({},i)])}return t}async function sD({address:e,authorization:t,signature:n}){return el(Ea(e),await $f({authorization:t,signature:n}))}const Pl=new Hu(8192);function iD(e,{enabled:t=!0,id:n}){if(!t||!n)return e();if(Pl.get(n))return Pl.get(n);const r=e().finally(()=>Pl.delete(n));return Pl.set(n,r),r}function oD(e,t={}){return async(n,r={})=>{var d;const{dedupe:s=!1,methods:i,retryDelay:o=150,retryCount:a=3,uid:c}={...t,...r},{method:u}=n;if((d=i==null?void 0:i.exclude)!=null&&d.includes(u))throw new io(new Error("method not supported"),{method:u});if(i!=null&&i.include&&!i.include.includes(u))throw new io(new Error("method not supported"),{method:u});const l=s?qa(`${c}.${mn(n)}`):void 0;return iD(()=>Gd(async()=>{try{return await e(n)}catch(p){const h=p;switch(h.code){case tu.code:throw new tu(h);case nu.code:throw new nu(h);case ru.code:throw new ru(h,{method:n.method});case su.code:throw new su(h);case Bo.code:throw new Bo(h);case Oo.code:throw new Oo(h);case iu.code:throw new iu(h);case ou.code:throw new ou(h);case au.code:throw new au(h);case io.code:throw new io(h,{method:n.method});case Ha.code:throw new Ha(h);case cu.code:throw new cu(h);case _a.code:throw new _a(h);case uu.code:throw new uu(h);case lu.code:throw new lu(h);case du.code:throw new du(h);case fu.code:throw new fu(h);case hu.code:throw new hu(h);case Ga.code:throw new Ga(h);case pu.code:throw new pu(h);case mu.code:throw new mu(h);case gu.code:throw new gu(h);case yu.code:throw new yu(h);case bu.code:throw new bu(h);case Ka.code:throw new Ka(h);case 5e3:throw new _a(h);default:throw p instanceof Q?p:new q9(h)}}},{delay:({count:p,error:h})=>{var g;if(h&&h instanceof Vc){const y=(g=h==null?void 0:h.headers)==null?void 0:g.get("Retry-After");if(y!=null&&y.match(/\d/))return Number.parseInt(y,10)*1e3}return~~(1<<p)*o},retryCount:a,shouldRetry:({error:p})=>aD(p)}),{enabled:s,id:l})}}function aD(e){return"code"in e&&typeof e.code=="number"?e.code===-1||e.code===Ha.code||e.code===Bo.code:e instanceof Vc&&e.status?e.status===403||e.status===408||e.status===413||e.status===429||e.status===500||e.status===502||e.status===503||e.status===504:!0}function Xn(e){return{formatters:void 0,fees:void 0,serializers:void 0,...e}}function cD(e,{errorInstance:t=new Error("timed out"),timeout:n,signal:r}){return new Promise((s,i)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r&&a.abort()},n)),s(await e({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&i(t),i(a)}finally{clearTimeout(o)}})()})}function uD(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Gw=uD();function lD(e,t={}){return{async request(n){var p;const{body:r,fetchFn:s=t.fetchFn??fetch,onRequest:i=t.onRequest,onResponse:o=t.onResponse,timeout:a=t.timeout??1e4}=n,c={...t.fetchOptions??{},...n.fetchOptions??{}},{headers:u,method:l,signal:d}=c;try{const h=await cD(async({signal:y})=>{const E={...c,body:Array.isArray(r)?mn(r.map(T=>({jsonrpc:"2.0",id:T.id??Gw.take(),...T}))):mn({jsonrpc:"2.0",id:r.id??Gw.take(),...r}),headers:{"Content-Type":"application/json",...u},method:l||"POST",signal:d||(a>0?y:null)},S=new Request(e,E),M=await(i==null?void 0:i(S,E))??{...E,url:e};return await s(M.url??e,M)},{errorInstance:new Tw({body:r,url:e}),timeout:a,signal:!0});o&&await o(h);let g;if((p=h.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(y){if(h.ok)throw y;g={error:g}}}if(!h.ok)throw new Vc({body:r,details:mn(g.error)||h.statusText,headers:h.headers,status:h.status,url:e});return g}catch(h){throw h instanceof Vc||h instanceof Tw?h:new Vc({body:r,cause:h,url:e})}}}}const dD=`Ethereum Signed Message:
`;function fD(e){const t=typeof e=="string"?qa(e):typeof e.raw=="string"?e.raw:dn(e.raw),n=qa(`${dD}${At(t)}`);return $r([n,t])}function Vy(e,t){return wn(fD(e),t)}class hD extends Q{constructor({domain:t}){super(`Invalid domain "${mn(t)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class pD extends Q{constructor({primaryType:t,types:n}){super(`Invalid primary type \`${t}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class mD extends Q{constructor({type:t}){super(`Struct type "${t}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function gD(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(c,u)=>{const l={...u};for(const d of c){const{name:p,type:h}=d;h==="address"&&(l[p]=l[p].toLowerCase())}return l},o=s.EIP712Domain?t?i(s.EIP712Domain,t):{}:{},a=(()=>{if(r!=="EIP712Domain")return i(s[r],n)})();return mn({domain:o,message:a,primaryType:r,types:s})}function D5(e){const{domain:t,message:n,primaryType:r,types:s}=e,i=(o,a)=>{for(const c of o){const{name:u,type:l}=c,d=a[u],p=l.match(ES);if(p&&(typeof d=="number"||typeof d=="bigint")){const[y,E,S]=p;se(d,{signed:E==="int",size:Number.parseInt(S,10)/8})}if(l==="address"&&typeof d=="string"&&!wt(d))throw new un({address:d});const h=l.match(i9);if(h){const[y,E]=h;if(E&&At(d)!==Number.parseInt(E,10))throw new $L({expectedSize:Number.parseInt(E,10),givenSize:At(d)})}const g=s[l];g&&(yD(l),i(g,d))}};if(s.EIP712Domain&&t){if(typeof t!="object")throw new hD({domain:t});i(s.EIP712Domain,t)}if(r!=="EIP712Domain")if(s[r])i(s[r],n);else throw new pD({primaryType:r,types:s})}function z5({domain:e}){return[typeof(e==null?void 0:e.name)=="string"&&{name:"name",type:"string"},(e==null?void 0:e.version)&&{name:"version",type:"string"},(typeof(e==null?void 0:e.chainId)=="number"||typeof(e==null?void 0:e.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(e==null?void 0:e.verifyingContract)&&{name:"verifyingContract",type:"address"},(e==null?void 0:e.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function yD(e){if(e==="address"||e==="bool"||e==="string"||e.startsWith("bytes")||e.startsWith("uint")||e.startsWith("int"))throw new mD({type:e})}function U5(e){const{domain:t={},message:n,primaryType:r}=e,s={EIP712Domain:z5({domain:t}),...e.types};D5({domain:t,message:n,primaryType:r,types:s});const i=["0x1901"];return t&&i.push(bD({domain:t,types:s})),r!=="EIP712Domain"&&i.push(F5({data:n,primaryType:r,types:s})),wn($r(i))}function bD({domain:e,types:t}){return F5({data:e,primaryType:"EIP712Domain",types:t})}function F5({data:e,primaryType:t,types:n}){const r=W5({data:e,primaryType:t,types:n});return wn(r)}function W5({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[wD({primaryType:t,types:n})];for(const i of n[t]){const[o,a]=q5({types:n,name:i.name,type:i.type,value:e[i.name]});r.push(o),s.push(a)}return Di(r,s)}function wD({primaryType:e,types:t}){const n=Ke(xD({primaryType:e,types:t}));return wn(n)}function xD({primaryType:e,types:t}){let n="";const r=V5({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const i of s)n+=`${i}(${t[i].map(({name:o,type:a})=>`${a} ${o}`).join(",")})`;return n}function V5({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const i of t[s])V5({primaryType:i.type,types:t},n);return n}function q5({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},wn(W5({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},wn(r)];if(n==="string")return[{type:"bytes32"},wn(Ke(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),i=r.map(o=>q5({name:t,type:s,types:e,value:o}));return[{type:"bytes32"},wn(Di(i.map(([o])=>o),i.map(([,o])=>o)))]}return[{type:n},r]}const Kw="0x0000000000000000000000000000000000000000000000000000000000000000",vD="1.1.1";class Nn extends Error{constructor(t,n={}){var o;const r=n.cause instanceof Nn?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof Nn&&n.cause.docsPath||n.docsPath,i=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...r?[`Details: ${r}`]:[],`Version: abitype@${vD}`].join(`
`);super(i),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}}function hi(e,t){const n=e.exec(t);return n==null?void 0:n.groups}const H5=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,G5=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,K5=/^\(.+?\).*?$/,Zw=/^tuple(?<array>(\[(\d*)\])*)$/;function Am(e){let t=e.type;if(Zw.test(e.type)&&"components"in e){t="(";const n=e.components.length;for(let s=0;s<n;s++){const i=e.components[s];t+=Am(i),s<n-1&&(t+=", ")}const r=hi(Zw,e.type);return t+=`)${(r==null?void 0:r.array)??""}`,Am({...e,type:t})}return"indexed"in e&&e.indexed&&(t=`${t} indexed`),e.name?`${t} ${e.name}`:t}function la(e){let t="";const n=e.length;for(let r=0;r<n;r++){const s=e[r];t+=Am(s),r!==n-1&&(t+=", ")}return t}function Im(e){var t;return e.type==="function"?`function ${e.name}(${la(e.inputs)})${e.stateMutability&&e.stateMutability!=="nonpayable"?` ${e.stateMutability}`:""}${(t=e.outputs)!=null&&t.length?` returns (${la(e.outputs)})`:""}`:e.type==="event"?`event ${e.name}(${la(e.inputs)})`:e.type==="error"?`error ${e.name}(${la(e.inputs)})`:e.type==="constructor"?`constructor(${la(e.inputs)})${e.stateMutability==="payable"?" payable":""}`:e.type==="fallback"?`fallback() external${e.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Z5=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function ED(e){return Z5.test(e)}function SD(e){return hi(Z5,e)}const Y5=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function _D(e){return Y5.test(e)}function AD(e){return hi(Y5,e)}const J5=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function ID(e){return J5.test(e)}function TD(e){return hi(J5,e)}const Q5=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function qy(e){return Q5.test(e)}function RD(e){return hi(Q5,e)}const X5=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function ND(e){return X5.test(e)}function CD(e){return hi(X5,e)}const e_=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function MD(e){return e_.test(e)}function kD(e){return hi(e_,e)}const BD=/^receive\(\) external payable$/;function OD(e){return BD.test(e)}const Yw=new Set(["memory","indexed","storage","calldata"]),PD=new Set(["indexed"]),Tm=new Set(["calldata","memory","storage"]);class LD extends Nn{constructor({signature:t}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class jD extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class $D extends Nn{constructor({type:t}){super("Unknown type.",{metaMessages:[`Type "${t}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class DD extends Nn{constructor({params:t}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(t,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class zD extends Nn{constructor({param:t}){super("Invalid ABI parameter.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class UD extends Nn{constructor({param:t,name:n}){super("Invalid ABI parameter.",{details:t,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class FD extends Nn{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class WD extends Nn{constructor({param:t,type:n,modifier:r}){super("Invalid ABI parameter.",{details:t,metaMessages:[`Modifier "${r}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${r}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class VD extends Nn{constructor({abiParameter:t}){super("Invalid ABI parameter.",{details:JSON.stringify(t,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class pc extends Nn{constructor({signature:t,type:n}){super(`Invalid ${n} signature.`,{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class qD extends Nn{constructor({signature:t}){super("Unknown signature.",{details:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class HD extends Nn{constructor({signature:t}){super("Invalid struct signature.",{details:t,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class GD extends Nn{constructor({type:t}){super("Circular reference detected.",{metaMessages:[`Struct "${t}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class KD extends Nn{constructor({current:t,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${t.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function ZD(e,t,n){let r="";if(n)for(const s of Object.entries(n)){if(!s)continue;let i="";for(const o of s[1])i+=`[${o.type}${o.name?`:${o.name}`:""}]`;r+=`(${s[0]}{${i}})`}return t?`${t}:${e}${r}`:e}const T0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Jw(e,t={}){if(ID(e))return YD(e,t);if(_D(e))return JD(e,t);if(ED(e))return QD(e,t);if(ND(e))return XD(e,t);if(MD(e))return ez(e);if(OD(e))return{type:"receive",stateMutability:"payable"};throw new qD({signature:e})}function YD(e,t={}){const n=TD(e);if(!n)throw new pc({signature:e,type:"function"});const r=wr(n.parameters),s=[],i=r.length;for(let a=0;a<i;a++)s.push(ai(r[a],{modifiers:Tm,structs:t,type:"function"}));const o=[];if(n.returns){const a=wr(n.returns),c=a.length;for(let u=0;u<c;u++)o.push(ai(a[u],{modifiers:Tm,structs:t,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:o}}function JD(e,t={}){const n=AD(e);if(!n)throw new pc({signature:e,type:"event"});const r=wr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ai(r[o],{modifiers:PD,structs:t,type:"event"}));return{name:n.name,type:"event",inputs:s}}function QD(e,t={}){const n=SD(e);if(!n)throw new pc({signature:e,type:"error"});const r=wr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ai(r[o],{structs:t,type:"error"}));return{name:n.name,type:"error",inputs:s}}function XD(e,t={}){const n=CD(e);if(!n)throw new pc({signature:e,type:"constructor"});const r=wr(n.parameters),s=[],i=r.length;for(let o=0;o<i;o++)s.push(ai(r[o],{structs:t,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function ez(e){const t=kD(e);if(!t)throw new pc({signature:e,type:"fallback"});return{type:"fallback",stateMutability:t.stateMutability??"nonpayable"}}const tz=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,nz=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,rz=/^u?int$/;function ai(e,t){var d,p;const n=ZD(e,t==null?void 0:t.type,t==null?void 0:t.structs);if(T0.has(n))return T0.get(n);const r=K5.test(e),s=hi(r?nz:tz,e);if(!s)throw new zD({param:e});if(s.name&&iz(s.name))throw new UD({param:e,name:s.name});const i=s.name?{name:s.name}:{},o=s.modifier==="indexed"?{indexed:!0}:{},a=(t==null?void 0:t.structs)??{};let c,u={};if(r){c="tuple";const h=wr(s.type),g=[],y=h.length;for(let E=0;E<y;E++)g.push(ai(h[E],{structs:a}));u={components:g}}else if(s.type in a)c="tuple",u={components:a[s.type]};else if(rz.test(s.type))c=`${s.type}256`;else if(s.type==="address payable")c="address";else if(c=s.type,(t==null?void 0:t.type)!=="struct"&&!t_(c))throw new $D({type:c});if(s.modifier){if(!((p=(d=t==null?void 0:t.modifiers)==null?void 0:d.has)!=null&&p.call(d,s.modifier)))throw new FD({param:e,type:t==null?void 0:t.type,modifier:s.modifier});if(Tm.has(s.modifier)&&!oz(c,!!s.array))throw new WD({param:e,type:t==null?void 0:t.type,modifier:s.modifier})}const l={type:`${c}${s.array??""}`,...i,...o,...u};return T0.set(n,l),l}function wr(e,t=[],n="",r=0){const s=e.trim().length;for(let i=0;i<s;i++){const o=e[i],a=e.slice(i+1);switch(o){case",":return r===0?wr(a,[...t,n.trim()]):wr(a,t,`${n}${o}`,r);case"(":return wr(a,t,`${n}${o}`,r+1);case")":return wr(a,t,`${n}${o}`,r-1);default:return wr(a,t,`${n}${o}`,r)}}if(n==="")return t;if(r!==0)throw new KD({current:n,depth:r});return t.push(n.trim()),t}function t_(e){return e==="address"||e==="bool"||e==="function"||e==="string"||H5.test(e)||G5.test(e)}const sz=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function iz(e){return e==="address"||e==="bool"||e==="function"||e==="string"||e==="tuple"||H5.test(e)||G5.test(e)||sz.test(e)}function oz(e,t){return t||e==="bytes"||e==="string"||e==="tuple"}function n_(e){const t={},n=e.length;for(let o=0;o<n;o++){const a=e[o];if(!qy(a))continue;const c=RD(a);if(!c)throw new pc({signature:a,type:"struct"});const u=c.properties.split(";"),l=[],d=u.length;for(let p=0;p<d;p++){const g=u[p].trim();if(!g)continue;const y=ai(g,{type:"struct"});l.push(y)}if(!l.length)throw new HD({signature:a});t[c.name]=l}const r={},s=Object.entries(t),i=s.length;for(let o=0;o<i;o++){const[a,c]=s[o];r[a]=r_(c,t)}return r}const az=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function r_(e,t,n=new Set){const r=[],s=e.length;for(let i=0;i<s;i++){const o=e[i];if(K5.test(o.type))r.push(o);else{const c=hi(az,o.type);if(!(c!=null&&c.type))throw new VD({abiParameter:o});const{array:u,type:l}=c;if(l in t){if(n.has(l))throw new GD({type:l});r.push({...o,type:`tuple${u??""}`,components:r_(t[l]??[],t,new Set([...n,l]))})}else if(t_(l))r.push(o);else throw new jD({type:l})}}return r}function Qw(e){let t;if(typeof e=="string")t=Jw(e);else{const n=n_(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(!qy(i)){t=Jw(i,n);break}}}if(!t)throw new LD({signature:e});return t}function Xw(e){const t=[];if(typeof e=="string"){const n=wr(e),r=n.length;for(let s=0;s<r;s++)t.push(ai(n[s],{modifiers:Yw}))}else{const n=n_(e),r=e.length;for(let s=0;s<r;s++){const i=e[s];if(qy(i))continue;const o=wr(i),a=o.length;for(let c=0;c<a;c++)t.push(ai(o[c],{modifiers:Yw,structs:n}))}}if(t.length===0)throw new DD({params:e});return t}class cz extends Map{constructor(t){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=t}get(t){const n=super.get(t);return super.has(t)&&n!==void 0&&(this.delete(t),super.set(t,n)),n}set(t,n){if(super.set(t,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const uz={checksum:new cz(8192)},R0=uz.checksum;function s_(e,t={}){const{as:n=typeof e=="string"?"Hex":"Bytes"}=t,r=sE(Cj(e));return n==="Bytes"?r:rs(r)}const lz=/^0x[a-fA-F0-9]{40}$/;function eh(e,t={}){const{strict:n=!0}=t;if(!lz.test(e))throw new ex({address:e,cause:new dz});if(n){if(e.toLowerCase()===e)return;if(i_(e)!==e)throw new ex({address:e,cause:new fz})}}function i_(e){if(R0.has(e))return R0.get(e);eh(e,{strict:!1});const t=e.substring(2).toLowerCase(),n=s_(kj(t),{as:"Bytes"}),r=t.split("");for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&r[i]&&(r[i]=r[i].toUpperCase()),(n[i>>1]&15)>=8&&r[i+1]&&(r[i+1]=r[i+1].toUpperCase());const s=`0x${r.join("")}`;return R0.set(e,s),s}function Rm(e,t={}){const{strict:n=!0}=t??{};try{return eh(e,{strict:n}),!0}catch{return!1}}class ex extends qe{constructor({address:t,cause:n}){super(`Address "${t}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class dz extends qe{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class fz extends qe{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const hz=/^(.*)\[([0-9]*)\]$/,pz=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,o_=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,tx=2n**256n-1n;function Ia(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=Ky(t.type);if(i){const[o,a]=i;return gz(e,{...t,type:a},{checksumAddress:r,length:o,staticPosition:s})}if(t.type==="tuple")return xz(e,t,{checksumAddress:r,staticPosition:s});if(t.type==="address")return mz(e,{checksum:r});if(t.type==="bool")return yz(e);if(t.type.startsWith("bytes"))return bz(e,t,{staticPosition:s});if(t.type.startsWith("uint")||t.type.startsWith("int"))return wz(e,t);if(t.type==="string")return vz(e,{staticPosition:s});throw new Yy(t.type)}const nx=32,Nm=32;function mz(e,t={}){const{checksum:n=!1}=t,r=e.readBytes(32);return[(i=>n?i_(i):i)(rs(Oj(r,-20))),32]}function gz(e,t,n){const{checksumAddress:r,length:s,staticPosition:i}=n;if(!s){const c=ei(e.readBytes(Nm)),u=i+c,l=u+nx;e.setPosition(u);const d=ei(e.readBytes(nx)),p=Eu(t);let h=0;const g=[];for(let y=0;y<d;++y){e.setPosition(l+(p?y*32:h));const[E,S]=Ia(e,t,{checksumAddress:r,staticPosition:l});h+=S,g.push(E)}return e.setPosition(i+32),[g,32]}if(Eu(t)){const c=ei(e.readBytes(Nm)),u=i+c,l=[];for(let d=0;d<s;++d){e.setPosition(u+d*32);const[p]=Ia(e,t,{checksumAddress:r,staticPosition:u});l.push(p)}return e.setPosition(i+32),[l,32]}let o=0;const a=[];for(let c=0;c<s;++c){const[u,l]=Ia(e,t,{checksumAddress:r,staticPosition:i+o});o+=l,a.push(u)}return[a,o]}function yz(e){return[Lj(e.readBytes(32),{size:32}),32]}function bz(e,t,{staticPosition:n}){const[r,s]=t.type.split("bytes");if(!s){const o=ei(e.readBytes(32));e.setPosition(n+o);const a=ei(e.readBytes(32));if(a===0)return e.setPosition(n+32),["0x",32];const c=e.readBytes(a);return e.setPosition(n+32),[rs(c),32]}return[rs(e.readBytes(Number.parseInt(s,10),32)),32]}function wz(e,t){const n=t.type.startsWith("int"),r=Number.parseInt(t.type.split("int")[1]||"256",10),s=e.readBytes(32);return[r>48?Pj(s,{signed:n}):ei(s,{signed:n}),32]}function xz(e,t,n){const{checksumAddress:r,staticPosition:s}=n,i=t.components.length===0||t.components.some(({name:c})=>!c),o=i?[]:{};let a=0;if(Eu(t)){const c=ei(e.readBytes(Nm)),u=s+c;for(let l=0;l<t.components.length;++l){const d=t.components[l];e.setPosition(u+a);const[p,h]=Ia(e,d,{checksumAddress:r,staticPosition:u});a+=h,o[i?l:d==null?void 0:d.name]=p}return e.setPosition(s+32),[o,32]}for(let c=0;c<t.components.length;++c){const u=t.components[c],[l,d]=Ia(e,u,{checksumAddress:r,staticPosition:s});o[i?c:u==null?void 0:u.name]=l,a+=d}return[o,a]}function vz(e,{staticPosition:t}){const n=ei(e.readBytes(32)),r=t+n;e.setPosition(r);const s=ei(e.readBytes(32));if(s===0)return e.setPosition(t+32),["",32];const i=e.readBytes(s,32),o=jj(c5(i));return e.setPosition(t+32),[o,32]}function Ez({checksumAddress:e,parameters:t,values:n}){const r=[];for(let s=0;s<t.length;s++)r.push(Hy({checksumAddress:e,parameter:t[s],value:n[s]}));return r}function Hy({checksumAddress:e=!1,parameter:t,value:n}){const r=t,s=Ky(r.type);if(s){const[i,o]=s;return _z(n,{checksumAddress:e,length:i,parameter:{...r,type:o}})}if(r.type==="tuple")return Nz(n,{checksumAddress:e,parameter:r});if(r.type==="address")return Sz(n,{checksum:e});if(r.type==="bool")return Iz(n);if(r.type.startsWith("uint")||r.type.startsWith("int")){const i=r.type.startsWith("int"),[,,o="256"]=o_.exec(r.type)??[];return Tz(n,{signed:i,size:Number(o)})}if(r.type.startsWith("bytes"))return Az(n,{type:r.type});if(r.type==="string")return Rz(n);throw new Yy(r.type)}function Gy(e){let t=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?t+=32:t+=Er(a)}const n=[],r=[];let s=0;for(let i=0;i<e.length;i++){const{dynamic:o,encoded:a}=e[i];o?(n.push(Hn(t+s,{size:32})),r.push(a),s+=Er(a)):n.push(a)}return ns(...n,...r)}function Sz(e,t){const{checksum:n=!1}=t;return eh(e,{strict:n}),{dynamic:!1,encoded:jo(e.toLowerCase())}}function _z(e,t){const{checksumAddress:n,length:r,parameter:s}=t,i=r===null;if(!Array.isArray(e))throw new $z(e);if(!i&&e.length!==r)throw new jz({expectedLength:r,givenLength:e.length,type:`${s.type}[${r}]`});let o=!1;const a=[];for(let c=0;c<e.length;c++){const u=Hy({checksumAddress:n,parameter:s,value:e[c]});u.dynamic&&(o=!0),a.push(u)}if(i||o){const c=Gy(a);if(i){const u=Hn(a.length,{size:32});return{dynamic:!0,encoded:a.length>0?ns(u,c):u}}if(o)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ns(...a.map(({encoded:c})=>c))}}function Az(e,{type:t}){const[,n]=t.split("bytes"),r=Er(e);if(!n){let s=e;return r%32!==0&&(s=$o(s,Math.ceil((e.length-2)/2/32)*32)),{dynamic:!0,encoded:ns(jo(Hn(r,{size:32})),s)}}if(r!==Number.parseInt(n,10))throw new c_({expectedSize:Number.parseInt(n,10),value:e});return{dynamic:!1,encoded:$o(e)}}function Iz(e){if(typeof e!="boolean")throw new qe(`Invalid boolean value: "${e}" (type: ${typeof e}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:jo(u5(e))}}function Tz(e,{signed:t,size:n}){if(typeof n=="number"){const r=2n**(BigInt(n)-(t?1n:0n))-1n,s=t?-r-1n:0n;if(e>r||e<s)throw new f5({max:r.toString(),min:s.toString(),signed:t,size:n/8,value:e.toString()})}return{dynamic:!1,encoded:Hn(e,{size:32,signed:t})}}function Rz(e){const t=Oy(e),n=Math.ceil(Er(t)/32),r=[];for(let s=0;s<n;s++)r.push($o(ys(t,s*32,(s+1)*32)));return{dynamic:!0,encoded:ns($o(Hn(Er(t),{size:32})),...r)}}function Nz(e,t){const{checksumAddress:n,parameter:r}=t;let s=!1;const i=[];for(let o=0;o<r.components.length;o++){const a=r.components[o],c=Array.isArray(e)?o:a.name,u=Hy({checksumAddress:n,parameter:a,value:e[c]});i.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Gy(i):ns(...i.map(({encoded:o})=>o))}}function Ky(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Eu(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(Eu);const n=Ky(e.type);return!!(n&&Eu({...e,type:n[1]}))}const Cz={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new Bz({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(e){if(e<0||e>this.bytes.length-1)throw new kz({length:this.bytes.length,position:e})},decrementPosition(e){if(e<0)throw new rx({offset:e});const t=this.position-e;this.assertPosition(t),this.position=t},getReadCount(e){return this.positionReadCount.get(e||this.position)||0},incrementPosition(e){if(e<0)throw new rx({offset:e});const t=this.position+e;this.assertPosition(t),this.position=t},inspectByte(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectBytes(e,t){const n=t??this.position;return this.assertPosition(n+e-1),this.bytes.subarray(n,n+e)},inspectUint8(e){const t=e??this.position;return this.assertPosition(t),this.bytes[t]},inspectUint16(e){const t=e??this.position;return this.assertPosition(t+1),this.dataView.getUint16(t)},inspectUint24(e){const t=e??this.position;return this.assertPosition(t+2),(this.dataView.getUint16(t)<<8)+this.dataView.getUint8(t+2)},inspectUint32(e){const t=e??this.position;return this.assertPosition(t+3),this.dataView.getUint32(t)},pushByte(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushBytes(e){this.assertPosition(this.position+e.length-1),this.bytes.set(e,this.position),this.position+=e.length},pushUint8(e){this.assertPosition(this.position),this.bytes[this.position]=e,this.position++},pushUint16(e){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,e),this.position+=2},pushUint24(e){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,e>>8),this.dataView.setUint8(this.position+2,e&255),this.position+=3},pushUint32(e){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,e),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const e=this.inspectByte();return this.position++,e},readBytes(e,t){this.assertReadLimit(),this._touch();const n=this.inspectBytes(e);return this.position+=t??e,n},readUint8(){this.assertReadLimit(),this._touch();const e=this.inspectUint8();return this.position+=1,e},readUint16(){this.assertReadLimit(),this._touch();const e=this.inspectUint16();return this.position+=2,e},readUint24(){this.assertReadLimit(),this._touch();const e=this.inspectUint24();return this.position+=3,e},readUint32(){this.assertReadLimit(),this._touch();const e=this.inspectUint32();return this.position+=4,e},get remaining(){return this.bytes.length-this.position},setPosition(e){const t=this.position;return this.assertPosition(e),this.position=e,()=>this.position=t},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const e=this.getReadCount();this.positionReadCount.set(this.position,e+1),e>0&&this.recursiveReadCount++}};function Mz(e,{recursiveReadLimit:t=8192}={}){const n=Object.create(Cz);return n.bytes=e,n.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=t,n}class rx extends qe{constructor({offset:t}){super(`Offset \`${t}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class kz extends qe{constructor({length:t,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class Bz extends qe{constructor({count:t,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${t}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function Oz(e,t,n={}){const{as:r="Array",checksumAddress:s=!1}=n,i=typeof t=="string"?a5(t):t,o=Mz(i);if(ga(i)===0&&e.length>0)throw new Lz;if(ga(i)&&ga(i)<32)throw new Pz({data:typeof t=="string"?t:rs(t),parameters:e,size:ga(i)});let a=0;const c=r==="Array"?[]:{};for(let u=0;u<e.length;++u){const l=e[u];o.setPosition(a);const[d,p]=Ia(o,l,{checksumAddress:s,staticPosition:0});a+=p,r==="Array"?c.push(d):c[l.name??u]=d}return c}function Zy(e,t,n){const{checksumAddress:r=!1}={};if(e.length!==t.length)throw new u_({expectedLength:e.length,givenLength:t.length});const s=Ez({checksumAddress:r,parameters:e,values:t}),i=Gy(s);return i.length===0?"0x":i}function Cm(e,t){if(e.length!==t.length)throw new u_({expectedLength:e.length,givenLength:t.length});const n=[];for(let r=0;r<e.length;r++){const s=e[r],i=t[r];n.push(Cm.encode(s,i))}return ns(...n)}(function(e){function t(n,r,s=!1){if(n==="address"){const c=r;return eh(c),jo(c.toLowerCase(),s?32:0)}if(n==="string")return Oy(r);if(n==="bytes")return r;if(n==="bool")return jo(u5(r),s?32:1);const i=n.match(o_);if(i){const[c,u,l="256"]=i,d=Number.parseInt(l,10)/8;return Hn(r,{size:s?32:d,signed:u==="int"})}const o=n.match(pz);if(o){const[c,u]=o;if(Number.parseInt(u,10)!==(r.length-2)/2)throw new c_({expectedSize:Number.parseInt(u,10),value:r});return $o(r,s?32:0)}const a=n.match(hz);if(a&&Array.isArray(r)){const[c,u]=a,l=[];for(let d=0;d<r.length;d++)l.push(t(u,r[d],!0));return l.length===0?"0x":ns(...l)}throw new Yy(n)}e.encode=t})(Cm||(Cm={}));function a_(e){return Array.isArray(e)&&typeof e[0]=="string"||typeof e=="string"?Xw(e):e}class Pz extends qe{constructor({data:t,parameters:n,size:r}){super(`Data size of ${r} bytes is too small for given parameters.`,{metaMessages:[`Params: (${la(n)})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class Lz extends qe{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class jz extends qe{constructor({expectedLength:t,givenLength:n,type:r}){super(`Array length mismatch for type \`${r}\`. Expected: \`${t}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class c_ extends qe{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${Er(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class u_ extends qe{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class $z extends qe{constructor(t){super(`Value \`${t}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class Yy extends qe{constructor(t){super(`Type \`${t}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const or=BigInt(0),Zn=BigInt(1),oo=BigInt(2),Dz=BigInt(3),l_=BigInt(4),d_=BigInt(5),f_=BigInt(8);function nr(e,t){const n=e%t;return n>=or?n:t+n}function Ir(e,t,n){let r=e;for(;t-- >or;)r*=r,r%=n;return r}function Mm(e,t){if(e===or)throw new Error("invert: expected non-zero number");if(t<=or)throw new Error("invert: expected positive modulus, got "+t);let n=nr(e,t),r=t,s=or,i=Zn;for(;n!==or;){const a=r/n,c=r%n,u=s-i*a;r=n,n=c,s=i,i=u}if(r!==Zn)throw new Error("invert: does not exist");return nr(s,t)}function h_(e,t){const n=(e.ORDER+Zn)/l_,r=e.pow(t,n);if(!e.eql(e.sqr(r),t))throw new Error("Cannot find square root");return r}function zz(e,t){const n=(e.ORDER-d_)/f_,r=e.mul(t,oo),s=e.pow(r,n),i=e.mul(t,s),o=e.mul(e.mul(i,oo),s),a=e.mul(i,e.sub(o,e.ONE));if(!e.eql(e.sqr(a),t))throw new Error("Cannot find square root");return a}function Uz(e){if(e<BigInt(3))throw new Error("sqrt is not defined for small field");let t=e-Zn,n=0;for(;t%oo===or;)t/=oo,n++;let r=oo;const s=Jy(e);for(;sx(s,r)===1;)if(r++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return h_;let i=s.pow(r,t);const o=(t+Zn)/oo;return function(c,u){if(c.is0(u))return u;if(sx(c,u)!==1)throw new Error("Cannot find square root");let l=n,d=c.mul(c.ONE,i),p=c.pow(u,t),h=c.pow(u,o);for(;!c.eql(p,c.ONE);){if(c.is0(p))return c.ZERO;let g=1,y=c.sqr(p);for(;!c.eql(y,c.ONE);)if(g++,y=c.sqr(y),g===l)throw new Error("Cannot find square root");const E=Zn<<BigInt(l-g-1),S=c.pow(d,E);l=g,d=c.sqr(S),p=c.mul(p,d),h=c.mul(h,S)}return h}}function Fz(e){return e%l_===Dz?h_:e%f_===d_?zz:Uz(e)}const Wz=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vz(e){const t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=Wz.reduce((r,s)=>(r[s]="function",r),t);return Vf(e,n)}function qz(e,t,n){if(n<or)throw new Error("invalid exponent, negatives unsupported");if(n===or)return e.ONE;if(n===Zn)return t;let r=e.ONE,s=t;for(;n>or;)n&Zn&&(r=e.mul(r,s)),s=e.sqr(s),n>>=Zn;return r}function p_(e,t,n=!1){const r=new Array(t.length).fill(n?e.ZERO:void 0),s=t.reduce((o,a,c)=>e.is0(a)?o:(r[c]=o,e.mul(o,a)),e.ONE),i=e.inv(s);return t.reduceRight((o,a,c)=>e.is0(a)?o:(r[c]=e.mul(o,r[c]),e.mul(o,a)),i),r}function sx(e,t){const n=(e.ORDER-Zn)/oo,r=e.pow(t,n),s=e.eql(r,e.ONE),i=e.eql(r,e.ZERO),o=e.eql(r,e.neg(e.ONE));if(!s&&!i&&!o)throw new Error("invalid Legendre symbol result");return s?1:i?0:-1}function m_(e,t){t!==void 0&&Ra(t);const n=t!==void 0?t:e.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function Jy(e,t,n=!1,r={}){if(e<=or)throw new Error("invalid field: expected ORDER > 0, got "+e);const{nBitLength:s,nByteLength:i}=m_(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:e,isLE:n,BITS:s,BYTES:i,MASK:Wf(s),ZERO:or,ONE:Zn,create:c=>nr(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return or<=c&&c<e},is0:c=>c===or,isOdd:c=>(c&Zn)===Zn,neg:c=>nr(-c,e),eql:(c,u)=>c===u,sqr:c=>nr(c*c,e),add:(c,u)=>nr(c+u,e),sub:(c,u)=>nr(c-u,e),mul:(c,u)=>nr(c*u,e),pow:(c,u)=>qz(a,c,u),div:(c,u)=>nr(c*Mm(u,e),e),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Mm(c,e),sqrt:r.sqrt||(c=>(o||(o=Fz(e)),o(a,c))),toBytes:c=>n?n5(c,i):nl(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return n?t5(c):mo(c)},invertBatch:c=>p_(a,c),cmov:(c,u,l)=>l?u:c});return Object.freeze(a)}function g_(e){if(typeof e!="bigint")throw new Error("field order must be bigint");const t=e.toString(2).length;return Math.ceil(t/8)}function y_(e){const t=g_(e);return t+Math.ceil(t/2)}function Hz(e,t,n=!1){const r=e.length,s=g_(t),i=y_(t);if(r<16||r<i||r>1024)throw new Error("expected "+i+"-1024 bytes of input, got "+r);const o=n?t5(e):mo(e),a=nr(o,t-Zn)+Zn;return n?n5(a,s):nl(a,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ix=BigInt(0),km=BigInt(1);function N0(e,t){const n=t.negate();return e?n:t}function b_(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function C0(e,t){b_(e,t);const n=Math.ceil(t/e)+1,r=2**(e-1),s=2**e,i=Wf(e),o=BigInt(e);return{windows:n,windowSize:r,mask:i,maxNumber:s,shiftBy:o}}function ox(e,t,n){const{windowSize:r,mask:s,maxNumber:i,shiftBy:o}=n;let a=Number(e&s),c=e>>o;a>r&&(a-=i,c+=km);const u=t*r,l=u+Math.abs(a)-1,d=a===0,p=a<0,h=t%2!==0;return{nextN:c,offset:l,isZero:d,isNeg:p,isNegF:h,offsetF:u}}function Gz(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((n,r)=>{if(!(n instanceof t))throw new Error("invalid point at index "+r)})}function Kz(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((n,r)=>{if(!t.isValid(n))throw new Error("invalid scalar at index "+r)})}const M0=new WeakMap,w_=new WeakMap;function k0(e){return w_.get(e)||1}function Zz(e,t){return{constTimeNegate:N0,hasPrecomputes(n){return k0(n)!==1},unsafeLadder(n,r,s=e.ZERO){let i=n;for(;r>ix;)r&km&&(s=s.add(i)),i=i.double(),r>>=km;return s},precomputeWindow(n,r){const{windows:s,windowSize:i}=C0(r,t),o=[];let a=n,c=a;for(let u=0;u<s;u++){c=a,o.push(c);for(let l=1;l<i;l++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,s){let i=e.ZERO,o=e.BASE;const a=C0(n,t);for(let c=0;c<a.windows;c++){const{nextN:u,offset:l,isZero:d,isNeg:p,isNegF:h,offsetF:g}=ox(s,c,a);s=u,d?o=o.add(N0(h,r[g])):i=i.add(N0(p,r[l]))}return{p:i,f:o}},wNAFUnsafe(n,r,s,i=e.ZERO){const o=C0(n,t);for(let a=0;a<o.windows&&s!==ix;a++){const{nextN:c,offset:u,isZero:l,isNeg:d}=ox(s,a,o);if(s=c,!l){const p=r[u];i=i.add(d?p.negate():p)}}return i},getPrecomputes(n,r,s){let i=M0.get(r);return i||(i=this.precomputeWindow(r,n),n!==1&&M0.set(r,s(i))),i},wNAFCached(n,r,s){const i=k0(n);return this.wNAF(i,this.getPrecomputes(i,n,s),r)},wNAFCachedUnsafe(n,r,s,i){const o=k0(n);return o===1?this.unsafeLadder(n,r,i):this.wNAFUnsafe(o,this.getPrecomputes(o,n,s),r,i)},setWindowSize(n,r){b_(r,t),w_.set(n,r),M0.delete(n)}}}function Yz(e,t,n,r){Gz(n,e),Kz(r,t);const s=n.length,i=r.length;if(s!==i)throw new Error("arrays of points and scalars must have equal length");const o=e.ZERO,a=wj(BigInt(s));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const u=Wf(c),l=new Array(Number(u)+1).fill(o),d=Math.floor((t.BITS-1)/c)*c;let p=o;for(let h=d;h>=0;h-=c){l.fill(o);for(let y=0;y<i;y++){const E=r[y],S=Number(E>>BigInt(h)&u);l[S]=l[S].add(n[y])}let g=o;for(let y=l.length-1,E=o;y>0;y--)E=E.add(l[y]),g=g.add(E);if(p=p.add(g),h!==0)for(let y=0;y<c;y++)p=p.double()}return p}function x_(e){return Vz(e.Fp),Vf(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...m_(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ax(e){e.lowS!==void 0&&xu("lowS",e.lowS),e.prehash!==void 0&&xu("prehash",e.prehash)}function Jz(e){const t=x_(e);Vf(t,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:r,a:s}=t;if(n){if(!r.eql(s,r.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...t})}class Qz extends Error{constructor(t=""){super(t)}}const Us={Err:Qz,_tlv:{encode:(e,t)=>{const{Err:n}=Us;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length&1)throw new n("tlv.encode: unpadded data");const r=t.length/2,s=kl(r);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const i=r>127?kl(s.length/2|128):"";return kl(e)+i+s+t},decode(e,t){const{Err:n}=Us;let r=0;if(e<0||e>256)throw new n("tlv.encode: wrong tag");if(t.length<2||t[r++]!==e)throw new n("tlv.decode: wrong tlv");const s=t[r++],i=!!(s&128);let o=0;if(!i)o=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=t.subarray(r,r+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const l of u)o=o<<8|l;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=t.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:t.subarray(r+o)}}},_int:{encode(e){const{Err:t}=Us;if(e<Gs)throw new t("integer: negative integers are not allowed");let n=kl(e);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new t("unexpected DER parsing assertion: unpadded hex");return n},decode(e){const{Err:t}=Us;if(e[0]&128)throw new t("invalid signature integer: negative");if(e[0]===0&&!(e[1]&128))throw new t("invalid signature integer: unnecessary leading zero");return mo(e)}},toSig(e){const{Err:t,_int:n,_tlv:r}=Us,s=Rr("signature",e),{v:i,l:o}=r.decode(48,s);if(o.length)throw new t("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,i),{v:u,l}=r.decode(2,c);if(l.length)throw new t("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(u)}},hexFromSig(e){const{_tlv:t,_int:n}=Us,r=t.encode(2,n.encode(e.r)),s=t.encode(2,n.encode(e.s)),i=r+s;return t.encode(48,i)}};function B0(e,t){return vu(nl(e,t))}const Gs=BigInt(0),bn=BigInt(1);BigInt(2);const O0=BigInt(3),Xz=BigInt(4);function e7(e){const t=Jz(e),{Fp:n}=t,r=Jy(t.n,t.nBitLength),s=t.toBytes||((_,T,O)=>{const $=T.toAffine();return qd(Uint8Array.from([4]),n.toBytes($.x),n.toBytes($.y))}),i=t.fromBytes||(_=>{const T=_.subarray(1),O=n.fromBytes(T.subarray(0,n.BYTES)),$=n.fromBytes(T.subarray(n.BYTES,2*n.BYTES));return{x:O,y:$}});function o(_){const{a:T,b:O}=t,$=n.sqr(_),D=n.mul($,_);return n.add(n.add(D,n.mul(_,T)),O)}function a(_,T){const O=n.sqr(T),$=o(_);return n.eql(O,$)}if(!a(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(t.a,O0),Xz),u=n.mul(n.sqr(t.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function l(_){return By(_,bn,t.n)}function d(_){const{allowedPrivateKeyLengths:T,nByteLength:O,wrapPrivateKey:$,n:D}=t;if(T&&typeof _!="bigint"){if(tl(_)&&(_=vu(_)),typeof _!="string"||!T.includes(_.length))throw new Error("invalid private key");_=_.padStart(O*2,"0")}let z;try{z=typeof _=="bigint"?_:mo(Rr("private key",_,O))}catch{throw new Error("invalid private key, expected hex or "+O+" bytes, got "+typeof _)}return $&&(z=nr(z,D)),Aa("private key",z,bn,D),z}function p(_){if(!(_ instanceof y))throw new Error("ProjectivePoint expected")}const h=jw((_,T)=>{const{px:O,py:$,pz:D}=_;if(n.eql(D,n.ONE))return{x:O,y:$};const z=_.is0();T==null&&(T=z?n.ONE:n.inv(D));const U=n.mul(O,T),K=n.mul($,T),W=n.mul(D,T);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(W,n.ONE))throw new Error("invZ was invalid");return{x:U,y:K}}),g=jw(_=>{if(_.is0()){if(t.allowInfinityPoint&&!n.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:T,y:O}=_.toAffine();if(!n.isValid(T)||!n.isValid(O))throw new Error("bad point: x or y not FE");if(!a(T,O))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class y{constructor(T,O,$){if(T==null||!n.isValid(T))throw new Error("x required");if(O==null||!n.isValid(O)||n.is0(O))throw new Error("y required");if($==null||!n.isValid($))throw new Error("z required");this.px=T,this.py=O,this.pz=$,Object.freeze(this)}static fromAffine(T){const{x:O,y:$}=T||{};if(!T||!n.isValid(O)||!n.isValid($))throw new Error("invalid affine point");if(T instanceof y)throw new Error("projective point not allowed");const D=z=>n.eql(z,n.ZERO);return D(O)&&D($)?y.ZERO:new y(O,$,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(T){const O=p_(n,T.map($=>$.pz));return T.map(($,D)=>$.toAffine(O[D])).map(y.fromAffine)}static fromHex(T){const O=y.fromAffine(i(Rr("pointHex",T)));return O.assertValidity(),O}static fromPrivateKey(T){return y.BASE.multiply(d(T))}static msm(T,O){return Yz(y,r,T,O)}_setWindowSize(T){M.setWindowSize(this,T)}assertValidity(){g(this)}hasEvenY(){const{y:T}=this.toAffine();if(n.isOdd)return!n.isOdd(T);throw new Error("Field doesn't support isOdd")}equals(T){p(T);const{px:O,py:$,pz:D}=this,{px:z,py:U,pz:K}=T,W=n.eql(n.mul(O,K),n.mul(z,D)),q=n.eql(n.mul($,K),n.mul(U,D));return W&&q}negate(){return new y(this.px,n.neg(this.py),this.pz)}double(){const{a:T,b:O}=t,$=n.mul(O,O0),{px:D,py:z,pz:U}=this;let K=n.ZERO,W=n.ZERO,q=n.ZERO,I=n.mul(D,D),f=n.mul(z,z),m=n.mul(U,U),v=n.mul(D,z);return v=n.add(v,v),q=n.mul(D,U),q=n.add(q,q),K=n.mul(T,q),W=n.mul($,m),W=n.add(K,W),K=n.sub(f,W),W=n.add(f,W),W=n.mul(K,W),K=n.mul(v,K),q=n.mul($,q),m=n.mul(T,m),v=n.sub(I,m),v=n.mul(T,v),v=n.add(v,q),q=n.add(I,I),I=n.add(q,I),I=n.add(I,m),I=n.mul(I,v),W=n.add(W,I),m=n.mul(z,U),m=n.add(m,m),I=n.mul(m,v),K=n.sub(K,I),q=n.mul(m,f),q=n.add(q,q),q=n.add(q,q),new y(K,W,q)}add(T){p(T);const{px:O,py:$,pz:D}=this,{px:z,py:U,pz:K}=T;let W=n.ZERO,q=n.ZERO,I=n.ZERO;const f=t.a,m=n.mul(t.b,O0);let v=n.mul(O,z),R=n.mul($,U),A=n.mul(D,K),B=n.add(O,$),j=n.add(z,U);B=n.mul(B,j),j=n.add(v,R),B=n.sub(B,j),j=n.add(O,D);let C=n.add(z,K);return j=n.mul(j,C),C=n.add(v,A),j=n.sub(j,C),C=n.add($,D),W=n.add(U,K),C=n.mul(C,W),W=n.add(R,A),C=n.sub(C,W),I=n.mul(f,j),W=n.mul(m,A),I=n.add(W,I),W=n.sub(R,I),I=n.add(R,I),q=n.mul(W,I),R=n.add(v,v),R=n.add(R,v),A=n.mul(f,A),j=n.mul(m,j),R=n.add(R,A),A=n.sub(v,A),A=n.mul(f,A),j=n.add(j,A),v=n.mul(R,j),q=n.add(q,v),v=n.mul(C,j),W=n.mul(B,W),W=n.sub(W,v),v=n.mul(B,R),I=n.mul(C,I),I=n.add(I,v),new y(W,q,I)}subtract(T){return this.add(T.negate())}is0(){return this.equals(y.ZERO)}wNAF(T){return M.wNAFCached(this,T,y.normalizeZ)}multiplyUnsafe(T){const{endo:O,n:$}=t;Aa("scalar",T,Gs,$);const D=y.ZERO;if(T===Gs)return D;if(this.is0()||T===bn)return this;if(!O||M.hasPrecomputes(this))return M.wNAFCachedUnsafe(this,T,y.normalizeZ);let{k1neg:z,k1:U,k2neg:K,k2:W}=O.splitScalar(T),q=D,I=D,f=this;for(;U>Gs||W>Gs;)U&bn&&(q=q.add(f)),W&bn&&(I=I.add(f)),f=f.double(),U>>=bn,W>>=bn;return z&&(q=q.negate()),K&&(I=I.negate()),I=new y(n.mul(I.px,O.beta),I.py,I.pz),q.add(I)}multiply(T){const{endo:O,n:$}=t;Aa("scalar",T,bn,$);let D,z;if(O){const{k1neg:U,k1:K,k2neg:W,k2:q}=O.splitScalar(T);let{p:I,f}=this.wNAF(K),{p:m,f:v}=this.wNAF(q);I=M.constTimeNegate(U,I),m=M.constTimeNegate(W,m),m=new y(n.mul(m.px,O.beta),m.py,m.pz),D=I.add(m),z=f.add(v)}else{const{p:U,f:K}=this.wNAF(T);D=U,z=K}return y.normalizeZ([D,z])[0]}multiplyAndAddUnsafe(T,O,$){const D=y.BASE,z=(K,W)=>W===Gs||W===bn||!K.equals(D)?K.multiplyUnsafe(W):K.multiply(W),U=z(this,O).add(z(T,$));return U.is0()?void 0:U}toAffine(T){return h(this,T)}isTorsionFree(){const{h:T,isTorsionFree:O}=t;if(T===bn)return!0;if(O)return O(y,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:T,clearCofactor:O}=t;return T===bn?this:O?O(y,this):this.multiplyUnsafe(t.h)}toRawBytes(T=!0){return xu("isCompressed",T),this.assertValidity(),s(y,this,T)}toHex(T=!0){return xu("isCompressed",T),vu(this.toRawBytes(T))}}y.BASE=new y(t.Gx,t.Gy,n.ONE),y.ZERO=new y(n.ZERO,n.ONE,n.ZERO);const{endo:E,nBitLength:S}=t,M=Zz(y,E?Math.ceil(S/2):S);return{CURVE:t,ProjectivePoint:y,normPrivateKeyToScalar:d,weierstrassEquation:o,isWithinCurveOrder:l}}function t7(e){const t=x_(e);return Vf(t,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...t})}function n7(e){const t=t7(e),{Fp:n,n:r,nByteLength:s,nBitLength:i}=t,o=n.BYTES+1,a=2*n.BYTES+1;function c(m){return nr(m,r)}function u(m){return Mm(m,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:h}=e7({...t,toBytes(m,v,R){const A=v.toAffine(),B=n.toBytes(A.x),j=qd;return xu("isCompressed",R),R?j(Uint8Array.from([v.hasEvenY()?2:3]),B):j(Uint8Array.from([4]),B,n.toBytes(A.y))},fromBytes(m){const v=m.length,R=m[0],A=m.subarray(1);if(v===o&&(R===2||R===3)){const B=mo(A);if(!By(B,bn,n.ORDER))throw new Error("Point is not on curve");const j=p(B);let C;try{C=n.sqrt(j)}catch(X){const ee=X instanceof Error?": "+X.message:"";throw new Error("Point is not on curve"+ee)}const b=(C&bn)===bn;return(R&1)===1!==b&&(C=n.neg(C)),{x:B,y:C}}else if(v===a&&R===4){const B=n.fromBytes(A.subarray(0,n.BYTES)),j=n.fromBytes(A.subarray(n.BYTES,2*n.BYTES));return{x:B,y:j}}else{const B=o,j=a;throw new Error("invalid Point, expected length of "+B+", or uncompressed "+j+", got "+v)}}});function g(m){const v=r>>bn;return m>v}function y(m){return g(m)?c(-m):m}const E=(m,v,R)=>mo(m.slice(v,R));class S{constructor(v,R,A){Aa("r",v,bn,r),Aa("s",R,bn,r),this.r=v,this.s=R,A!=null&&(this.recovery=A),Object.freeze(this)}static fromCompact(v){const R=s;return v=Rr("compactSignature",v,R*2),new S(E(v,0,R),E(v,R,2*R))}static fromDER(v){const{r:R,s:A}=Us.toSig(Rr("DER",v));return new S(R,A)}assertValidity(){}addRecoveryBit(v){return new S(this.r,this.s,v)}recoverPublicKey(v){const{r:R,s:A,recovery:B}=this,j=D(Rr("msgHash",v));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const C=B===2||B===3?R+t.n:R;if(C>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const b=B&1?"03":"02",P=l.fromHex(b+B0(C,n.BYTES)),X=u(C),ee=c(-j*X),oe=c(A*X),he=l.BASE.multiplyAndAddUnsafe(P,ee,oe);if(!he)throw new Error("point at infinify");return he.assertValidity(),he}hasHighS(){return g(this.s)}normalizeS(){return this.hasHighS()?new S(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Vd(this.toDERHex())}toDERHex(){return Us.hexFromSig(this)}toCompactRawBytes(){return Vd(this.toCompactHex())}toCompactHex(){const v=s;return B0(this.r,v)+B0(this.s,v)}}const M={isValidPrivateKey(m){try{return d(m),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const m=y_(t.n);return Hz(t.randomBytes(m),t.n)},precompute(m=8,v=l.BASE){return v._setWindowSize(m),v.multiply(BigInt(3)),v}};function _(m,v=!0){return l.fromPrivateKey(m).toRawBytes(v)}function T(m){if(typeof m=="bigint")return!1;if(m instanceof l)return!0;const R=Rr("key",m).length,A=n.BYTES,B=A+1,j=2*A+1;if(!(t.allowedPrivateKeyLengths||s===B))return R===B||R===j}function O(m,v,R=!0){if(T(m)===!0)throw new Error("first arg must be private key");if(T(v)===!1)throw new Error("second arg must be public key");return l.fromHex(v).multiply(d(m)).toRawBytes(R)}const $=t.bits2int||function(m){if(m.length>8192)throw new Error("input is too large");const v=mo(m),R=m.length*8-i;return R>0?v>>BigInt(R):v},D=t.bits2int_modN||function(m){return c($(m))},z=Wf(i);function U(m){return Aa("num < 2^"+i,m,Gs,z),nl(m,s)}function K(m,v,R=W){if(["recovered","canonical"].some(be=>be in R))throw new Error("sign() legacy options not supported");const{hash:A,randomBytes:B}=t;let{lowS:j,prehash:C,extraEntropy:b}=R;j==null&&(j=!0),m=Rr("msgHash",m),ax(R),C&&(m=Rr("prehashed msgHash",A(m)));const P=D(m),X=d(v),ee=[U(X),U(P)];if(b!=null&&b!==!1){const be=b===!0?B(n.BYTES):b;ee.push(Rr("extraEntropy",be))}const oe=qd(...ee),he=P;function Se(be){const He=$(be);if(!h(He))return;const Ve=u(He),Ue=l.BASE.multiply(He).toAffine(),jt=c(Ue.x);if(jt===Gs)return;const Ye=c(Ve*c(he+jt*X));if(Ye===Gs)return;let it=(Ue.x===jt?0:2)|Number(Ue.y&bn),Fr=Ye;return j&&g(Ye)&&(Fr=y(Ye),it^=1),new S(jt,Fr,it)}return{seed:oe,k2sig:Se}}const W={lowS:t.lowS,prehash:!1},q={lowS:t.lowS,prehash:!1};function I(m,v,R=W){const{seed:A,k2sig:B}=K(m,v,R),j=t;return xj(j.hash.outputLen,j.nByteLength,j.hmac)(A,B)}l.BASE._setWindowSize(8);function f(m,v,R,A=q){var it;const B=m;v=Rr("msgHash",v),R=Rr("publicKey",R);const{lowS:j,prehash:C,format:b}=A;if(ax(A),"strict"in A)throw new Error("options.strict was renamed to lowS");if(b!==void 0&&b!=="compact"&&b!=="der")throw new Error("format must be compact or der");const P=typeof B=="string"||tl(B),X=!P&&!b&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!P&&!X)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ee,oe;try{if(X&&(ee=new S(B.r,B.s)),P){try{b!=="compact"&&(ee=S.fromDER(B))}catch(Fr){if(!(Fr instanceof Us.Err))throw Fr}!ee&&b!=="der"&&(ee=S.fromCompact(B))}oe=l.fromHex(R)}catch{return!1}if(!ee||j&&ee.hasHighS())return!1;C&&(v=t.hash(v));const{r:he,s:Se}=ee,be=D(v),He=u(Se),Ve=c(be*He),Ue=c(he*He),jt=(it=l.BASE.multiplyAndAddUnsafe(oe,Ve,Ue))==null?void 0:it.toAffine();return jt?c(jt.x)===he:!1}return{CURVE:t,getPublicKey:_,getSharedSecret:O,sign:I,verify:f,ProjectivePoint:l,Signature:S,utils:M}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function r7(e){return{hash:e,hmac:(t,...n)=>Ug(e,t,Hr(...n)),randomBytes:rf}}function s7(e,t){const n=r=>n7({...e,...r7(r)});return{...n(t),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const v_=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cx=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),i7=BigInt(0),o7=BigInt(1),Bm=BigInt(2),ux=(e,t)=>(e+t/Bm)/t;function a7(e){const t=v_,n=BigInt(3),r=BigInt(6),s=BigInt(11),i=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=e*e*e%t,l=u*u*e%t,d=Ir(l,n,t)*l%t,p=Ir(d,n,t)*l%t,h=Ir(p,Bm,t)*u%t,g=Ir(h,s,t)*h%t,y=Ir(g,i,t)*g%t,E=Ir(y,a,t)*y%t,S=Ir(E,c,t)*E%t,M=Ir(S,a,t)*y%t,_=Ir(M,n,t)*l%t,T=Ir(_,o,t)*g%t,O=Ir(T,r,t)*u%t,$=Ir(O,Bm,t);if(!Om.eql(Om.sqr($),e))throw new Error("Cannot find square root");return $}const Om=Jy(v_,void 0,void 0,{sqrt:a7}),th=s7({a:i7,b:BigInt(7),Fp:Om,n:cx,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{const t=cx,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-o7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=n,o=BigInt("0x100000000000000000000000000000000"),a=ux(i*e,t),c=ux(-r*e,t);let u=nr(e-a*n-c*s,t),l=nr(-a*r-c*i,t);const d=u>o,p=l>o;if(d&&(u=t-u),p&&(l=t-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:d,k1:u,k2neg:p,k2:l}}}},bg),c7=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:th},Symbol.toStringTag,{value:"Module"}));function E_(e,t={}){const{recovered:n}=t;if(typeof e.r>"u")throw new P0({signature:e});if(typeof e.s>"u")throw new P0({signature:e});if(n&&typeof e.yParity>"u")throw new P0({signature:e});if(e.r<0n||e.r>tx)throw new m7({value:e.r});if(e.s<0n||e.s>tx)throw new g7({value:e.s});if(typeof e.yParity=="number"&&e.yParity!==0&&e.yParity!==1)throw new Xy({value:e.yParity})}function u7(e){return S_(rs(e))}function S_(e){if(e.length!==130&&e.length!==132)throw new p7({signature:e});const t=BigInt(ys(e,0,32)),n=BigInt(ys(e,32,64)),r=(()=>{const s=+`0x${e.slice(130)}`;if(!Number.isNaN(s))try{return Qy(s)}catch{throw new Xy({value:s})}})();return typeof r>"u"?{r:t,s:n}:{r:t,s:n,yParity:r}}function l7(e){if(!(typeof e.r>"u")&&!(typeof e.s>"u"))return d7(e)}function d7(e){const t=typeof e=="string"?S_(e):e instanceof Uint8Array?u7(e):typeof e.r=="string"?h7(e):e.v?f7(e):{r:e.r,s:e.s,...typeof e.yParity<"u"?{yParity:e.yParity}:{}};return E_(t),t}function f7(e){return{r:e.r,s:e.s,yParity:Qy(e.v)}}function h7(e){const t=(()=>{const n=e.v?Number(e.v):void 0;let r=e.yParity?Number(e.yParity):void 0;if(typeof n=="number"&&typeof r!="number"&&(r=Qy(n)),typeof r!="number")throw new Xy({value:e.yParity});return r})();return{r:BigInt(e.r),s:BigInt(e.s),yParity:t}}function Qy(e){if(e===0||e===27)return 0;if(e===1||e===28)return 1;if(e>=35)return e%2===0?1:0;throw new y7({value:e})}class p7 extends qe{constructor({signature:t}){super(`Value \`${t}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Er(qj(t))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class P0 extends qe{constructor({signature:t}){super(`Signature \`${o5(t)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class m7 extends qe{constructor({value:t}){super(`Value \`${t}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class g7 extends qe{constructor({value:t}){super(`Value \`${t}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Xy extends qe{constructor({value:t}){super(`Value \`${t}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class y7 extends qe{constructor({value:t}){super(`Value \`${t}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function b7(e,t={}){return typeof e.chainId=="string"?w7(e):{...e,...t.signature}}function w7(e){const{address:t,chainId:n,nonce:r}=e,s=l7(e);return{address:t,chainId:Number(n),nonce:BigInt(r),...s}}const x7="0x8010801080108010801080108010801080108010801080108010801080108010",v7=a_("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function __(e){if(typeof e=="string"){if(ys(e,-32)!==x7)throw new _7(e)}else E_(e.authorization)}function E7(e){__(e);const t=d5(ys(e,-64,-32)),n=ys(e,-t-64,-64),r=ys(e,0,-t-64),[s,i,o]=Oz(v7,n);return{authorization:b7({address:s.delegation,chainId:Number(s.chainId),nonce:s.nonce,yParity:s.yParity,r:s.r,s:s.s}),signature:r,...o&&o!=="0x"?{data:o,to:i}:{}}}function S7(e){try{return __(e),!0}catch{return!1}}let _7=class extends qe{constructor(t){super(`Value \`${t}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};function A7(e){return e.map(t=>({...t,value:BigInt(t.value)}))}function I7(e){return{...e,balance:e.balance?BigInt(e.balance):void 0,nonce:e.nonce?vr(e.nonce):void 0,storageProof:e.storageProof?A7(e.storageProof):void 0}}async function T7(e,{address:t,blockNumber:n,blockTag:r,storageKeys:s}){const i=r??"latest",o=n!==void 0?se(n):void 0,a=await e.request({method:"eth_getProof",params:[t,s,o||i]});return I7(a)}async function R7(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const i=n!==void 0?se(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,i||r]})}async function eb(e,{blockHash:t,blockNumber:n,blockTag:r,hash:s,index:i}){var l,d,p;const o=r||"latest",a=n!==void 0?se(n):void 0;let c=null;if(s?c=await e.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):t?c=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,se(i)]},{dedupe:!0}):c=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[a||o,se(i)]},{dedupe:!!a}),!c)throw new NS({blockHash:t,blockNumber:n,blockTag:o,hash:s,index:i});return(((p=(d=(l=e.chain)==null?void 0:l.formatters)==null?void 0:d.transaction)==null?void 0:p.format)||Ff)(c,"getTransaction")}async function N7(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([ye(e,il,"getBlockNumber")({}),t?ye(e,eb,"getTransaction")({hash:t}):void 0]),i=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return i?r-i+1n:0n}async function sd(e,{hash:t}){var s,i,o;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]},{dedupe:!0});if(!n)throw new CS({hash:t});return(((o=(i=(s=e.chain)==null?void 0:s.formatters)==null?void 0:i.transactionReceipt)==null?void 0:o.format)||jy)(n,"getTransactionReceipt")}async function C7(e,t){var M;const{account:n,authorizationList:r,allowFailure:s=!0,blockNumber:i,blockOverrides:o,blockTag:a,stateOverride:c}=t,u=t.contracts,{batchSize:l=t.batchSize??1024,deployless:d=t.deployless??!1}=typeof((M=e.batch)==null?void 0:M.multicall)=="object"?e.batch.multicall:{},p=(()=>{if(t.multicallAddress)return t.multicallAddress;if(d)return null;if(e.chain)return fc({blockNumber:i,chain:e.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),h=[[]];let g=0,y=0;for(let _=0;_<u.length;_++){const{abi:T,address:O,args:$,functionName:D}=u[_];try{const z=Qn({abi:T,args:$,functionName:D});y+=(z.length-2)/2,l>0&&y>l&&h[g].length>0&&(g++,y=(z.length-2)/2,h[g]=[]),h[g]=[...h[g],{allowFailure:!0,callData:z,target:O}]}catch(z){const U=Po(z,{abi:T,address:O,args:$,docsPath:"/docs/contract/multicall",functionName:D,sender:n});if(!s)throw U;h[g]=[...h[g],{allowFailure:!0,callData:"0x",target:O}]}}const E=await Promise.allSettled(h.map(_=>ye(e,ss,"readContract")({...p===null?{code:Py}:{address:p},abi:Hd,account:n,args:[_],authorizationList:r,blockNumber:i,blockOverrides:o,blockTag:a,functionName:"aggregate3",stateOverride:c}))),S=[];for(let _=0;_<E.length;_++){const T=E[_];if(T.status==="rejected"){if(!s)throw T.reason;for(let $=0;$<h[_].length;$++)S.push({status:"failure",error:T.reason,result:void 0});continue}const O=T.value;for(let $=0;$<O.length;$++){const{returnData:D,success:z}=O[$],{callData:U}=h[_][$],{abi:K,address:W,functionName:q,args:I}=u[S.length];try{if(U==="0x")throw new qu;if(!z)throw new Lf({data:D});const f=Zo({abi:K,args:I,data:D,functionName:q});S.push(s?{result:f,status:"success"}:f)}catch(f){const m=Po(f,{abi:K,address:W,args:I,docsPath:"/docs/contract/multicall",functionName:q});if(!s)throw m;S.push({error:m,result:void 0,status:"failure"})}}}if(S.length!==u.length)throw new Q("multicall results mismatch");return S}async function Pm(e,t){const{blockNumber:n,blockTag:r=e.experimental_blockTag??"latest",blocks:s,returnFullTransactions:i,traceTransfers:o,validation:a}=t;try{const c=[];for(const p of s){const h=p.blockOverrides?p5(p.blockOverrides):void 0,g=p.calls.map(E=>{const S=E,M=S.account?xt(S.account):void 0,_=S.abi?Qn(S):S.data,T={...S,account:M,data:S.dataSuffix?$r([_||"0x",S.dataSuffix]):_,from:S.from??(M==null?void 0:M.address)};return di(T),zi(T)}),y=p.stateOverrides?by(p.stateOverrides):void 0;c.push({blockOverrides:h,calls:g,stateOverrides:y})}const l=(typeof n=="bigint"?se(n):void 0)||r;return(await e.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:i,traceTransfers:o,validation:a},l]})).map((p,h)=>({...xy(p),calls:p.calls.map((g,y)=>{var K,W;const{abi:E,args:S,functionName:M,to:_}=s[h].calls[y],T=((K=g.error)==null?void 0:K.data)??g.returnData,O=BigInt(g.gasUsed),$=(W=g.logs)==null?void 0:W.map(q=>Ss(q)),D=g.status==="0x1"?"success":"failure",z=E&&D==="success"&&T!=="0x"?Zo({abi:E,data:T,functionName:M}):null,U=(()=>{var I;if(D==="success")return;let q;if(((I=g.error)==null?void 0:I.data)==="0x"?q=new qu:g.error&&(q=new Lf(g.error)),!!q)return Po(q,{abi:E??[],address:_??"0x",args:S,functionName:M??"<unknown>"})})();return{data:T,gasUsed:O,logs:$,status:D,...D==="success"?{result:z}:{error:U}}})}))}catch(c){const u=c,l=Df(u,{});throw l instanceof Qu?u:l}}function Lm(e){let t=!0,n="",r=0,s="",i=!1;for(let o=0;o<e.length;o++){const a=e[o];if(["(",")",","].includes(a)&&(t=!0),a==="("&&r++,a===")"&&r--,!!t){if(r===0){if(a===" "&&["event","function","error",""].includes(s))s="";else if(s+=a,a===")"){i=!0;break}continue}if(a===" "){e[o-1]!==","&&n!==","&&n!==",("&&(n="",t=!1);continue}s+=a,n+=a}}if(!i)throw new qe("Unable to normalize signature.");return s}function jm(e,t){const n=typeof e,r=t.type;switch(r){case"address":return Rm(e,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,i)=>jm(Object.values(e)[i],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>jm(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function A_(e,t,n){for(const r in e){const s=e[r],i=t[r];if(s.type==="tuple"&&i.type==="tuple"&&"components"in s&&"components"in i)return A_(s.components,i.components,n[r]);const o=[s.type,i.type];if(o.includes("address")&&o.includes("bytes20")?!0:o.includes("address")&&o.includes("string")?Rm(n[r],{strict:!1}):o.includes("address")&&o.includes("bytes")?Rm(n[r],{strict:!1}):!1)return o}}function I_(e,t={}){const{prepare:n=!0}=t,r=Array.isArray(e)||typeof e=="string"?Qw(e):e;return{...r,...n?{hash:ya(r)}:{}}}function nh(e,t,n){const{args:r=[],prepare:s=!0}=n??{},i=Hj(t,{strict:!1}),o=e.filter(u=>i?u.type==="function"||u.type==="error"?T_(u)===ys(t,0,4):u.type==="event"?ya(u)===t:!1:"name"in u&&u.name===t);if(o.length===0)throw new Kd({name:t});if(o.length===1)return{...o[0],...s?{hash:ya(o[0])}:{}};let a;for(const u of o){if(!("inputs"in u))continue;if(!r||r.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:ya(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==r.length)continue;if(r.every((d,p)=>{const h="inputs"in u&&u.inputs[p];return h?jm(d,h):!1})){if(a&&"inputs"in a&&a.inputs){const d=A_(u.inputs,a.inputs,r);if(d)throw new k7({abiItem:u,type:d[0]},{abiItem:a,type:d[1]})}a=u}}const c=(()=>{if(a)return a;const[u,...l]=o;return{...u,overloads:l}})();if(!c)throw new Kd({name:t});return{...c,...s?{hash:ya(c)}:{}}}function T_(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return nh(n,r)}return e[0]})();return ys(ya(t),0,4)}function M7(...e){const t=(()=>{if(Array.isArray(e[0])){const[r,s]=e;return nh(r,s)}return e[0]})(),n=typeof t=="string"?t:Im(t);return Lm(n)}function ya(...e){const t=(()=>{if(Array.isArray(e[0])){const[n,r]=e;return nh(n,r)}return e[0]})();return typeof t!="string"&&"hash"in t&&t.hash?t.hash:s_(Oy(M7(t)))}class k7 extends qe{constructor(t,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${t.type}\` in \`${Lm(Im(t.abiItem))}\`, and`,`\`${n.type}\` in \`${Lm(Im(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Kd extends qe{constructor({name:t,data:n,type:r="item"}){const s=t?` with name "${t}"`:n?` with data "${n}"`:"";super(`ABI ${r}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function B7(...e){var i;const[t,n]=(()=>{if(Array.isArray(e[0])){const[o,a]=e;return[P7(o),a]}return e})(),{bytecode:r,args:s}=n;return ns(r,(i=t.inputs)!=null&&i.length&&(s!=null&&s.length)?Zy(t.inputs,s):"0x")}function O7(e){return I_(e)}function P7(e){const t=e.find(n=>n.type==="constructor");if(!t)throw new Kd({name:"constructor"});return t}function L7(...e){const[t,n=[]]=(()=>{if(Array.isArray(e[0])){const[u,l,d]=e;return[lx(u,l,{args:d}),d]}const[a,c]=e;return[a,c]})(),{overloads:r}=t,s=r?lx([t,...r],t.name,{args:n}):t,i=j7(s),o=n.length>0?Zy(s.inputs,n):void 0;return o?ns(i,o):i}function ta(e,t={}){return I_(e,t)}function lx(e,t,n){const r=nh(e,t,n);if(r.type!=="function")throw new Kd({name:t,type:"function"});return r}function j7(e){return T_(e)}const $7="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ls="0x0000000000000000000000000000000000000000",D7="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function z7(e,t){const{blockNumber:n,blockTag:r,calls:s,stateOverrides:i,traceAssetChanges:o,traceTransfers:a,validation:c}=t,u=t.account?xt(t.account):void 0;if(o&&!u)throw new Q("`account` is required when `traceAssetChanges` is true");const l=u?B7(O7("constructor(bytes, bytes)"),{bytecode:b5,args:[D7,L7(ta("function getBalance(address)"),[u.address])]}):void 0,d=o?await Promise.all(t.calls.map(async A=>{if(!A.data&&!A.abi)return;const{accessList:B}=await L5(e,{account:u.address,...A,data:A.abi?Qn(A):A.data});return B.map(({address:j,storageKeys:C})=>C.length>0?j:null)})).then(A=>A.flat().filter(Boolean)):[],p=await Pm(e,{blockNumber:n,blockTag:r,blocks:[...o?[{calls:[{data:l}],stateOverrides:i},{calls:d.map((A,B)=>({abi:[ta("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:ls,nonce:B})),stateOverrides:[{address:ls,nonce:0}]}]:[],{calls:[...s,{}].map(A=>({...A,from:u==null?void 0:u.address})),stateOverrides:i},...o?[{calls:[{data:l}]},{calls:d.map((A,B)=>({abi:[ta("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:A,from:ls,nonce:B})),stateOverrides:[{address:ls,nonce:0}]},{calls:d.map((A,B)=>({to:A,abi:[ta("function decimals() returns (uint256)")],functionName:"decimals",from:ls,nonce:B})),stateOverrides:[{address:ls,nonce:0}]},{calls:d.map((A,B)=>({to:A,abi:[ta("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ls,nonce:B})),stateOverrides:[{address:ls,nonce:0}]},{calls:d.map((A,B)=>({to:A,abi:[ta("function symbol() returns (string)")],functionName:"symbol",from:ls,nonce:B})),stateOverrides:[{address:ls,nonce:0}]}]:[]],traceTransfers:a,validation:c}),h=o?p[2]:p[0],[g,y,,E,S,M,_,T]=o?p:[],{calls:O,...$}=h,D=O.slice(0,-1)??[],z=(g==null?void 0:g.calls)??[],U=(y==null?void 0:y.calls)??[],K=[...z,...U].map(A=>A.status==="success"?nt(A.data):null),W=(E==null?void 0:E.calls)??[],q=(S==null?void 0:S.calls)??[],I=[...W,...q].map(A=>A.status==="success"?nt(A.data):null),f=((M==null?void 0:M.calls)??[]).map(A=>A.status==="success"?A.result:null),m=((T==null?void 0:T.calls)??[]).map(A=>A.status==="success"?A.result:null),v=((_==null?void 0:_.calls)??[]).map(A=>A.status==="success"?A.result:null),R=[];for(const[A,B]of I.entries()){const j=K[A];if(typeof B!="bigint"||typeof j!="bigint")continue;const C=f[A-1],b=m[A-1],P=v[A-1],X=A===0?{address:$7,decimals:18,symbol:"ETH"}:{address:d[A-1],decimals:P||C?Number(C??1):void 0,symbol:b??void 0};R.some(ee=>ee.token.address===X.address)||R.push({token:X,value:{pre:j,post:B,diff:B-j}})}return{assetChanges:R,block:$,results:D}}const R_="0x6492649264926492649264926492649264926492649264926492649264926492";function U7(e){if(ys(e,-32)!==R_)throw new V7(e)}function F7(e){const{data:t,signature:n,to:r}=e;return ns(Zy(a_("address, bytes, bytes"),[r,t,n]),R_)}function W7(e){try{return U7(e),!0}catch{return!1}}class V7 extends qe{constructor(t){super(`Value \`${t}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function N_({r:e,s:t,to:n="hex",v:r,yParity:s}){const i=(()=>{if(s===0||s===1)return s;if(r&&(r===27n||r===28n||r>=35n))return r%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),o=`0x${new th.Signature(nt(e),nt(t)).toCompactHex()}${i===0?"1b":"1c"}`;return n==="hex"?o:ur(o)}async function rh(e,t){var a,c,u,l,d,p;const{address:n,hash:r,erc6492VerifierAddress:s=t.universalSignatureVerifierAddress??((u=(c=(a=e.chain)==null?void 0:a.contracts)==null?void 0:c.erc6492Verifier)==null?void 0:u.address),multicallAddress:i=t.multicallAddress??((p=(d=(l=e.chain)==null?void 0:l.contracts)==null?void 0:d.multicall3)==null?void 0:p.address)}=t,o=(()=>{const h=t.signature;return ts(h)?h:typeof h=="object"&&"r"in h&&"s"in h?N_(h):dn(h)})();try{return S7(o)?await q7(e,{...t,multicallAddress:i,signature:o}):await H7(e,{...t,verifierAddress:s,signature:o})}catch(h){try{if(el(Ea(n),await PS({hash:r,signature:o})))return!0}catch{}if(h instanceof Do)return!1;throw h}}async function q7(e,t){var E;const{address:n,blockNumber:r,blockTag:s,hash:i,multicallAddress:o}=t,{authorization:a,data:c,signature:u,to:l}=E7(t.signature);if(await _m(e,{address:n,blockNumber:r,blockTag:s})===Ur(["0xef0100",a.address]))return await G7(e,{address:n,blockNumber:r,blockTag:s,hash:i,signature:u});const p={address:a.address,chainId:Number(a.chainId),nonce:Number(a.nonce),r:se(a.r,{size:32}),s:se(a.s,{size:32}),yParity:a.yParity};if(!await sD({address:n,authorization:p}))throw new Do;const g=await ye(e,ss,"readContract")({...o?{address:o}:{code:Py},authorizationList:[p],abi:Hd,blockNumber:r,blockTag:"pending",functionName:"aggregate3",args:[[...c?[{allowFailure:!0,target:l??n,callData:c}]:[],{allowFailure:!0,target:n,callData:Qn({abi:y5,functionName:"isValidSignature",args:[i,u]})}]]}),y=(E=g[g.length-1])==null?void 0:E.returnData;if(y!=null&&y.startsWith("0x1626ba7e"))return!0;throw new Do}async function H7(e,t){const{address:n,factory:r,factoryData:s,hash:i,signature:o,verifierAddress:a,...c}=t,u=await(async()=>!r&&!s||W7(o)?o:F7({data:s,signature:o,to:r}))(),l=a?{to:a,data:Qn({abi:Ww,functionName:"isValidSig",args:[n,i,u]}),...c}:{data:Hf({abi:Ww,args:[n,i,u],bytecode:Xj}),...c},{data:d}=await ye(e,Gf,"call")(l).catch(p=>{throw p instanceof kS?new Do:p});if(GL(d??"0x0"))return!0;throw new Do}async function G7(e,t){const{address:n,blockNumber:r,blockTag:s,hash:i,signature:o}=t;if((await ye(e,ss,"readContract")({address:n,abi:y5,args:[i,o],blockNumber:r,blockTag:s,functionName:"isValidSignature"}).catch(c=>{throw c instanceof BS?new Do:c})).startsWith("0x1626ba7e"))return!0;throw new Do}class Do extends Error{}async function K7(e,{address:t,message:n,factory:r,factoryData:s,signature:i,...o}){const a=Vy(n);return rh(e,{address:t,factory:r,factoryData:s,hash:a,signature:i,...o})}async function Z7(e,t){const{address:n,factory:r,factoryData:s,signature:i,message:o,primaryType:a,types:c,domain:u,...l}=t,d=U5({message:o,primaryType:a,types:c,domain:u});return rh(e,{address:n,factory:r,factoryData:s,hash:d,signature:i,...l})}function C_(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:i,pollingInterval:o=e.pollingInterval}){const a=typeof i<"u"?i:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc"));let c;return a?(()=>{const d=mn(["watchBlockNumber",e.uid,t,n,o]);return oi(d,{onBlockNumber:r,onError:s},p=>hc(async()=>{var h;try{const g=await ye(e,il,"getBlockNumber")({cacheTime:0});if(c!==void 0){if(g===c)return;if(g-c>1&&n)for(let y=c+1n;y<g;y++)p.onBlockNumber(y,c),c=y}(c===void 0||g>c)&&(p.onBlockNumber(g,c),c=g)}catch(g){(h=p.onError)==null||h.call(p,g)}},{emitOnBegin:t,interval:o}))})():(()=>{const d=mn(["watchBlockNumber",e.uid,t,n]);return oi(d,{onBlockNumber:r,onError:s},p=>{let h=!0,g=()=>h=!1;return(async()=>{try{const y=(()=>{if(e.transport.type==="fallback"){const S=e.transport.transports.find(M=>M.config.type==="webSocket"||M.config.type==="ipc");return S?S.value:e.transport}return e.transport})(),{unsubscribe:E}=await y.subscribe({params:["newHeads"],onData(S){var _;if(!h)return;const M=nt((_=S.result)==null?void 0:_.number);p.onBlockNumber(M,c),c=M},onError(S){var M;(M=p.onError)==null||M.call(p,S)}});g=E,h||g()}catch(y){s==null||s(y)}})(),()=>g()})})()}async function M_(e,t){const{checkReplacement:n=!0,confirmations:r=1,hash:s,onReplaced:i,retryCount:o=6,retryDelay:a=({count:O})=>~~(1<<O)*200,timeout:c=18e4}=t,u=mn(["waitForTransactionReceipt",e.uid,s]),l=(()=>{var O;return t.pollingInterval?t.pollingInterval:(O=e.chain)!=null&&O.experimental_preconfirmationTime?e.chain.experimental_preconfirmationTime:e.pollingInterval})();let d,p,h,g=!1,y,E;const{promise:S,resolve:M,reject:_}=Ly(),T=c?setTimeout(()=>{E==null||E(),y==null||y(),_(new z9({hash:s}))},c):void 0;return y=oi(u,{onReplaced:i,resolve:M,reject:_},async O=>{if(h=await ye(e,sd,"getTransactionReceipt")({hash:s}).catch(()=>{}),h&&r<=1){clearTimeout(T),O.resolve(h),y==null||y();return}E=ye(e,C_,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:l,async onBlockNumber($){const D=U=>{clearTimeout(T),E==null||E(),U(),y==null||y()};let z=$;if(!g)try{if(h){if(r>1&&(!h.blockNumber||z-h.blockNumber+1n<r))return;D(()=>O.resolve(h));return}if(n&&!d&&(g=!0,await Gd(async()=>{d=await ye(e,eb,"getTransaction")({hash:s}),d.blockNumber&&(z=d.blockNumber)},{delay:a,retryCount:o}),g=!1),h=await ye(e,sd,"getTransactionReceipt")({hash:s}),r>1&&(!h.blockNumber||z-h.blockNumber+1n<r))return;D(()=>O.resolve(h))}catch(U){if(U instanceof NS||U instanceof CS){if(!d){g=!1;return}try{p=d,g=!0;const K=await Gd(()=>ye(e,ps,"getBlock")({blockNumber:z,includeTransactions:!0}),{delay:a,retryCount:o,shouldRetry:({error:I})=>I instanceof DS});g=!1;const W=K.transactions.find(({from:I,nonce:f})=>I===p.from&&f===p.nonce);if(!W||(h=await ye(e,sd,"getTransactionReceipt")({hash:W.hash}),r>1&&(!h.blockNumber||z-h.blockNumber+1n<r)))return;let q="replaced";W.to===p.to&&W.value===p.value&&W.input===p.input?q="repriced":W.from===W.to&&W.value===0n&&(q="cancelled"),D(()=>{var I;(I=O.onReplaced)==null||I.call(O,{reason:q,replacedTransaction:p,transaction:W,transactionReceipt:h}),O.resolve(h)})}catch(K){D(()=>O.reject(K))}}else D(()=>O.reject(U))}}})}),S}function Y7(e,{blockTag:t=e.experimental_blockTag??"latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:i,includeTransactions:o,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),l=o??!1;let d;return u?(()=>{const g=mn(["watchBlocks",e.uid,t,n,r,l,c]);return oi(g,{onBlock:s,onError:i},y=>hc(async()=>{var E;try{const S=await ye(e,ps,"getBlock")({blockTag:t,includeTransactions:l});if(S.number!==null&&(d==null?void 0:d.number)!=null){if(S.number===d.number)return;if(S.number-d.number>1&&n)for(let M=(d==null?void 0:d.number)+1n;M<S.number;M++){const _=await ye(e,ps,"getBlock")({blockNumber:M,includeTransactions:l});y.onBlock(_,d),d=_}}((d==null?void 0:d.number)==null||t==="pending"&&(S==null?void 0:S.number)==null||S.number!==null&&S.number>d.number)&&(y.onBlock(S,d),d=S)}catch(S){(E=y.onError)==null||E.call(y,S)}},{emitOnBegin:r,interval:c}))})():(()=>{let g=!0,y=!0,E=()=>g=!1;return(async()=>{try{r&&ye(e,ps,"getBlock")({blockTag:t,includeTransactions:l}).then(_=>{g&&y&&(s(_,void 0),y=!1)}).catch(i);const S=(()=>{if(e.transport.type==="fallback"){const _=e.transport.transports.find(T=>T.config.type==="webSocket"||T.config.type==="ipc");return _?_.value:e.transport}return e.transport})(),{unsubscribe:M}=await S.subscribe({params:["newHeads"],async onData(_){var O;if(!g)return;const T=await ye(e,ps,"getBlock")({blockNumber:(O=_.result)==null?void 0:O.number,includeTransactions:l}).catch(()=>{});g&&(s(T,d),y=!1,d=T)},onError(_){i==null||i(_)}});E=M,g||E()}catch(S){i==null||i(S)}})(),()=>E()})()}function J7(e,{address:t,args:n,batch:r=!0,event:s,events:i,fromBlock:o,onError:a,onLogs:c,poll:u,pollingInterval:l=e.pollingInterval,strict:d}){const p=typeof u<"u"?u:typeof o=="bigint"?!0:!(e.transport.type==="webSocket"||e.transport.type==="ipc"||e.transport.type==="fallback"&&(e.transport.transports[0].config.type==="webSocket"||e.transport.transports[0].config.type==="ipc")),h=d??!1;return p?(()=>{const E=mn(["watchEvent",t,n,r,e.uid,s,l,o]);return oi(E,{onLogs:c,onError:a},S=>{let M;o!==void 0&&(M=o-1n);let _,T=!1;const O=hc(async()=>{var $;if(!T){try{_=await ye(e,j5,"createEventFilter")({address:t,args:n,event:s,events:i,strict:h,fromBlock:o})}catch{}T=!0;return}try{let D;if(_)D=await ye(e,Kf,"getFilterChanges")({filter:_});else{const z=await ye(e,il,"getBlockNumber")({});M&&M!==z?D=await ye(e,Cy,"getLogs")({address:t,args:n,event:s,events:i,fromBlock:M+1n,toBlock:z}):D=[],M=z}if(D.length===0)return;if(r)S.onLogs(D);else for(const z of D)S.onLogs([z])}catch(D){_&&D instanceof Oo&&(T=!1),($=S.onError)==null||$.call(S,D)}},{emitOnBegin:!0,interval:l});return async()=>{_&&await ye(e,Zf,"uninstallFilter")({filter:_}),O()}})})():(()=>{let E=!0,S=()=>E=!1;return(async()=>{try{const M=(()=>{if(e.transport.type==="fallback"){const $=e.transport.transports.find(D=>D.config.type==="webSocket"||D.config.type==="ipc");return $?$.value:e.transport}return e.transport})(),_=i??(s?[s]:void 0);let T=[];_&&(T=[_.flatMap(D=>Zu({abi:[D],eventName:D.name,args:n}))],s&&(T=T[0]));const{unsubscribe:O}=await M.subscribe({params:["logs",{address:t,topics:T}],onData($){var z;if(!E)return;const D=$.result;try{const{eventName:U,args:K}=Ry({abi:_??[],data:D.data,topics:D.topics,strict:h}),W=Ss(D,{args:K,eventName:U});c([W])}catch(U){let K,W;if(U instanceof Xc||U instanceof Bf){if(d)return;K=U.abiItem.name,W=(z=U.abiItem.inputs)==null?void 0:z.some(I=>!("name"in I&&I.name))}const q=Ss(D,{args:W?[]:{},eventName:K});c([q])}},onError($){a==null||a($)}});S=O,E||S()}catch(M){a==null||a(M)}})(),()=>S()})()}function Q7(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:i=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket"&&e.transport.type!=="ipc")?(()=>{const u=mn(["watchPendingTransactions",e.uid,t,i]);return oi(u,{onTransactions:r,onError:n},l=>{let d;const p=hc(async()=>{var h;try{if(!d)try{d=await ye(e,$5,"createPendingTransactionFilter")({});return}catch(y){throw p(),y}const g=await ye(e,Kf,"getFilterChanges")({filter:d});if(g.length===0)return;if(t)l.onTransactions(g);else for(const y of g)l.onTransactions([y])}catch(g){(h=l.onError)==null||h.call(l,g)}},{emitOnBegin:!0,interval:i});return async()=>{d&&await ye(e,Zf,"uninstallFilter")({filter:d}),p()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(p){if(!u)return;const h=p.result;r([h])},onError(p){n==null||n(p)}});l=d,u||l()}catch(d){n==null||n(d)}})(),()=>l()})()}function X7(e){var d,p,h;const{scheme:t,statement:n,...r}=((d=e.match(eU))==null?void 0:d.groups)??{},{chainId:s,expirationTime:i,issuedAt:o,notBefore:a,requestId:c,...u}=((p=e.match(tU))==null?void 0:p.groups)??{},l=(h=e.split("Resources:")[1])==null?void 0:h.split(`
- `).slice(1);return{...r,...u,...s?{chainId:Number(s)}:{},...i?{expirationTime:new Date(i)}:{},...o?{issuedAt:new Date(o)}:{},...a?{notBefore:new Date(a)}:{},...c?{requestId:c}:{},...l?{resources:l}:{},...t?{scheme:t}:{},...n?{statement:n}:{}}}const eU=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,tU=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function nU(e){const{address:t,domain:n,message:r,nonce:s,scheme:i,time:o=new Date}=e;if(n&&r.domain!==n||s&&r.nonce!==s||i&&r.scheme!==i||r.expirationTime&&o>=r.expirationTime||r.notBefore&&o<r.notBefore)return!1;try{if(!r.address||!wt(r.address,{strict:!1})||t&&!el(r.address,t))return!1}catch{return!1}return!0}async function rU(e,t){const{address:n,domain:r,message:s,nonce:i,scheme:o,signature:a,time:c=new Date,...u}=t,l=X7(s);if(!l.address||!nU({address:n,domain:r,message:l,nonce:i,scheme:o,time:c}))return!1;const p=Vy(s);return rh(e,{address:l.address,hash:p,signature:a,...u})}async function tb(e,{serializedTransaction:t,throwOnReceiptRevert:n,timeout:r}){var a,c,u;const s=await e.request({method:"eth_sendRawTransactionSync",params:r?[t,se(r)]:[t]},{retryCount:0}),o=(((u=(c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.transactionReceipt)==null?void 0:u.format)||jy)(s);if(o.status==="reverted"&&n)throw new MS({receipt:o});return o}function Zd(e){return{call:t=>Gf(e,t),createAccessList:t=>L5(e,t),createBlockFilter:()=>$$(e),createContractEventFilter:t=>_S(e,t),createEventFilter:t=>j5(e,t),createPendingTransactionFilter:()=>$5(e),estimateContractGas:t=>mj(e,t),estimateGas:t=>Ty(e,t),getBalance:t=>D$(e,t),getBlobBaseFee:()=>z$(e),getBlock:t=>ps(e,t),getBlockNumber:t=>il(e,t),getBlockTransactionCount:t=>U$(e,t),getBytecode:t=>_m(e,t),getChainId:()=>fi(e),getCode:t=>_m(e,t),getContractEvents:t=>QS(e,t),getEip712Domain:t=>W$(e,t),getEnsAddress:t=>E$(e,t),getEnsAvatar:t=>P$(e,t),getEnsName:t=>L$(e,t),getEnsResolver:t=>j$(e,t),getEnsText:t=>P5(e,t),getFeeHistory:t=>H$(e,t),estimateFeesPerGas:t=>uj(e,t),getFilterChanges:t=>Kf(e,t),getFilterLogs:t=>G$(e,t),getGasPrice:()=>vy(e),getLogs:t=>Cy(e,t),getProof:t=>T7(e,t),estimateMaxPriorityFeePerGas:t=>cj(e,t),getStorageAt:t=>R7(e,t),getTransaction:t=>eb(e,t),getTransactionConfirmations:t=>N7(e,t),getTransactionCount:t=>Ey(e,t),getTransactionReceipt:t=>sd(e,t),multicall:t=>C7(e,t),prepareTransactionRequest:t=>dc(e,t),readContract:t=>ss(e,t),sendRawTransaction:t=>Jf(e,t),sendRawTransactionSync:t=>tb(e,t),simulate:t=>Pm(e,t),simulateBlocks:t=>Pm(e,t),simulateCalls:t=>z7(e,t),simulateContract:t=>o$(e,t),verifyHash:t=>rh(e,t),verifyMessage:t=>K7(e,t),verifySiweMessage:t=>rU(e,t),verifyTypedData:t=>Z7(e,t),uninstallFilter:t=>Zf(e,t),waitForTransactionReceipt:t=>M_(e,t),watchBlocks:t=>Y7(e,t),watchBlockNumber:t=>C_(e,t),watchContractEvent:t=>h$(e,t),watchEvent:t=>J7(e,t),watchPendingTransactions:t=>Q7(e,t)}}function sU(e){const{key:t="public",name:n="Public Client"}=e;return M5({...e,key:t,name:n,type:"publicClient"}).extend(Zd)}async function iU(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:i,blockExplorers:o}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:se(n),chainName:r,nativeCurrency:s,rpcUrls:i.default.http,blockExplorerUrls:o?Object.values(o).map(({url:a})=>a):void 0}]},{dedupe:!0,retryCount:0})}function oU(e,t){const{abi:n,args:r,bytecode:s,...i}=t,o=Hf({abi:n,args:r,bytecode:s});return al(e,{...i,...i.authorizationList?{to:null}:{},data:o})}async function aU(e){var n;return((n=e.account)==null?void 0:n.type)==="local"?[e.account.address]:(await e.request({method:"eth_accounts"},{dedupe:!0})).map(r=>Gu(r))}async function cU(e,t={}){const{account:n=e.account,chainId:r}=t,s=n?xt(n):void 0,i=r?[s==null?void 0:s.address,[se(r)]]:[s==null?void 0:s.address],o=await e.request({method:"wallet_getCapabilities",params:i}),a={};for(const[c,u]of Object.entries(o)){a[Number(c)]={};for(let[l,d]of Object.entries(u))l==="addSubAccount"&&(l="unstable_addSubAccount"),a[Number(c)][l]=d}return typeof r=="number"?a[r]:a}async function uU(e){return await e.request({method:"wallet_getPermissions"},{dedupe:!0})}async function k_(e,t){var c;const{account:n=e.account,chainId:r,nonce:s}=t;if(!n)throw new Cs({docsPath:"/docs/eip7702/prepareAuthorization"});const i=xt(n),o=(()=>{if(t.executor)return t.executor==="self"?t.executor:xt(t.executor)})(),a={address:t.contractAddress??t.address,chainId:r,nonce:s};return typeof a.chainId>"u"&&(a.chainId=((c=e.chain)==null?void 0:c.id)??await ye(e,fi,"getChainId")({})),typeof a.nonce>"u"&&(a.nonce=await ye(e,Ey,"getTransactionCount")({address:i.address,blockTag:"pending"}),(o==="self"||o!=null&&o.address&&el(o.address,i.address))&&(a.nonce+=1)),a}async function lU(e){return(await e.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Ea(n))}async function dU(e,t){return e.request({method:"wallet_requestPermissions",params:[t]},{retryCount:0})}async function fU(e,t){const{chain:n=e.chain}=t,r=t.timeout??Math.max(((n==null?void 0:n.blockTime)??0)*3,5e3),s=await T5(e,t);return await N5(e,{...t,id:s.id,timeout:r})}const L0=new Hu(128);async function B_(e,t){var O,$,D,z;const{account:n=e.account,chain:r=e.chain,accessList:s,authorizationList:i,blobs:o,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,pollingInterval:g,throwOnReceiptRevert:y,type:E,value:S,...M}=t,_=t.timeout??Math.max(((r==null?void 0:r.blockTime)??0)*3,5e3);if(typeof n>"u")throw new Cs({docsPath:"/docs/actions/wallet/sendTransactionSync"});const T=n?xt(n):null;try{di(t);const U=await(async()=>{if(t.to)return t.to;if(t.to!==null&&i&&i.length>0)return await $f({authorization:i[0]}).catch(()=>{throw new Q("`to` is required. Could not infer from `authorizationList`.")})})();if((T==null?void 0:T.type)==="json-rpc"||T===null){let K;r!==null&&(K=await ye(e,fi,"getChainId")({}),ol({currentChainId:K,chain:r}));const W=(D=($=(O=e.chain)==null?void 0:O.formatters)==null?void 0:$.transactionRequest)==null?void 0:D.format,I=(W||zi)({...Xu(M,{format:W}),accessList:s,account:T,authorizationList:i,blobs:o,chainId:K,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,to:U,type:E,value:S},"sendTransaction"),f=L0.get(e.uid),m=f?"wallet_sendTransaction":"eth_sendTransaction",v=await(async()=>{try{return await e.request({method:m,params:[I]},{retryCount:0})}catch(A){if(f===!1)throw A;const B=A;if(B.name==="InvalidInputRpcError"||B.name==="InvalidParamsRpcError"||B.name==="MethodNotFoundRpcError"||B.name==="MethodNotSupportedRpcError")return await e.request({method:"wallet_sendTransaction",params:[I]},{retryCount:0}).then(j=>(L0.set(e.uid,!0),j)).catch(j=>{const C=j;throw C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError"?(L0.set(e.uid,!1),B):C});throw B}})(),R=await ye(e,M_,"waitForTransactionReceipt")({checkReplacement:!1,hash:v,pollingInterval:g,timeout:_});if(y&&R.status==="reverted")throw new MS({receipt:R});return R}if((T==null?void 0:T.type)==="local"){const K=await ye(e,dc,"prepareTransactionRequest")({account:T,accessList:s,authorizationList:i,blobs:o,chain:r,data:a,gas:c,gasPrice:u,maxFeePerBlobGas:l,maxFeePerGas:d,maxPriorityFeePerGas:p,nonce:h,nonceManager:T.nonceManager,parameters:[...Iy,"sidecars"],type:E,value:S,...M,to:U}),W=(z=r==null?void 0:r.serializers)==null?void 0:z.transaction,q=await T.signTransaction(K,{serializer:W});return await ye(e,tb,"sendRawTransactionSync")({serializedTransaction:q,throwOnReceiptRevert:y})}throw(T==null?void 0:T.type)==="smart"?new go({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new go({docsPath:"/docs/actions/wallet/sendTransactionSync",type:T==null?void 0:T.type})}catch(U){throw U instanceof go?U:Yf(U,{...t,account:T,chain:t.chain||void 0})}}async function hU(e,t){const{id:n}=t;await e.request({method:"wallet_showCallsStatus",params:[n]})}async function pU(e,t){const{account:n=e.account}=t;if(!n)throw new Cs({docsPath:"/docs/eip7702/signAuthorization"});const r=xt(n);if(!r.signAuthorization)throw new go({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:r.type});const s=await k_(e,t);return r.signAuthorization(s)}async function mU(e,{account:t=e.account,message:n}){if(!t)throw new Cs({docsPath:"/docs/actions/wallet/signMessage"});const r=xt(t);if(r.signMessage)return r.signMessage({message:n});const s=typeof n=="string"?qa(n):n.raw instanceof Uint8Array?Ke(n.raw):n.raw;return e.request({method:"personal_sign",params:[s,r.address]},{retryCount:0})}async function O_(e,t){var u,l,d,p;const{account:n=e.account,chain:r=e.chain,...s}=t;if(!n)throw new Cs({docsPath:"/docs/actions/wallet/signTransaction"});const i=xt(n);di({account:i,...t});const o=await ye(e,fi,"getChainId")({});r!==null&&ol({currentChainId:o,chain:r});const a=(r==null?void 0:r.formatters)||((u=e.chain)==null?void 0:u.formatters),c=((l=a==null?void 0:a.transactionRequest)==null?void 0:l.format)||zi;return i.signTransaction?i.signTransaction({...s,chainId:o},{serializer:(p=(d=e.chain)==null?void 0:d.serializers)==null?void 0:p.transaction}):await e.request({method:"eth_signTransaction",params:[{...c({...s,account:i},"signTransaction"),chainId:se(o),from:i.address}]},{retryCount:0})}async function P_(e,t){const{account:n=e.account,domain:r,message:s,primaryType:i}=t;if(!n)throw new Cs({docsPath:"/docs/actions/wallet/signTypedData"});const o=xt(n),a={EIP712Domain:z5({domain:r}),...t.types};if(D5({domain:r,message:s,primaryType:i,types:a}),o.signTypedData)return o.signTypedData({domain:r,message:s,primaryType:i,types:a});const c=gD({domain:r,message:s,primaryType:i,types:a});return e.request({method:"eth_signTypedData_v4",params:[o.address,c]},{retryCount:0})}async function gU(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:se(t)}]},{retryCount:0})}async function yU(e,t){return await e.request({method:"wallet_watchAsset",params:t},{retryCount:0})}async function bU(e,t){return Za.internal(e,B_,"sendTransactionSync",t)}function wU(e){return{addChain:t=>iU(e,t),deployContract:t=>oU(e,t),getAddresses:()=>aU(e),getCallsStatus:t=>R5(e,t),getCapabilities:t=>cU(e,t),getChainId:()=>fi(e),getPermissions:()=>uU(e),prepareAuthorization:t=>k_(e,t),prepareTransactionRequest:t=>dc(e,t),requestAddresses:()=>lU(e),requestPermissions:t=>dU(e,t),sendCalls:t=>T5(e,t),sendCallsSync:t=>fU(e,t),sendRawTransaction:t=>Jf(e,t),sendRawTransactionSync:t=>tb(e,t),sendTransaction:t=>al(e,t),sendTransactionSync:t=>B_(e,t),showCallsStatus:t=>hU(e,t),signAuthorization:t=>pU(e,t),signMessage:t=>mU(e,t),signTransaction:t=>O_(e,t),signTypedData:t=>P_(e,t),switchChain:t=>gU(e,t),waitForCallsStatus:t=>N5(e,t),watchAsset:t=>yU(e,t),writeContract:t=>Za(e,t),writeContractSync:t=>bU(e,t)}}function xU(e){const{key:t="wallet",name:n="Wallet Client",transport:r}=e;return M5({...e,key:t,name:n,transport:r,type:"walletClient"}).extend(wU)}function vU({key:e,methods:t,name:n,request:r,retryCount:s=3,retryDelay:i=150,timeout:o,type:a},c){const u=C5();return{config:{key:e,methods:t,name:n,request:r,retryCount:s,retryDelay:i,timeout:o,type:a},request:oD(r,{methods:t,retryCount:s,retryDelay:i,uid:u}),value:c}}class EU extends Q{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function L_(e,t={}){const{batch:n,fetchFn:r,fetchOptions:s,key:i="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:u,retryDelay:l,raw:d}=t;return({chain:p,retryCount:h,timeout:g})=>{const{batchSize:y=1e3,wait:E=0}=typeof n=="object"?n:{},S=t.retryCount??h,M=g??t.timeout??1e4,_=p==null?void 0:p.rpcUrls.default.http[0];if(!_)throw new EU;const T=lD(_,{fetchFn:r,fetchOptions:s,onRequest:c,onResponse:u,timeout:M});return vU({key:i,methods:o,name:a,async request({method:O,params:$}){const D={method:O,params:$},{schedule:z}=v5({id:_,wait:E,shouldSplitBatch(q){return q.length>y},fn:q=>T.request({body:q}),sort:(q,I)=>q.id-I.id}),U=async q=>n?z(q):[await T.request({body:q})],[{error:K,result:W}]=await U(D);if(d)return{error:K,result:W};if(K)throw new yy({body:D,error:K,url:_});return W},retryCount:S,retryDelay:l,timeout:M,type:"http"},{fetchOptions:s,url:_})}}const nb=50000n,dx=sj*32n,j_={block:FS({format(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>{var i;if(typeof r=="string")return r;const s=(i=j_.transaction)==null?void 0:i.format(r);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:e.l1BatchNumber?nt(e.l1BatchNumber):null,l1BatchTimestamp:e.l1BatchTimestamp?nt(e.l1BatchTimestamp):null,transactions:t}}}),transaction:US({format(e){const t={};return e.type==="0x71"?t.type="eip712":e.type==="0xff"&&(t.type="priority"),{...t,l1BatchNumber:e.l1BatchNumber?nt(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?nt(e.l1BatchTxIndex):null}}}),transactionReceipt:_5({format(e){return{l1BatchNumber:e.l1BatchNumber?nt(e.l1BatchNumber):null,l1BatchTxIndex:e.l1BatchTxIndex?nt(e.l1BatchTxIndex):null,logs:e.logs.map(t=>({...Ss(t),l1BatchNumber:t.l1BatchNumber?nt(t.l1BatchNumber):null,transactionLogIndex:vr(t.transactionLogIndex),logType:t.logType})),l2ToL1Logs:e.l2ToL1Logs.map(t=>({blockNumber:nt(t.blockHash),blockHash:t.blockHash,l1BatchNumber:t.l1BatchNumber?nt(t.l1BatchNumber):null,transactionIndex:nt(t.transactionIndex),shardId:nt(t.shardId),isService:t.isService,sender:t.sender,key:t.key,value:t.value,transactionHash:t.transactionHash,logIndex:nt(t.logIndex)}))}}}),transactionRequest:tj({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(e){return e.gasPerPubdata||e.paymaster&&e.paymasterInput||e.factoryDeps||e.customSignature?{eip712Meta:{...e.gasPerPubdata?{gasPerPubdata:Ke(e.gasPerPubdata)}:{gasPerPubdata:Ke(nb)},...e.paymaster&&e.paymasterInput?{paymasterParams:{paymaster:e.paymaster,paymasterInput:Array.from(ur(e.paymasterInput))}}:{},...e.factoryDeps?{factoryDeps:e.factoryDeps.map(t=>Array.from(ur(t)))}:{},...e.customSignature?{customSignature:Array.from(ur(e.customSignature))}:{}},type:"0x71"}:{}}})};class $_ extends Q{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function ul(e){return!!(e.type==="eip712"||"customSignature"in e&&e.customSignature||"paymaster"in e&&e.paymaster||"paymasterInput"in e&&e.paymasterInput||"gasPerPubdata"in e&&typeof e.gasPerPubdata=="bigint"||"factoryDeps"in e&&e.factoryDeps)}function D_(e){const{chainId:t,to:n,from:r,paymaster:s,paymasterInput:i}=e;if(!ul(e))throw new $_;if(!t||t<=0)throw new sl({chainId:t});if(n&&!wt(n))throw new un({address:n});if(r&&!wt(r))throw new un({address:r});if(s&&!wt(s))throw new un({address:s});if(s&&!i)throw new Q("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&i)throw new Q("`paymaster` must be provided when `paymasterInput` is defined")}function SU(e,t){return ul(e)?AU(e):Wy(e,t)}const _U={transaction:SU};function AU(e){const{chainId:t,gas:n,nonce:r,to:s,from:i,value:o,maxFeePerGas:a,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:l,paymaster:d,paymasterInput:p,gasPerPubdata:h,data:g}=e;D_(e);const y=[r?Ke(r):"0x",c?Ke(c):"0x",a?Ke(a):"0x",n?Ke(n):"0x",s??"0x",o?Ke(o):"0x",g??"0x",Ke(t),Ke(""),Ke(""),Ke(t),i??"0x",Ke(h||nb),l??[],u??"0x",d&&p?[d,p]:[]];return Ur(["0x71",ii(y)])}class IU extends Q{constructor({givenLength:t,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${t}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class TU extends Q{constructor({givenLengthInWords:t}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${t}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class RU extends Q{constructor({givenLength:t}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${t}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function $m(e){const t=Qs(e);if(t.length%32!==0)throw new RU({givenLength:t.length});if(t.length>dx)throw new IU({givenLength:t.length,maxBytecodeSize:dx});const n=VS(t),r=Qs(n),s=t.length/32;if(s%2===0)throw new TU({givenLengthInWords:s});const i=Qs(s),o=Go(i,{size:2}),a=new Uint8Array([1,0]);return r.set(a,0),r.set(o,2),r}const NU=e=>{D_(e);const t=CU(e);return{domain:{name:"zkSync",version:"2",chainId:e.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:t}};function CU(e){const{gas:t,nonce:n,to:r,from:s,value:i,maxFeePerGas:o,maxPriorityFeePerGas:a,factoryDeps:c,paymaster:u,paymasterInput:l,gasPerPubdata:d,data:p}=e;return{txType:113n,from:BigInt(s),to:r?BigInt(r):0n,gasLimit:t??0n,gasPerPubdataByteLimit:d??nb,maxFeePerGas:o??0n,maxPriorityFeePerGas:a??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:i??0n,data:p??"0x",factoryDeps:(c==null?void 0:c.map(h=>Ke($m(h))))??[],paymasterInput:l||"0x"}}const z_={blockTime:1e3,formatters:j_,serializers:_U,custom:{getEip712Domain:NU}},MU=Xn({...z_,blockTime:200,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),kU=Xn({...z_,blockTime:200,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},erc6492Verifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),BU={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},OU={block:FS({format(e){var n;return{transactions:(n=e.transactions)==null?void 0:n.map(r=>{if(typeof r=="string")return r;const s=Ff(r);return s.typeHex==="0x7e"&&(s.isSystemTx=r.isSystemTx,s.mint=r.mint?nt(r.mint):void 0,s.sourceHash=r.sourceHash,s.type="deposit"),s}),stateRoot:e.stateRoot}}}),transaction:US({format(e){const t={};return e.type==="0x7e"&&(t.isSystemTx=e.isSystemTx,t.mint=e.mint?nt(e.mint):void 0,t.sourceHash=e.sourceHash,t.type="deposit"),t}}),transactionReceipt:_5({format(e){return{l1GasPrice:e.l1GasPrice?nt(e.l1GasPrice):null,l1GasUsed:e.l1GasUsed?nt(e.l1GasUsed):null,l1Fee:e.l1Fee?nt(e.l1Fee):null,l1FeeScalar:e.l1FeeScalar?Number(e.l1FeeScalar):null}}})};function PU(e,t){return $U(e)?jU(e):Wy(e,t)}const LU={transaction:PU};function jU(e){DU(e);const{sourceHash:t,data:n,from:r,gas:s,isSystemTx:i,mint:o,to:a,value:c}=e,u=[t,r,a??"0x",o?Ke(o):"0x",c?Ke(c):"0x",s?Ke(s):"0x",i?"0x1":"0x",n??"0x"];return Ur(["0x7e",ii(u)])}function $U(e){return e.type==="deposit"||typeof e.sourceHash<"u"}function DU(e){const{from:t,to:n}=e;if(t&&!wt(t))throw new un({address:t});if(n&&!wt(n))throw new un({address:n})}const Yd={blockTime:2e3,contracts:BU,formatters:OU,serializers:LU},zU=Xn({id:43114,name:"Avalanche",blockTime:1700,nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),UU=Xn({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),Tc=1,U_=Xn({...Yd,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Yd.contracts,disputeGameFactory:{[Tc]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Tc]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Tc]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Tc]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Tc});({...U_});const Rc=11155111,F_=Xn({...Yd,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Yd.contracts,disputeGameFactory:{[Rc]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Rc]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Rc]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Rc]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Rc});({...F_});const FU=Xn({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),WU=Xn({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),VU=Xn({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://quicknode1.peaq.xyz","https://quicknode2.peaq.xyz","https://quicknode3.peaq.xyz"],webSocket:["wss://quicknode1.peaq.xyz","wss://quicknode2.peaq.xyz","wss://quicknode3.peaq.xyz"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),qU=Xn({id:137,name:"Polygon",blockTime:2e3,nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),HU=Xn({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),GU=Xn({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),KU=Xn({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:98697651}},testnet:!0});/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ZU(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function W_(e,t){return Array.isArray(t)?t.length===0?!0:e?t.every(n=>typeof n=="string"):t.every(n=>Number.isSafeInteger(n)):!1}function Dm(e,t){if(typeof t!="string")throw new Error(`${e}: string expected`);return!0}function V_(e){if(!Number.isSafeInteger(e))throw new Error(`invalid integer: ${e}`)}function zm(e){if(!Array.isArray(e))throw new Error("array expected")}function q_(e,t){if(!W_(!0,t))throw new Error(`${e}: array of strings expected`)}function YU(e,t){if(!W_(!1,t))throw new Error(`${e}: array of numbers expected`)}function JU(...e){const t=i=>i,n=(i,o)=>a=>i(o(a)),r=e.map(i=>i.encode).reduceRight(n,t),s=e.map(i=>i.decode).reduce(n,t);return{encode:r,decode:s}}function QU(e){const t=typeof e=="string"?e.split(""):e,n=t.length;q_("alphabet",t);const r=new Map(t.map((s,i)=>[s,i]));return{encode:s=>(zm(s),s.map(i=>{if(!Number.isSafeInteger(i)||i<0||i>=n)throw new Error(`alphabet.encode: digit index outside alphabet "${i}". Allowed: ${e}`);return t[i]})),decode:s=>(zm(s),s.map(i=>{Dm("alphabet.decode",i);const o=r.get(i);if(o===void 0)throw new Error(`Unknown letter: "${i}". Allowed: ${e}`);return o}))}}function XU(e=""){return Dm("join",e),{encode:t=>(q_("join.decode",t),t.join(e)),decode:t=>(Dm("join.decode",t),t.split(e))}}function fx(e,t,n){if(t<2)throw new Error(`convertRadix: invalid from=${t}, base cannot be less than 2`);if(n<2)throw new Error(`convertRadix: invalid to=${n}, base cannot be less than 2`);if(zm(e),!e.length)return[];let r=0;const s=[],i=Array.from(e,a=>{if(V_(a),a<0||a>=t)throw new Error(`invalid integer: ${a}`);return a}),o=i.length;for(;;){let a=0,c=!0;for(let u=r;u<o;u++){const l=i[u],d=t*a,p=d+l;if(!Number.isSafeInteger(p)||d/t!==a||p-l!==d)throw new Error("convertRadix: carry overflow");const h=p/n;a=p%n;const g=Math.floor(h);if(i[u]=g,!Number.isSafeInteger(g)||g*n+a!==p)throw new Error("convertRadix: carry overflow");if(c)g?c=!1:r=u;else continue}if(s.push(a),c)break}for(let a=0;a<e.length-1&&e[a]===0;a++)s.push(0);return s.reverse()}function eF(e){V_(e);const t=2**8;return{encode:n=>{if(!ZU(n))throw new Error("radix.encode input should be Uint8Array");return fx(Array.from(n),t,e)},decode:n=>(YU("radix.decode",n),Uint8Array.from(fx(n,e,t)))}}const tF=e=>JU(eF(58),QU(e),XU("")),nF=tF("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function rF(e){if(typeof e=="string"){if(!wt(e,{strict:!1}))throw new un({address:e});return{address:e,type:"json-rpc"}}if(!wt(e.address,{strict:!1}))throw new un({address:e.address});return{address:e.address,nonceManager:e.nonceManager,sign:e.sign,signAuthorization:e.signAuthorization,signMessage:e.signMessage,signTransaction:e.signTransaction,signTypedData:e.signTypedData,source:"custom",type:"local"}}let j0=!1;async function ll({hash:e,privateKey:t,to:n="object"}){const{r,s,recovery:i}=th.sign(e.slice(2),t.slice(2),{lowS:!0,extraEntropy:ts(j0,{strict:!1})?ur(j0):j0}),o={r:se(r,{size:32}),s:se(s,{size:32}),v:i?28n:27n,yParity:i};return n==="bytes"||n==="hex"?N_({...o,to:n}):o}async function sF(e){const{chainId:t,nonce:n,privateKey:r,to:s="object"}=e,i=e.contractAddress??e.address,o=await ll({hash:$S({address:i,chainId:t,nonce:n}),privateKey:r,to:s});return s==="object"?{address:i,chainId:t,nonce:n,...o}:o}async function iF({message:e,privateKey:t}){return await ll({hash:Vy(e),privateKey:t,to:"hex"})}async function oF(e){const{privateKey:t,transaction:n,serializer:r=Wy}=e,s=n.type==="eip4844"?{...n,sidecars:!1}:n,i=await ll({hash:wn(await r(s)),privateKey:t});return await r(n,i)}async function aF(e){const{privateKey:t,...n}=e;return await ll({hash:U5(n),privateKey:t,to:"hex"})}function cF(e,t={}){const{nonceManager:n}=t,r=Ke(th.getPublicKey(e.slice(2),!1)),s=OS(r);return{...rF({address:s,nonceManager:n,async sign({hash:o}){return ll({hash:o,privateKey:e,to:"hex"})},async signAuthorization(o){return sF({...o,privateKey:e})},async signMessage({message:o}){return iF({message:o,privateKey:e})},async signTransaction(o,{serializer:a}={}){return oF({privateKey:e,transaction:o,serializer:a})},async signTypedData(o){return aF({...o,privateKey:e})}}),publicKey:r,source:"privateKey"}}const uF="0x0000000000000000000000000000000000008006",lF="0x0000000000000000000000000000000000010000",hx=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],name:"AccountNonceOrderingUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"accountAddress",type:"address"},{indexed:!1,internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"aaVersion",type:"uint8"}],name:"AccountVersionUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"deployerAddress",type:"address"},{indexed:!0,internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"contractAddress",type:"address"}],name:"ContractDeployed",type:"event"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"create2",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"create2Account",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"},{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_aaVersion",type:"uint8"}],name:"createAccount",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"extendedAccountVersion",outputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_keccak256BytecodeHash",type:"bytes32"}],name:"forceDeployKeccak256",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment",name:"_deployment",type:"tuple"},{internalType:"address",name:"_sender",type:"address"}],name:"forceDeployOnAddress",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{components:[{internalType:"bytes32",name:"bytecodeHash",type:"bytes32"},{internalType:"address",name:"newAddress",type:"address"},{internalType:"bool",name:"callConstructor",type:"bool"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"input",type:"bytes"}],internalType:"struct ContractDeployer.ForceDeployment[]",name:"_deployments",type:"tuple[]"}],name:"forceDeployOnAddresses",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"_address",type:"address"}],name:"getAccountInfo",outputs:[{components:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"supportedAAVersion",type:"uint8"},{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"nonceOrdering",type:"uint8"}],internalType:"struct IContractDeployer.AccountInfo",name:"info",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"uint256",name:"_senderNonce",type:"uint256"}],name:"getNewAddressCreate",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"_sender",type:"address"},{internalType:"bytes32",name:"_bytecodeHash",type:"bytes32"},{internalType:"bytes32",name:"_salt",type:"bytes32"},{internalType:"bytes",name:"_input",type:"bytes"}],name:"getNewAddressCreate2",outputs:[{internalType:"address",name:"newAddress",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountAbstractionVersion",name:"_version",type:"uint8"}],name:"updateAccountVersion",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"enum IContractDeployer.AccountNonceOrdering",name:"_nonceOrdering",type:"uint8"}],name:"updateNonceOrdering",outputs:[],stateMutability:"nonpayable",type:"function"}],px=1,$0="/docs/contract/encodeDeployData";function dF(e){const{abi:t,args:n,bytecode:r,deploymentType:s,salt:i}=e;if(!n||n.length===0){const{functionName:l,argsContractDeployer:d}=mx(s,i??Kw,Ke($m(r)),"0x");return Qn({abi:hx,functionName:l,args:d})}const o=t.find(l=>"type"in l&&l.type==="constructor");if(!o)throw new cS({docsPath:$0});if(!("inputs"in o))throw new Wd({docsPath:$0});if(!o.inputs||o.inputs.length===0)throw new Wd({docsPath:$0});const a=Di(o.inputs,n),{functionName:c,argsContractDeployer:u}=mx(s,i??Kw,Ke($m(r)),a);return Qn({abi:hx,functionName:c,args:u})}function mx(e,t,n,r){const s=[t,n,r];return{create:{functionName:"create",argsContractDeployer:s},create2:{functionName:"create2",argsContractDeployer:s},createAccount:{functionName:"createAccount",argsContractDeployer:[...s,px]},create2Account:{functionName:"create2Account",argsContractDeployer:[...s,px]}}[e||"create"]}function H_(e){if(!ul(e))throw new $_;di(e)}async function fF(e,t){var u,l,d;const{account:n=e.account,chain:r=e.chain,...s}=t,i=n?xt(n):e.account;if(!i)throw new Cs({docsPath:"/docs/actions/wallet/signTransaction"});if(H_({account:i,chain:r,...t}),!((u=r==null?void 0:r.custom)!=null&&u.getEip712Domain))throw new Q("`getEip712Domain` not found on chain.");if(!((l=r==null?void 0:r.serializers)!=null&&l.transaction))throw new Q("transaction serializer not found on chain.");const o=await ye(e,fi,"getChainId")({});r!==null&&ol({currentChainId:o,chain:r});const a=r==null?void 0:r.custom.getEip712Domain({...s,chainId:o,from:i.address,type:"eip712"}),c=await P_(e,{...a,account:i});return(d=r==null?void 0:r.serializers)==null?void 0:d.transaction({chainId:o,...s,customSignature:c,type:"eip712"},{r:"0x0",s:"0x0",v:0n})}async function G_(e,t){return ul(t)?fF(e,t):await O_(e,t)}async function K_(e,t){const{account:n=e.account,chain:r=e.chain}=t,s=n?xt(n):e.account;if(!s)throw new Cs({docsPath:"/docs/actions/wallet/sendTransaction"});try{H_(t);const i=await dc(e,{...t,nonceManager:s.nonceManager,parameters:["gas","nonce","fees"]});let o;r!==null&&(o=await ye(e,fi,"getChainId")({}),ol({currentChainId:o,chain:r}));const a=await G_(e,{...i,chainId:o});return await ye(e,Jf,"sendRawTransaction")({serializedTransaction:a})}catch(i){throw Yf(i,{...t,account:s,chain:r})}}function hF(e,t){const{abi:n,args:r,bytecode:s,deploymentType:i,salt:o,...a}=t,c=dF({abi:n,args:r,bytecode:s,deploymentType:i,salt:o});return a.factoryDeps=a.factoryDeps||[],a.factoryDeps.includes(s)||a.factoryDeps.push(s),K_(e,{...a,data:c,to:i==="create2"||i==="create2Account"?lF:uF})}async function gx(e,t){return ul(t)?K_(e,t):al(e,t)}function pF(){return e=>({sendTransaction:t=>gx(e,t),signTransaction:t=>G_(e,t),deployContract:t=>hF(e,t),writeContract:t=>Za(Object.assign(e,{sendTransaction:n=>gx(e,n)}),t)})}var mF=323e4,gF=3230002;function Z_(e){return Array.isArray(e)?"%5B"+e.map(Z_).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function yF([e,t]){return`${e}=${Z_(t)}`}function bF(e){const t=Object.entries(e).map(yF).join("&");return btoa(t)}function wF(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${bF(t)}'`),`${n}\``}}var Y_=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=wF(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},Um=8078012;function J_(e){return Array.isArray(e)?"%5B"+e.map(J_).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function xF([e,t]){return`${e}=${J_(t)}`}function vF(e){const t=Object.entries(e).map(xF).join("&");return btoa(t)}function EF(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${vF(t)}'`),`${n}\``}}var Fm=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=EF(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function SF(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new Fm(Um,{alphabet:e,base:e.length,value:n})}var _F=e=>ln({getSizeFromValue:t=>{const[n,r]=yx(t,e[0]);if(!r)return t.length;const s=bx(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(SF(e,t),t==="")return r;const[s,i]=yx(t,e[0]);if(!i)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let o=bx(i,e);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(s.length).fill(0),...a];return n.set(c,r),r+c.length}}),AF=e=>Ot({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const i=e[0].repeat(s);if(s===r.length)return[i,t.length];const o=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),a=IF(o,e);return[i+a,t.length]}});function yx(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function bx(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function IF(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var Q_="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",TF=()=>_F(Q_),RF=()=>AF(Q_),wx="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",X_=()=>ln({getSizeFromValue:e=>{try{return atob(e).length}catch{throw new Fm(Um,{alphabet:wx,base:64,value:e})}},write(e,t,n){try{const r=atob(e).split("").map(s=>s.charCodeAt(0));return t.set(r,n),r.length+n}catch{throw new Fm(Um,{alphabet:wx,base:64,value:e})}}}),NF=()=>Ot({read(e,t=0){const n=e.slice(t);return[btoa(String.fromCharCode(...n)),e.length]}}),CF=e=>e.replace(/\u0000/g,""),MF=globalThis.TextDecoder,Nc=()=>{let e;return Ot({read(t,n){const r=(e||(e=new MF)).decode(t.slice(n));return[CF(r),t.length]}})};function kF(e,t){try{return"exists"in e&&!e.exists?e:Object.freeze({...e,data:t.decode(e.data)})}catch{throw new Y_(gF,{address:e.address})}}function BF(e,t){if(!t)return Object.freeze({address:e,exists:!1});const n=X_().encode(t.data[0]);return Object.freeze({...OF(t),address:e,data:n,exists:!0})}function OF(e){return Object.freeze({executable:e.executable,lamports:e.lamports,programAddress:e.owner,space:e.space})}async function eA(e,t,n={}){const{abortSignal:r,...s}=n,i=await e.getAccountInfo(t,{...s,encoding:"base64"}).send({abortSignal:r});return BF(t,i.value)}function PF(e){if(!e.exists)throw new Y_(mF,{address:e.address})}var LF=28e5,jF=2800001,$F=2800003,DF=2800006,zF=2800007,tA=2800008,UF=2800009;function nA(e){return Array.isArray(e)?"%5B"+e.map(nA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function FF([e,t]){return`${e}=${nA(t)}`}function WF(e){const t=Object.entries(e).map(FF).join("&");return btoa(t)}function VF(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${WF(t)}'`),`${n}\``}}function qF(e,t){return e instanceof Error&&e.name==="SolanaError"?e.context.__code===t:!1}var yo=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=VF(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},HF=361e4,GF=3610001,KF=3610003,ZF=3610005,YF=3610006,JF=3611e3;function rA(e){return Array.isArray(e)?"%5B"+e.map(rA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function QF([e,t]){return`${e}=${rA(t)}`}function XF(e){const t=Object.entries(e).map(QF).join("&");return btoa(t)}function eW(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${XF(t)}'`),`${n}\``}}var mc=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=eW(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function tW(){if(typeof globalThis.crypto>"u"||typeof globalThis.crypto.getRandomValues!="function")throw new mc(JF)}function sh(){if(!globalThis.isSecureContext)throw new mc(HF)}function nW(){var e;if(sh(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.digest)!="function")throw new mc(GF)}function sA(){var e;if(sh(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.exportKey)!="function")throw new mc(KF)}function rW(){var e;if(sh(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.sign)!="function")throw new mc(ZF)}function sW(){var e;if(sh(),typeof globalThis.crypto>"u"||typeof((e=globalThis.crypto.subtle)==null?void 0:e.verify)!="function")throw new mc(YF)}var D0,z0;function rb(){return D0||(D0=TF()),D0}function iW(){return z0||(z0=RF()),z0}function oW(e){if(e.length<32||e.length>44)return!1;const t=rb();try{return t.encode(e).byteLength===32}catch{return!1}}function aW(e){if(e.length<32||e.length>44)throw new yo(jF,{actualLength:e.length});const r=rb().encode(e).byteLength;if(r!==32)throw new yo(LF,{actualLength:r})}function cW(e){return aW(e),e}function Oi(){return Is(uf(rb(),32),e=>cW(e))}function Ge(){return sc(iW(),32)}function uW(){return z2(Oi(),Ge())}function gc(){return new Intl.Collator("en",{caseFirst:"lower",ignorePunctuation:!1,localeMatcher:"best fit",numeric:!1,sensitivity:"variant",usage:"sort"}).compare}var lW=37095705934669439343138083508754565189542113879843219016388785533085940283555n,Un=57896044618658097711785492504343953926634992332820282019728792003956564819949n,xx=19681161376707505956807079304988542015446066515923890162744021073123829784752n;function Nr(e){const t=e%Un;return t>=0n?t:Un+t}function ds(e,t){let n=e;for(;t-- >0n;)n*=n,n%=Un;return n}function dW(e){const n=e*e%Un*e%Un,r=ds(n,2n)*n%Un,s=ds(r,1n)*e%Un,i=ds(s,5n)*s%Un,o=ds(i,10n)*i%Un,a=ds(o,20n)*o%Un,c=ds(a,40n)*a%Un,u=ds(c,80n)*c%Un,l=ds(u,80n)*c%Un,d=ds(l,10n)*i%Un;return ds(d,2n)*e%Un}function fW(e,t){const n=Nr(t*t*t),r=Nr(n*n*t),s=dW(e*r);let i=Nr(e*n*s);const o=Nr(t*i*i),a=i,c=Nr(i*xx),u=o===e,l=o===Nr(-e),d=o===Nr(-e*xx);return u&&(i=a),(l||d)&&(i=c),(Nr(i)&1n)===1n&&(i=Nr(-i)),!u&&!l?null:i}function hW(e,t){const n=Nr(e*e),r=Nr(n-1n),s=Nr(lW*n+1n),i=fW(r,s);if(i===null)return!1;const o=(t&128)!==0;return!(i===0n&&o)}function pW(e){const t=e.toString(16);return t.length===1?`0${t}`:t}function mW(e){const n=`0x${e.reduce((r,s,i)=>`${pW(i===31?s&-129:s)}${r}`,"")}`;return BigInt(n)}function gW(e){if(e.byteLength!==32)return!1;const t=mW(e);return hW(t,e[31])}var vx=32,Ex=16,yW=[80,114,111,103,114,97,109,68,101,114,105,118,101,100,65,100,100,114,101,115,115];async function bW({programAddress:e,seeds:t}){if(nW(),t.length>Ex)throw new yo(DF,{actual:t.length,maxSeeds:Ex});let n;const r=t.reduce((c,u,l)=>{const d=typeof u=="string"?(n||(n=new TextEncoder)).encode(u):u;if(d.byteLength>vx)throw new yo(zF,{actual:d.byteLength,index:l,maxSeedLength:vx});return c.push(...d),c},[]),s=uW(),i=s.encode(e),o=await crypto.subtle.digest("SHA-256",new Uint8Array([...r,...i,...yW])),a=new Uint8Array(o);if(gW(a))throw new yo(tA);return s.decode(a)}async function wW({programAddress:e,seeds:t}){let n=255;for(;n>0;)try{return[await bW({programAddress:e,seeds:[...t,new Uint8Array([n])]}),n]}catch(r){if(qF(r,tA))n--;else throw r}throw new yo(UF)}async function iA(e){if(sA(),e.type!=="public"||e.algorithm.name!=="Ed25519")throw new yo($F);const t=await crypto.subtle.exportKey("raw",e);return Ge().decode(new Uint8Array(t))}var xW=8078007,vW=8078008,EW=8078017,SW=8078018,_W=8078022;function oA(e){return Array.isArray(e)?"%5B"+e.map(oA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function AW([e,t]){return`${e}=${oA(t)}`}function IW(e){const t=Object.entries(e).map(AW).join("&");return btoa(t)}function TW(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${IW(t)}'`),`${n}\``}}var Su=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=TW(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function RW(e,t,n){if(t!==n)throw new Su(xW,{actual:n,codecDescription:e,expected:t})}function NW(e){return e.reduce((t,n)=>t===null||n===null?null:Math.max(t,n),0)}function Ya(e){return e.reduce((t,n)=>t===null||n===null?null:t+n,0)}function dl(e){return _t(e)?e.fixedSize:null}function yc(e){return _t(e)?e.fixedSize:e.maxSize??null}function is(e,t={}){const n=t.size??q2(),r=Jd(n,dl(e)),s=Jd(n,yc(e))??void 0;return ln({...r!==null?{fixedSize:r}:{getSizeFromValue:i=>(typeof n=="object"?ka(i.length,n):0)+[...i].reduce((a,c)=>a+ka(c,e),0),maxSize:s},write:(i,o,a)=>(typeof n=="number"&&RW("array",n,i.length),typeof n=="object"&&(a=n.write(i.length,o,a)),i.forEach(c=>{a=e.write(c,o,a)}),a)})}function ci(e,t={}){const n=t.size??Ws(),r=dl(e),s=Jd(n,r),i=Jd(n,yc(e))??void 0;return Ot({...s!==null?{fixedSize:s}:{maxSize:i},read:(o,a)=>{const c=[];if(typeof n=="object"&&o.slice(a).length===0)return[c,a];if(n==="remainder"){for(;a<o.length;){const[d,p]=e.read(o,a);a=p,c.push(d)}return[c,a]}const[u,l]=typeof n=="number"?[n,a]:n.read(o,a);a=l;for(let d=0;d<u;d+=1){const[p,h]=e.read(o,a);a=h,c.push(p)}return[c,a]}})}function Jd(e,t){return typeof e!="number"?null:e===0?0:t===null?null:t*e}function Vr(e={}){return Pr(e.size??ws(),t=>Number(t)===1)}function ih(){return ln({getSizeFromValue:e=>e.length,write:(e,t,n)=>(t.set(e,n),n+e.length)})}function _u(){return Ot({read:(e,t)=>{const n=e.slice(t);return[n,t+n.length]}})}var CW=()=>Ot({read(e,t){return[e.slice(t).reduce((r,s)=>r+s.toString(16).padStart(2,"0"),""),e.length]}});function aA(e){return Ot({fixedSize:e.length,read:(t,n)=>{const r=CW();if(!Ki(t,e,n))throw new Su(SW,{constant:e,data:t,hexConstant:r.decode(e),hexData:r.decode(t),offset:n});return[void 0,n+e.length]}})}function Ja(e){const t=Ya(e.map(dl)),n=Ya(e.map(yc))??void 0;return Ot({...t===null?{maxSize:n}:{fixedSize:t},read:(r,s)=>{const i=[];return e.forEach(o=>{const[a,c]=o.read(r,s);i.push(a),s=c}),[i,s]}})}function cA(e,t){const n=kW(e),r=(i,o)=>{const a=t(i,o);return MW(e,a),e[a].read(i,o)};if(n!==null)return Ot({fixedSize:n,read:r});const s=BW(e);return Ot({...s!==null?{maxSize:s}:{},read:r})}function MW(e,t){if(typeof e[t]>"u")throw new Su(EW,{maxRange:e.length-1,minRange:0,variant:t})}function kW(e){if(e.length===0)return 0;if(!_t(e[0]))return null;const t=e[0].fixedSize;return e.every(r=>_t(r)&&r.fixedSize===t)?t:null}function BW(e){return NW(e.map(t=>yc(t)))}function OW(e,t={}){const n=t.discriminator??"__kind",r=t.size??ws();return cA(e.map(([s,i])=>Pr(Ja([r,i]),([,o])=>({[n]:s,...o}))),(s,i)=>Number(r.read(s,i)[0]))}function PW(e){const t=[...new Set(Object.values(e).filter(o=>typeof o=="number"))].sort(),n=Object.fromEntries(Object.entries(e).slice(t.length)),r=Object.keys(n),s=Object.values(n),i=[...new Set([...r,...s.filter(o=>typeof o=="string")])];return{enumKeys:r,enumRecord:n,enumValues:s,numericalValues:t,stringValues:i}}function LW({discriminator:e,enumKeys:t,enumValues:n,useValuesAsDiscriminators:r}){return r?jW(n,s=>s===e):e>=0&&e<t.length?e:-1}function jW(e,t){let n=e.length;for(;n--;)if(t(e[n],n,e))return n;return-1}function $W(e){if(e.length===0)return"";let t=[e[0],e[0]];const n=[];for(let r=1;r<e.length;r++){const s=e[r];t[1]+1===s?t[1]=s:(n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),t=[s,s])}return n.push(t[0]===t[1]?`${t[0]}`:`${t[0]}-${t[1]}`),n.join(", ")}function DW(e,t={}){const n=t.size??ws(),r=t.useValuesAsDiscriminators??!1,{enumKeys:s,enumValues:i,numericalValues:o}=PW(e);if(r&&i.some(a=>typeof a=="string"))throw new Su(_W,{stringValues:i.filter(a=>typeof a=="string")});return Pr(n,a=>{const c=Number(a),u=LW({discriminator:c,enumKeys:s,enumValues:i,useValuesAsDiscriminators:r});if(u<0){const l=r?o:[...Array(s.length).keys()];throw new Su(vW,{discriminator:c,formattedValidDiscriminators:$W(l),validDiscriminators:l})}return i[u]})}function zW(e,t){return Pr(Ja([...t,e]),n=>n[n.length-1])}function UW(e,t,n={}){return Pr(ci(Ja([e,t]),n),r=>new Map(r))}function Ta(){return Ot({fixedSize:0,read:(e,t)=>[void 0,t]})}function er(e){const t=e.map(([,s])=>s),n=Ya(t.map(dl)),r=Ya(t.map(yc))??void 0;return ln({...n===null?{getSizeFromValue:s=>e.map(([i,o])=>ka(s[i],o)).reduce((i,o)=>i+o,0),maxSize:r}:{fixedSize:n},write:(s,i,o)=>(e.forEach(([a,c])=>{o=c.write(s[a],i,o)}),o)})}function Je(e){const t=e.map(([,s])=>s),n=Ya(t.map(dl)),r=Ya(t.map(yc))??void 0;return Ot({...n===null?{maxSize:r}:{fixedSize:n},read:(s,i)=>{const o={};return e.forEach(([a,c])=>{const[u,l]=c.read(s,i);i=l,o[a]=u}),[o,i]}})}var FW=e=>({__option:"Some",value:e}),WW=()=>({__option:"None"});function Fn(e,t={}){const n=t.prefix===null?Pr(Ta(),()=>!1):Vr({size:t.prefix??ws()}),r=t.noneValue==="zeroes"?(_3(e),sc(Ta(),e.fixedSize)):t.noneValue?aA(t.noneValue):Ta();return cA([Pr(Ja([n,r]),()=>WW()),Pr(Ja([n,e]),([,s])=>FW(s))],(s,i)=>{if(t.prefix===null&&!t.noneValue)return+(i<s.length);if(t.prefix===null&&t.noneValue!=null){const o=t.noneValue==="zeroes"?new Uint8Array(r.fixedSize).fill(0):t.noneValue;return Ki(s,o,i)?0:1}return Number(n.read(s,i)[0])})}var VW=5663e3,Sx=5663001,qW=5663004,HW=5663016,GW=5663017,_x=5663018,Ax=5663019,KW=8078012;function uA(e){return Array.isArray(e)?"%5B"+e.map(uA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function ZW([e,t]){return`${e}=${uA(t)}`}function YW(e){const t=Object.entries(e).map(ZW).join("&");return btoa(t)}function JW(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${YW(t)}'`),`${n}\``}}function QW(e,t){return e instanceof Error&&e.name==="SolanaError"?e.context.__code===t:!1}var bs=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=JW(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function ui(e,...t){return t.reduce((n,r)=>r(n),e)}var Jr=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(Jr||{}),XW=2,eV=1;function Qa(e){return e>=2}function Au(e){return(e&eV)!==0}function Ix(e,t){return e|t}function tV(e){return e|XW}var nV=3610007,rV=3704e3,sV=3704001,iV=3704004;function lA(e){return Array.isArray(e)?"%5B"+e.map(lA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function oV([e,t]){return`${e}=${lA(t)}`}function aV(e){const t=Object.entries(e).map(oV).join("&");return btoa(t)}function cV(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${aV(t)}'`),`${n}\``}}var Qd=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=cV(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},oh=Object.freeze({name:"Ed25519"});function uV(e){return new Uint8Array([48,46,2,1,0,48,5,6,3,43,101,112,4,34,4,32,...e])}async function Wm(e,t=!1){const n=e.byteLength;if(n!==32)throw new Qd(sV,{actualLength:n});const r=uV(e);return await crypto.subtle.importKey("pkcs8",r,oh,t,["sign"])}async function lV(e,t=!1){if(sA(),e.extractable===!1)throw new Qd(nV,{key:e});const n=await crypto.subtle.exportKey("jwk",e);return await crypto.subtle.importKey("jwk",{crv:"Ed25519",ext:t,key_ops:["verify"],kty:"OKP",x:n.x},"Ed25519",t,["verify"])}async function sb(e,t){rW();const n=await crypto.subtle.sign(oh,e,t);return new Uint8Array(n)}async function dV(e,t,n){return sW(),await crypto.subtle.verify(oh,e,t,n)}async function fV(e,t=!1){if(tW(),e.byteLength!==64)throw new Qd(rV,{byteLength:e.byteLength});const[n,r]=await Promise.all([crypto.subtle.importKey("raw",e.slice(32),oh,!0,["verify"]),Wm(e.slice(0,32),t)]),s=new Uint8Array(32);crypto.getRandomValues(s);const i=await sb(r,s);if(!await dV(n,i,s))throw new Qd(iV);return{privateKey:r,publicKey:n}}async function hV(e,t=!1){const n=Wm(e,t),[r,s]=await Promise.all([(t?n:Wm(e,!0)).then(async i=>await lV(i,!0)),n]);return{privateKey:s,publicKey:r}}var pV=8100003;function dA(e){return Array.isArray(e)?"%5B"+e.map(dA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function mV([e,t]){return`${e}=${dA(t)}`}function gV(e){const t=Object.entries(e).map(mV).join("&");return btoa(t)}function yV(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${gV(t)}'`),`${n}\``}}var bV=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=yV(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function fA(e){return JSON.parse(wV(e),(t,n)=>SV(n)?EV(n):n)}function wV(e){const t=[];let n=!1;for(let r=0;r<e.length;r++){let s=!1;if(e[r]==="\\"&&(t.push(e[r++]),s=!s),e[r]==='"'){t.push(e[r]),s||(n=!n);continue}if(!n){const i=xV(e,r);if(i!=null&&i.length){r+=i.length-1,i.match(/\.|[eE]-/)?t.push(i):t.push(vV(i));continue}}t.push(e[r])}return t.join("")}function xV(e,t){var s;const n=/^-?(?:0|[1-9]\d*)(?:\.\d+)?(?:[eE][+-]?\d+)?/;if(!((s=e[t])!=null&&s.match(/[-\d]/)))return null;const r=e.slice(t).match(n);return r?r[0]:null}function vV(e){return`{"$n":"${e}"}`}function EV({$n:e}){if(e.match(/[eE]/)){const[t,n]=e.split(/[eE]/);return BigInt(t)*BigInt(10)**BigInt(n)}return BigInt(e)}function SV(e){return!!e&&typeof e=="object"&&"$n"in e&&typeof e.$n=="string"}var Tx=0n;function _V(){const e=Tx;return Tx++,e.toString()}function Vm(e){return{id:_V(),jsonrpc:"2.0",method:e.methodName,params:e.params}}function hA(e,t){return IV(JSON.stringify(e,(n,r)=>typeof r=="bigint"?AV(r):r,t))}function AV(e){return{$n:`${e}`}}function IV(e){return e.replace(/\{\s*"\$n"\s*:\s*"(-?\d+)"\s*\}/g,"$1")}function TV(e){return RV(e)}function RV(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const i=n.toString(),o=Reflect.get(t,i,r);if(!o)throw new bV(pV,{method:i,params:s});const a=o(...s);return NV(e,a)}}})}function NV({transport:e},t){return{async send(n){return await t.execute({signal:n==null?void 0:n.abortSignal,transport:e})}}}function CV(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...i){const o=Object.freeze({methodName:s,params:i}),a=e!=null&&e.requestTransformer?e==null?void 0:e.requestTransformer(o):o;return Object.freeze({execute:async({signal:c,transport:u})=>{const l=Vm(a),d=await u({payload:l,signal:c});return e!=null&&e.responseTransformer?e.responseTransformer(d,a):d}})}}})}function pA(e){return e==null||typeof e!="object"||Array.isArray(e)?!1:"jsonrpc"in e&&e.jsonrpc==="2.0"&&"method"in e&&typeof e.method=="string"&&"params"in e}var MV=10,kV=-32700,BV=-32603,OV=-32602,PV=-32601,LV=-32600,jV=-32015,$V=-32014,DV=-32012,zV=-32010,UV=-32009,FV=-32007,WV=-32006,VV=-32004,Rx=-32002,qV=-32001,HV=4615e3,GV=4615026,KV=4615045,ZV=705e4,YV=7050030,JV=7050031,QV=7050035;function mA(e){return Array.isArray(e)?"%5B"+e.map(mA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function XV([e,t]){return`${e}=${mA(t)}`}function eq(e){const t=Object.entries(e).map(XV).join("&");return btoa(t)}function tq(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${eq(t)}'`),`${n}\``}}var id=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=tq(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function gA(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}function yA({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},s){let i,o;typeof r=="string"?i=r:(i=Object.keys(r)[0],o=r[i]);const a=n.indexOf(i),c=e+a,u=t(c,i,o),l=new id(c,u);return gA(l,s),l}var nq=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function bA(e,t){const n=Number(e);return yA({errorCodeBaseOffset:4615001,getErrorContext(r,s,i){return r===HV?{errorName:s,index:n,...i!==void 0?{instructionErrorContext:i}:null}:r===GV?{code:Number(i),index:n}:r===KV?{encodedData:i,index:n}:{index:n}},orderedErrorNames:nq,rpcEnumError:t},bA)}var rq=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function wA(e){return typeof e=="object"&&"InstructionError"in e?bA(...e.InstructionError):yA({errorCodeBaseOffset:7050001,getErrorContext(t,n,r){if(t===ZV)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(t===YV)return{index:Number(r)};if(t===JV||t===QV)return{accountIndex:Number(r.account_index)}},orderedErrorNames:rq,rpcEnumError:e},wA)}function xA(e){let t;if(sq(e)){const{code:n,data:r,message:s}=e,i=Number(n);if(i===Rx){const{err:o,...a}=r,c=o?{cause:wA(o)}:null;t=new id(Rx,{...a,...c})}else{let o;switch(i){case BV:case OV:case LV:case PV:case kV:case DV:case qV:case VV:case $V:case zV:case UV:case FV:case WV:case jV:o={__serverMessage:s};break;default:typeof r=="object"&&!Array.isArray(r)&&(o=r)}t=new id(i,o)}}else{const n=typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"?e.message:"Malformed JSON-RPC error with no message attribute";t=new id(MV,{error:e,message:n})}return gA(t,xA),t}function sq(e){return typeof e=="object"&&e!==null&&"code"in e&&"message"in e&&(typeof e.code=="number"||typeof e.code=="bigint")&&typeof e.message=="string"}function iq(e){return typeof e=="bigint"?Number(e):e}var ae={};function vA(e){return function t(n,r){if(Array.isArray(n))return n.map((s,i)=>{const o={...r,keyPath:[...r.keyPath,i]};return t(s,o)});if(typeof n=="object"&&n!==null){const s={};for(const i in n){if(!Object.prototype.hasOwnProperty.call(n,i))continue;const o={...r,keyPath:[...r.keyPath,i]};s[i]=t(n[i],o)}return s}else return e.reduce((s,i)=>i(s,r),n)}}function EA(e,t){return n=>{const r=vA(e);return Object.freeze({...n,params:r(n.params,t)})}}function oq(e,t){return n=>vA(e)(n,t)}function aq(){return EA([iq],{keyPath:[]})}function cq({commitmentPropertyName:e,params:t,optionsObjectPositionInParams:n,overrideCommitment:r}){const s=t[n];if(s===void 0||s&&typeof s=="object"&&!Array.isArray(s)){if(s&&e in s){if(!s[e]||s[e]==="finalized"){const i=[...t],{[e]:o,...a}=s;return Object.keys(a).length>0?i[n]=a:n===i.length-1?i.length--:i[n]=void 0,i}}else if(r!=="finalized"){const i=[...t];return i[n]={...s,[e]:r},i}}return t}function uq({defaultCommitment:e,optionsObjectPositionByMethod:t}){return n=>{const{params:r,methodName:s}=n;if(!Array.isArray(r))return n;const i=t[s];return i==null?n:Object.freeze({methodName:s,params:cq({commitmentPropertyName:s==="sendTransaction"?"preflightCommitment":"commitment",optionsObjectPositionInParams:i,overrideCommitment:e,params:r})})}}function lq(e){return(t,{keyPath:n})=>(typeof t=="bigint"&&e&&(t>Number.MAX_SAFE_INTEGER||t<-Number.MAX_SAFE_INTEGER)&&e(n,t),t)}function dq(e){return t=>EA([lq((...r)=>e(t,...r))],{keyPath:[]})(t)}var fq={accountNotifications:1,blockNotifications:1,getAccountInfo:1,getBalance:1,getBlock:1,getBlockHeight:0,getBlockProduction:0,getBlocks:2,getBlocksWithLimit:2,getEpochInfo:0,getFeeForMessage:1,getInflationGovernor:0,getInflationReward:1,getLargestAccounts:0,getLatestBlockhash:0,getLeaderSchedule:1,getMinimumBalanceForRentExemption:1,getMultipleAccounts:1,getProgramAccounts:1,getSignaturesForAddress:1,getSlot:0,getSlotLeader:0,getStakeMinimumDelegation:0,getSupply:0,getTokenAccountBalance:1,getTokenAccountsByDelegate:2,getTokenAccountsByOwner:2,getTokenLargestAccounts:1,getTokenSupply:1,getTransaction:1,getTransactionCount:0,getVoteAccounts:0,isBlockhashValid:1,logsNotifications:1,programNotifications:1,requestAirdrop:2,sendTransaction:1,signatureNotifications:1,simulateTransaction:1};function SA(e){const t=e==null?void 0:e.onIntegerOverflow;return n=>ui(n,t?dq(t):r=>r,aq(),uq({defaultCommitment:e==null?void 0:e.defaultCommitment,optionsObjectPositionByMethod:fq}))}function hq(e){return function(n,{keyPath:r}){return typeof n=="number"&&Number.isInteger(n)||typeof n=="bigint"?pq(r,e)?Number(n):BigInt(n):n}}function pq(e,t){return t.some(n=>{if(n.length!==e.length)return!1;for(let r=e.length-1;r>=0;r--){const s=e[r],i=n[r];if(i!==s&&(i!==ae||typeof s!="number"))return!1}return!0})}function _A(e){return oq([hq(e)],{keyPath:[]})}function mq(){return e=>e.result}function gq(){return e=>{const t=e;if("error"in t)throw xA(t.error);return t}}function yq(e){return(t,n)=>{const r=n.methodName,s=e!=null&&e.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return ui(t,i=>gq()(i,n),i=>mq()(i,n),i=>_A(s??[])(i,n))}}function bq(e){return(t,n)=>{const r=n.methodName,s=e!=null&&e.allowedNumericKeyPaths&&r?e.allowedNumericKeyPaths[r]:void 0;return ui(t,i=>_A(s??[])(i,n))}}var qm=[["data","parsed","info","tokenAmount","decimals"],["data","parsed","info","tokenAmount","uiAmount"],["data","parsed","info","rentExemptReserve","decimals"],["data","parsed","info","rentExemptReserve","uiAmount"],["data","parsed","info","delegatedAmount","decimals"],["data","parsed","info","delegatedAmount","uiAmount"],["data","parsed","info","extensions",ae,"state","olderTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ae,"state","newerTransferFee","transferFeeBasisPoints"],["data","parsed","info","extensions",ae,"state","preUpdateAverageRate"],["data","parsed","info","extensions",ae,"state","currentRate"]],ba=[...qm,["data","parsed","info","lastExtendedSlotStartIndex"],["data","parsed","info","slashPenalty"],["data","parsed","info","warmupCooldownRate"],["data","parsed","info","decimals"],["data","parsed","info","numRequiredSigners"],["data","parsed","info","numValidSigners"],["data","parsed","info","stake","delegation","warmupCooldownRate"],["data","parsed","info","exemptionThreshold"],["data","parsed","info","burnPercent"],["data","parsed","info","commission"],["data","parsed","info","votes",ae,"confirmationCount"]],U0=[["index"],["instructions",ae,"accounts",ae],["instructions",ae,"programIdIndex"],["instructions",ae,"stackHeight"]],Nx=[["addressTableLookups",ae,"writableIndexes",ae],["addressTableLookups",ae,"readonlyIndexes",ae],["header","numReadonlySignedAccounts"],["header","numReadonlyUnsignedAccounts"],["header","numRequiredSignatures"],["instructions",ae,"accounts",ae],["instructions",ae,"programIdIndex"],["instructions",ae,"stackHeight"]];function wq(e){return CV({requestTransformer:SA(e),responseTransformer:yq({allowedNumericKeyPaths:xq()})})}var F0;function xq(){return F0||(F0={getAccountInfo:ba.map(e=>["value",...e]),getBlock:[["transactions",ae,"meta","preTokenBalances",ae,"accountIndex"],["transactions",ae,"meta","preTokenBalances",ae,"uiTokenAmount","decimals"],["transactions",ae,"meta","postTokenBalances",ae,"accountIndex"],["transactions",ae,"meta","postTokenBalances",ae,"uiTokenAmount","decimals"],["transactions",ae,"meta","rewards",ae,"commission"],...U0.map(e=>["transactions",ae,"meta","innerInstructions",ae,...e]),...Nx.map(e=>["transactions",ae,"transaction","message",...e]),["rewards",ae,"commission"]],getClusterNodes:[[ae,"featureSet"],[ae,"shredVersion"]],getInflationGovernor:[["initial"],["foundation"],["foundationTerm"],["taper"],["terminal"]],getInflationRate:[["foundation"],["total"],["validator"]],getInflationReward:[[ae,"commission"]],getMultipleAccounts:ba.map(e=>["value",ae,...e]),getProgramAccounts:ba.flatMap(e=>[["value",ae,"account",...e],[ae,"account",...e]]),getRecentPerformanceSamples:[[ae,"samplePeriodSecs"]],getTokenAccountBalance:[["value","decimals"],["value","uiAmount"]],getTokenAccountsByDelegate:qm.map(e=>["value",ae,"account",...e]),getTokenAccountsByOwner:qm.map(e=>["value",ae,"account",...e]),getTokenLargestAccounts:[["value",ae,"decimals"],["value",ae,"uiAmount"]],getTokenSupply:[["value","decimals"],["value","uiAmount"]],getTransaction:[["meta","preTokenBalances",ae,"accountIndex"],["meta","preTokenBalances",ae,"uiTokenAmount","decimals"],["meta","postTokenBalances",ae,"accountIndex"],["meta","postTokenBalances",ae,"uiTokenAmount","decimals"],["meta","rewards",ae,"commission"],...U0.map(e=>["meta","innerInstructions",ae,...e]),...Nx.map(e=>["transaction","message",...e])],getVersion:[["feature-set"]],getVoteAccounts:[["current",ae,"commission"],["delinquent",ae,"commission"]],simulateTransaction:[...ba.map(e=>["value","accounts",ae,...e]),...U0.map(e=>["value","innerInstructions",ae,...e])]}),F0}var vq=81e5;function AA(e){return Array.isArray(e)?"%5B"+e.map(AA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Eq([e,t]){return`${e}=${AA(t)}`}function Sq(e){const t=Object.entries(e).map(Eq).join("&");return btoa(t)}function _q(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Sq(t)}'`),`${n}\``}}var Aq=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=_q(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function Iq(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}var Tq=8100002;function IA(e){return Array.isArray(e)?"%5B"+e.map(IA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function Rq([e,t]){return`${e}=${IA(t)}`}function Nq(e){const t=Object.entries(e).map(Rq).join("&");return btoa(t)}function Cq(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${Nq(t)}'`),`${n}\``}}var Mq=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=Cq(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function kq(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Bq(e){const{fromJson:t,headers:n,toJson:r,url:s}=e;let i;const o=n&&kq(n);return async function({payload:c,signal:u}){const l=r?r(c):JSON.stringify(c),d={...i,body:l,headers:{...o,accept:"application/json","content-length":l.length.toString(),"content-type":"application/json; charset=utf-8"},method:"POST",signal:u},p=await fetch(s,d);if(!p.ok)throw new Mq(Tq,{headers:p.headers,message:p.statusText,statusCode:p.status});return t?t(await p.text(),c):await p.json()}}var Oq=["getAccountInfo","getBalance","getBlock","getBlockCommitment","getBlockHeight","getBlockProduction","getBlocks","getBlocksWithLimit","getBlockTime","getClusterNodes","getEpochInfo","getEpochSchedule","getFeeForMessage","getFirstAvailableBlock","getGenesisHash","getHealth","getHighestSnapshotSlot","getIdentity","getInflationGovernor","getInflationRate","getInflationReward","getLargestAccounts","getLatestBlockhash","getLeaderSchedule","getMaxRetransmitSlot","getMaxShredInsertSlot","getMinimumBalanceForRentExemption","getMultipleAccounts","getProgramAccounts","getRecentPerformanceSamples","getRecentPrioritizationFees","getSignaturesForAddress","getSignatureStatuses","getSlot","getSlotLeader","getSlotLeaders","getStakeMinimumDelegation","getSupply","getTokenAccountBalance","getTokenAccountsByDelegate","getTokenAccountsByOwner","getTokenLargestAccounts","getTokenSupply","getTransaction","getTransactionCount","getVersion","getVoteAccounts","index","isBlockhashValid","minimumLedgerSlot","requestAirdrop","sendTransaction","simulateTransaction"];function Cx(e){return pA(e)&&Oq.includes(e.method)}function Pq(e){return Bq({...e,fromJson:(t,n)=>Cx(n)?fA(t):JSON.parse(t),toJson:t=>Cx(t)?hA(t):JSON.stringify(t)})}var Lq=Object.prototype.toString,jq=Object.keys||function(e){const t=[];for(const n in e)t.push(n);return t};function zc(e,t){let n,r,s,i,o,a,c;if(e===!0)return"true";if(e===!1)return"false";switch(typeof e){case"object":if(e===null)return null;if("toJSON"in e&&typeof e.toJSON=="function")return zc(e.toJSON(),t);if(c=Lq.call(e),c==="[object Array]"){for(s="[",r=e.length-1,n=0;n<r;n++)s+=zc(e[n],!0)+",";return r>-1&&(s+=zc(e[n],!0)),s+"]"}else if(c==="[object Object]"){for(i=jq(e).sort(),r=i.length,s="",n=0;n<r;)o=i[n],a=zc(e[o],!1),a!==void 0&&(s&&(s+=","),s+=JSON.stringify(o)+":"+a),n++;return"{"+s+"}"}else return JSON.stringify(e);case"function":case"undefined":return t?null:void 0;case"bigint":return`${e.toString()}n`;case"string":return JSON.stringify(e);default:return isFinite(e)?e:null}}function TA(e){const t=zc(e,!1);if(t!==void 0)return""+t}function RA(e,t,n){let r="";if(typeof t[0]=="number"){const o=t[0]+1,a=o%10,c=o%100;a==1&&c!=11?r=o+"st":a==2&&c!=12?r=o+"nd":a==3&&c!=13?r=o+"rd":r=o+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(o=>typeof o=="number"?`[${o}]`:o).join("."):void 0,i=new Aq(vq,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return Iq(i,RA),i}var $q={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw RA(e.methodName,t,n)}},Dq=globalThis.AbortController,Mx;function kx(){return{}}function zq(e,t){let n;return async function(s){const{payload:i,signal:o}=s,a=t(i);if(a===void 0)return await e(s);if(n||(queueMicrotask(()=>{n=void 0}),n={}),n[a]==null){const u=new Dq,l=(async()=>{try{return await e({...s,signal:u.signal})}catch(d){if(d===(Mx||(Mx=kx())))return;throw d}})();n[a]={abortController:u,numConsumers:0,responsePromise:l}}const c=n[a];if(c.numConsumers++,o){const u=c.responsePromise;return await new Promise((l,d)=>{const p=h=>{o.removeEventListener("abort",p),c.numConsumers-=1,queueMicrotask(()=>{c.numConsumers===0&&c.abortController.abort(Mx||(Mx=kx()))}),d(h.target.reason)};o.addEventListener("abort",p),u.then(l).catch(d).finally(()=>{o.removeEventListener("abort",p)})})}else return await c.responsePromise}}function Uq(e){return pA(e)?TA([e.method,e.params]):void 0}function Fq(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}function Wq(e){return ui(Pq({...e,headers:{...e.headers?Fq(e.headers):void 0,"solana-client":"js/2.3.0"}}),t=>zq(t,Uq))}function NA(e,t){return Vq(Wq({url:e,...t}))}function Vq(e){return TV({api:wq($q),transport:e})}var qq=10,Hq=-32700,Gq=-32603,Kq=-32602,Zq=-32601,Yq=-32600,Jq=-32015,Qq=-32014,Xq=-32012,eH=-32010,tH=-32009,nH=-32007,rH=-32006,sH=-32004,Bx=-32002,iH=-32001,oH=4615e3,aH=4615026,cH=4615045,uH=705e4,lH=7050030,dH=7050031,fH=7050035,hH=819e4,pH=8190001,mH=9900004;function CA(e){return Array.isArray(e)?"%5B"+e.map(CA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function gH([e,t]){return`${e}=${CA(t)}`}function yH(e){const t=Object.entries(e).map(gH).join("&");return btoa(t)}function bH(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${yH(t)}'`),`${n}\``}}var bo=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=bH(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function MA(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}function kA({errorCodeBaseOffset:e,getErrorContext:t,orderedErrorNames:n,rpcEnumError:r},s){let i,o;typeof r=="string"?i=r:(i=Object.keys(r)[0],o=r[i]);const a=n.indexOf(i),c=e+a,u=t(c,i,o),l=new bo(c,u);return MA(l,s),l}var wH=["GenericError","InvalidArgument","InvalidInstructionData","InvalidAccountData","AccountDataTooSmall","InsufficientFunds","IncorrectProgramId","MissingRequiredSignature","AccountAlreadyInitialized","UninitializedAccount","UnbalancedInstruction","ModifiedProgramId","ExternalAccountLamportSpend","ExternalAccountDataModified","ReadonlyLamportChange","ReadonlyDataModified","DuplicateAccountIndex","ExecutableModified","RentEpochModified","NotEnoughAccountKeys","AccountDataSizeChanged","AccountNotExecutable","AccountBorrowFailed","AccountBorrowOutstanding","DuplicateAccountOutOfSync","Custom","InvalidError","ExecutableDataModified","ExecutableLamportChange","ExecutableAccountNotRentExempt","UnsupportedProgramId","CallDepth","MissingAccount","ReentrancyNotAllowed","MaxSeedLengthExceeded","InvalidSeeds","InvalidRealloc","ComputationalBudgetExceeded","PrivilegeEscalation","ProgramEnvironmentSetupFailure","ProgramFailedToComplete","ProgramFailedToCompile","Immutable","IncorrectAuthority","BorshIoError","AccountNotRentExempt","InvalidAccountOwner","ArithmeticOverflow","UnsupportedSysvar","IllegalOwner","MaxAccountsDataAllocationsExceeded","MaxAccountsExceeded","MaxInstructionTraceLengthExceeded","BuiltinProgramsMustConsumeComputeUnits"];function BA(e,t){const n=Number(e);return kA({errorCodeBaseOffset:4615001,getErrorContext(r,s,i){return r===oH?{errorName:s,index:n,...i!==void 0?{instructionErrorContext:i}:null}:r===aH?{code:Number(i),index:n}:r===cH?{encodedData:i,index:n}:{index:n}},orderedErrorNames:wH,rpcEnumError:t},BA)}var xH=["AccountInUse","AccountLoadedTwice","AccountNotFound","ProgramAccountNotFound","InsufficientFundsForFee","InvalidAccountForFee","AlreadyProcessed","BlockhashNotFound","CallChainTooDeep","MissingSignatureForFee","InvalidAccountIndex","SignatureFailure","InvalidProgramForExecution","SanitizeFailure","ClusterMaintenance","AccountBorrowOutstanding","WouldExceedMaxBlockCostLimit","UnsupportedVersion","InvalidWritableAccount","WouldExceedMaxAccountCostLimit","WouldExceedAccountDataBlockLimit","TooManyAccountLocks","AddressLookupTableNotFound","InvalidAddressLookupTableOwner","InvalidAddressLookupTableData","InvalidAddressLookupTableIndex","InvalidRentPayingAccount","WouldExceedMaxVoteCostLimit","WouldExceedAccountDataTotalLimit","DuplicateInstruction","InsufficientFundsForRent","MaxLoadedAccountsDataSizeExceeded","InvalidLoadedAccountsDataSizeLimit","ResanitizationNeeded","ProgramExecutionTemporarilyRestricted","UnbalancedTransaction"];function OA(e){return typeof e=="object"&&"InstructionError"in e?BA(...e.InstructionError):kA({errorCodeBaseOffset:7050001,getErrorContext(t,n,r){if(t===uH)return{errorName:n,...r!==void 0?{transactionErrorContext:r}:null};if(t===lH)return{index:Number(r)};if(t===dH||t===fH)return{accountIndex:Number(r.account_index)}},orderedErrorNames:xH,rpcEnumError:e},OA)}function PA(e){let t;if(vH(e)){const{code:n,data:r,message:s}=e,i=Number(n);if(i===Bx){const{err:o,...a}=r,c=o?{cause:OA(o)}:null;t=new bo(Bx,{...a,...c})}else{let o;switch(i){case Gq:case Kq:case Yq:case Zq:case Hq:case Xq:case iH:case sH:case Qq:case eH:case tH:case nH:case rH:case Jq:o={__serverMessage:s};break;default:typeof r=="object"&&!Array.isArray(r)&&(o=r)}t=new bo(i,o)}}else{const n=typeof e=="object"&&e!==null&&"message"in e&&typeof e.message=="string"?e.message:"Malformed JSON-RPC error with no message attribute";t=new bo(qq,{error:e,message:n})}return MA(t,PA),t}function vH(e){return typeof e=="object"&&e!==null&&"code"in e&&"message"in e&&(typeof e.code=="number"||typeof e.code=="bigint")&&typeof e.message=="string"}var EH=99e5,SH=9900001;function LA(e){return Array.isArray(e)?"%5B"+e.map(LA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function _H([e,t]){return`${e}=${LA(t)}`}function AH(e){const t=Object.entries(e).map(_H).join("&");return btoa(t)}function IH(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${AH(t)}'`),`${n}\``}}var Ox=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=IH(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},TH=globalThis.AbortController,RH=globalThis.EventTarget,Px;function Lx(){return Symbol(void 0)}var W0=Symbol();function NH({abortSignal:e,dataChannelName:t,dataPublisher:n,errorChannelName:r}){const s=new Map;function i(u){for(const[l,d]of s.entries())d.__hasPolled?(s.delete(l),d.onError(u)):d.publishQueue.push({__type:1,err:u})}const o=new TH;e.addEventListener("abort",()=>{o.abort(),i(Px||(Px=Lx()))});const a={signal:o.signal};let c=W0;return n.on(r,u=>{c===W0&&(c=u,o.abort(),i(u))},a),n.on(t,u=>{s.forEach((l,d)=>{if(l.__hasPolled){const{onData:p}=l;s.set(d,{__hasPolled:!1,publishQueue:[]}),p(u)}else l.publishQueue.push({__type:0,data:u})})},a),{async*[Symbol.asyncIterator](){if(e.aborted)return;if(c!==W0)throw c;const u=Symbol();s.set(u,{__hasPolled:!1,publishQueue:[]});try{for(;;){const l=s.get(u);if(!l)throw new Ox(EH);if(l.__hasPolled)throw new Ox(SH);const d=l.publishQueue;try{if(d.length){l.publishQueue=[];for(const p of d)if(p.__type===0)yield p.data;else throw p.err}else yield await new Promise((p,h)=>{s.set(u,{__hasPolled:!0,onData:p,onError:h})})}catch(p){if(p===(Px||(Px=Lx())))return;throw p}}}finally{s.delete(u)}}}}function jA(e){return{on(t,n,r){function s(i){if(i instanceof CustomEvent){const o=i.detail;n(o)}else n()}return e.addEventListener(t,s,r),()=>{e.removeEventListener(t,s)}}}}function CH(e,t,n){let r;const s=new RH,i=jA(s);return{...i,on(o,a,c){r||(r={dispose:e.on(t,h=>{const g=n(h);if(!g)return;const[y,E]=g;s.dispatchEvent(new CustomEvent(y,{detail:E}))}),numSubscribers:0}),r.numSubscribers++;const u=i.on(o,a,c);let l=!0;function d(){l&&(l=!1,c==null||c.signal.removeEventListener("abort",d),r.numSubscribers--,r.numSubscribers===0&&(r.dispose(),r=void 0),u())}return c==null||c.signal.addEventListener("abort",d),d}}}function jx(e){return e!==null&&(typeof e=="object"||typeof e=="function")}function MH(e){const t=new Set,n={deferreds:t,settled:!1};return Promise.resolve(e).then(r=>{for(const{resolve:s}of t)s(r);t.clear(),n.settled=!0},r=>{for(const{reject:s}of t)s(r);t.clear(),n.settled=!0}),n}var V0=new WeakMap;async function kH(e){let t;return await new Promise((r,s)=>{t={reject:s,resolve:r};for(const i of e){if(!jx(i)){Promise.resolve(i).then(r,s);continue}let o=V0.get(i);o===void 0?(o=MH(i),o.deferreds.add(t),V0.set(i,o)):o.settled?Promise.resolve(i).then(r,s):o.deferreds.add(t)}}).finally(()=>{for(const r of e)jx(r)&&V0.get(r).deferreds.delete(t)})}function BH(e){return new Proxy(e.api,{defineProperty(){return!1},deleteProperty(){return!1},get(t,n,r){if(n!=="then")return function(...s){const i=n.toString(),o=Reflect.get(t,i,r);if(!o)throw new bo(hH,{notificationName:i});const a=o(...s);return OH(e.transport,a)}}})}function OH(e,t){return{async subscribe({abortSignal:n}){const r=await e({signal:n,...t});return NH({abortSignal:n,dataChannelName:"notification",dataPublisher:r,errorChannelName:"error"})}}}function PH(e){return new Proxy({},{defineProperty(){return!1},deleteProperty(){return!1},get(...t){const[n,r]=t,s=r.toString();return function(...i){const o={methodName:s,params:i},a=e.requestTransformer?e.requestTransformer(o):o;return{execute(c){return e.planExecutor({...c,request:a})},request:a}}}})}function LH(e,t){return Object.freeze({...e,on(n,r,s){return n!=="message"?e.on(n,r,s):e.on("message",i=>r(t(i)),s)}})}function jH(e,t){return Object.freeze({...e,send:n=>e.send(t(n))})}var $H=globalThis.AbortController,Hm=new WeakMap;function DH(e,t){return $A(-1,e,t)}function zH(e,t){$A(1,e,t)}function UH(e){let t=Hm.get(e);return t||Hm.set(e,t={}),t}function $A(e,t,n){if(n===void 0)return;const r=UH(t);!r[n]&&e>0&&(r[n]=0);const s=e+r[n];return s<=0?delete r[n]:r[n]=s,s}var $x=new WeakMap;function FH(e,t,n){let r=$x.get(e);r||$x.set(e,r=new WeakMap);const s=n??e;let i=r.get(s);return i||r.set(s,i=CH(e,"message",o=>{const a=o;if(!("method"in a))return;const c=n?n(a.params.result,t):a.params.result;return[`notification:${a.params.subscription}`,c]})),i}async function WH({channel:e,responseTransformer:t,signal:n,subscribeRequest:r,unsubscribeMethodName:s}){let i;e.on("error",()=>{i=void 0,Hm.delete(e)},{signal:n});const o=new Promise((d,p)=>{function h(){if(DH(e,i)===0){const g=Vm({methodName:s,params:[i]});i=void 0,e.send(g).catch(()=>{})}p(this.reason)}n.aborted?h.call(n):n.addEventListener("abort",h)}),a=Vm(r);await e.send(a);const c=new Promise((d,p)=>{const h=new $H;n.addEventListener("abort",h.abort.bind(h));const g={signal:h.signal};e.on("error",y=>{h.abort(),p(y)},g),e.on("message",y=>{y&&typeof y=="object"&&"id"in y&&y.id===a.id&&(h.abort(),"error"in y?p(PA(y.error)):d(y.result))},g)});if(i=await kH([o,c]),i==null)throw new bo(pH);zH(e,i);const u=FH(e,r,t),l=`notification:${i}`;return{on(d,p,h){switch(d){case"notification":return u.on(l,p,h);case"error":return e.on("error",p,h);default:throw new bo(mH,{channelName:d,supportedChannelNames:["notification","error"]})}}}}function VH(e){const t=SA(e),n=bq({allowedNumericKeyPaths:HH()});return PH({planExecutor({request:r,...s}){return WH({...s,responseTransformer:n,subscribeRequest:{...r,methodName:r.methodName.replace(/Notifications$/,"Subscribe")},unsubscribeMethodName:r.methodName.replace(/Notifications$/,"Unsubscribe")})},requestTransformer:t})}function qH(e){return VH(e)}var q0;function HH(){return q0||(q0={accountNotifications:ba.map(e=>["value",...e]),blockNotifications:[["value","block","transactions",ae,"meta","preTokenBalances",ae,"accountIndex"],["value","block","transactions",ae,"meta","preTokenBalances",ae,"uiTokenAmount","decimals"],["value","block","transactions",ae,"meta","postTokenBalances",ae,"accountIndex"],["value","block","transactions",ae,"meta","postTokenBalances",ae,"uiTokenAmount","decimals"],["value","block","transactions",ae,"meta","rewards",ae,"commission"],["value","block","transactions",ae,"meta","innerInstructions",ae,"index"],["value","block","transactions",ae,"meta","innerInstructions",ae,"instructions",ae,"programIdIndex"],["value","block","transactions",ae,"meta","innerInstructions",ae,"instructions",ae,"accounts",ae],["value","block","transactions",ae,"transaction","message","addressTableLookups",ae,"writableIndexes",ae],["value","block","transactions",ae,"transaction","message","addressTableLookups",ae,"readonlyIndexes",ae],["value","block","transactions",ae,"transaction","message","instructions",ae,"programIdIndex"],["value","block","transactions",ae,"transaction","message","instructions",ae,"accounts",ae],["value","block","transactions",ae,"transaction","message","header","numReadonlySignedAccounts"],["value","block","transactions",ae,"transaction","message","header","numReadonlyUnsignedAccounts"],["value","block","transactions",ae,"transaction","message","header","numRequiredSignatures"],["value","block","rewards",ae,"commission"]],programNotifications:ba.flatMap(e=>[["value",ae,"account",...e],[ae,"account",...e]])}),q0}var GH=81e5,KH=8190003;function DA(e){return Array.isArray(e)?"%5B"+e.map(DA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function ZH([e,t]){return`${e}=${DA(t)}`}function YH(e){const t=Object.entries(e).map(ZH).join("&");return btoa(t)}function JH(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${YH(t)}'`),`${n}\``}}function QH(e,t){return e instanceof Error&&e.name==="SolanaError"?e.context.__code===t:!1}var XH=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=JH(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}};function eG(...e){"captureStackTrace"in Error&&typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(...e)}var tG=8190002,Dx=8190003,nG=8190004;function zA(e){return Array.isArray(e)?"%5B"+e.map(zA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function rG([e,t]){return`${e}=${zA(t)}`}function sG(e){const t=Object.entries(e).map(rG).join("&");return btoa(t)}function iG(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${sG(t)}'`),`${n}\``}}var Ll=class extends Error{constructor(...[n,r]){let s,i;if(r){const{cause:a,...c}=r;a&&(i={cause:a}),Object.keys(c).length>0&&(s=c)}const o=iG(n,s);super(o,i);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:n,...s},this.name="SolanaError"}},oG=globalThis.EventTarget,Cc=globalThis.WebSocket,zx=1e3;function aG({sendBufferHighWatermark:e,signal:t,url:n}){if(t.aborted)return Promise.reject(t.reason);let r,s=!1;const i=new Set;function o(){i.forEach(S=>{S()}),i.clear()}function a(){o(),s||y(t.reason),g.readyState!==Cc.CLOSED&&g.readyState!==Cc.CLOSING&&g.close(zx)}function c(S){o(),r==null||r.onCancel(),t.removeEventListener("abort",a),g.removeEventListener("close",c),g.removeEventListener("error",u),g.removeEventListener("message",l),g.removeEventListener("open",h),!t.aborted&&!(S.wasClean&&S.code===zx)&&d.dispatchEvent(new CustomEvent("error",{detail:new Ll(Dx,{cause:S})}))}function u(S){if(!t.aborted&&!s){const M=new Ll(nG,{errorEvent:S});y(M),d.dispatchEvent(new CustomEvent("error",{detail:M}))}}function l(S){t.aborted||d.dispatchEvent(new CustomEvent("message",{detail:S.data}))}const d=new oG,p=jA(d);function h(){s=!0,E({...p,async send(S){if(g.readyState!==Cc.OPEN)throw new Ll(Dx);if(!r&&g.bufferedAmount>e){let M;const _=new Promise((T,O)=>{const $=setInterval(()=>{(g.readyState!==Cc.OPEN||!(g.bufferedAmount>e))&&(clearInterval($),r=void 0,T())},16);M=()=>{r=void 0,clearInterval($),O(new Ll(tG))}});r={onCancel:M,promise:_}}if(r){if(ArrayBuffer.isView(S)&&!(S instanceof DataView)){const M=S.constructor;S=new M(S)}await r.promise}g.send(S)}})}const g=new Cc(n);t.addEventListener("abort",a),g.addEventListener("close",c),g.addEventListener("error",u),g.addEventListener("message",l),g.addEventListener("open",h);let y,E;return new Promise((S,M)=>{y=M,E=S})}function UA(e,t,n){let r="";if(typeof t[0]=="number"){const o=t[0]+1,a=o%10,c=o%100;a==1&&c!=11?r=o+"st":a==2&&c!=12?r=o+"nd":a==3&&c!=13?r=o+"rd":r=o+"th"}else r=`\`${t[0].toString()}\``;const s=t.length>1?t.slice(1).map(o=>typeof o=="number"?`[${o}]`:o).join("."):void 0,i=new XH(GH,{argumentLabel:r,keyPath:t,methodName:e,optionalPathLabel:s?` at path \`${s}\``:"",value:n,...s!==void 0?{path:s}:void 0});return eG(i,UA),i}var cG={defaultCommitment:"confirmed",onIntegerOverflow(e,t,n){throw UA(e.methodName,t,n)}},ib=globalThis.AbortController,uG={jsonrpc:"2.0",method:"ping"};function lG({abortSignal:e,channel:t,intervalMs:n}){let r;function s(){t.send(uG).catch(a=>{QH(a,KH)&&o.abort()})}function i(){clearInterval(r),r=setInterval(s,n)}const o=new ib;return o.signal.addEventListener("abort",()=>{clearInterval(r)}),e.addEventListener("abort",()=>{o.abort()}),t.on("error",()=>{o.abort()},{signal:o.signal}),t.on("message",i,{signal:o.signal}),globalThis.navigator.onLine&&i(),globalThis.addEventListener("offline",function(){clearInterval(r)},{signal:o.signal}),globalThis.addEventListener("online",function(){s(),i()},{signal:o.signal}),{...t,send(...a){return o.signal.aborted||i(),t.send(...a)}}}function dG(){return{entries:[],freeChannelIndex:-1}}function fG(e,{maxSubscriptionsPerChannel:t,minChannels:n}){const r=dG();function s(){if(r.entries.length<n){r.freeChannelIndex=-1;return}let i;for(let o=0;o<r.entries.length;o++){const a=(r.freeChannelIndex+o+2)%r.entries.length,c=r.entries[a];c.subscriptionCount<t&&(!i||i.subscriptionCount>=c.subscriptionCount)&&(i={poolIndex:a,subscriptionCount:c.subscriptionCount})}r.freeChannelIndex=(i==null?void 0:i.poolIndex)??-1}return function({abortSignal:o}){let a;function c(){const u=r.entries.findIndex(l=>l===a);r.entries.splice(u,1),a.dispose(),s()}if(r.freeChannelIndex===-1){const u=new ib,l=e({abortSignal:u.signal});l.then(d=>{d.on("error",c,{signal:u.signal})}).catch(c),a={channel:l,dispose(){u.abort()},subscriptionCount:0},r.entries.push(a)}else a=r.entries[r.freeChannelIndex];return a.subscriptionCount++,o.addEventListener("abort",function(){a.subscriptionCount--,a.subscriptionCount===0?c():r.freeChannelIndex!==-1&&(r.freeChannelIndex--,s())}),s(),a.channel}}function hG(e){return ui(e,t=>LH(t,fA),t=>jH(t,hA))}function pG(e){return mG({...e,jsonSerializer:hG})}function mG(e){if(/^wss?:/i.test(e.url)===!1){const s=e.url.match(/^([^:]+):/);throw new DOMException(s?`Failed to construct 'WebSocket': The URL's scheme must be either 'ws' or 'wss'. '${s[1]}:' is not allowed.`:`Failed to construct 'WebSocket': The URL '${e.url}' is invalid.`)}const{intervalMs:t,...n}=e;return fG(({abortSignal:s})=>aG({...n,sendBufferHighWatermark:e.sendBufferHighWatermark??131072,signal:s}).then(e.jsonSerializer).then(i=>lG({abortSignal:s,channel:i,intervalMs:t??5e3})),{maxSubscriptionsPerChannel:e.maxSubscriptionsPerChannel??100,minChannels:e.minChannels??1})}function gG(e){const t=new Map;return function(r){const{request:s,signal:i}=r,o=TA([s.methodName,s.params]);let a=t.get(o);if(!a){const c=new ib,u=e({...r,signal:c.signal});u.then(l=>{l.on("error",()=>{t.delete(o),c.abort()},{signal:c.signal})}).catch(()=>{}),t.set(o,a={abortController:c,dataPublisherPromise:u,numSubscribers:0})}return a.numSubscribers++,i.addEventListener("abort",()=>{a.numSubscribers--,a.numSubscribers===0&&queueMicrotask(()=>{a.numSubscribers===0&&(t.delete(o),a.abortController.abort())})},{signal:a.abortController.signal}),a.dataPublisherPromise}}function yG({createChannel:e}){return ui(bG(e),t=>gG(t))}function bG(e){return async({execute:t,signal:n})=>{const r=await e({abortSignal:n});return await t({channel:r,signal:n})}}function wG(e,t){const n=yG({createChannel:pG({...t,url:e})});return xG(n)}function Ux(e,t){return wG(e,t)}function xG(e){return BH({api:qH(cG),transport:e})}function FA(e){return oW(e)}var vG=5508e3,EG=5663e3,Fx=5663001,SG=5663004,_G=5663015,AG=8078012;function WA(e){return Array.isArray(e)?"%5B"+e.map(WA).join("%2C%20")+"%5D":typeof e=="bigint"?`${e}n`:encodeURIComponent(String(e!=null&&Object.getPrototypeOf(e)===null?{...e}:e))}function IG([e,t]){return`${e}=${WA(t)}`}function TG(e){const t=Object.entries(e).map(IG).join("&");return btoa(t)}function RG(e,t={}){{let n=`Solana error #${e}; Decode this error by running \`npx @solana/errors decode -- ${e}`;return Object.keys(t).length&&(n+=` '${TG(t)}'`),`${n}\``}}var wo=class extends Error{constructor(...[t,n]){let r,s;if(n){const{cause:o,...a}=n;o&&(s={cause:o}),Object.keys(a).length>0&&(r=a)}const i=RG(t,r);super(i,s);_e(this,"cause",this.cause);_e(this,"context");this.context={__code:t,...r},this.name="SolanaError"}},Iu=(e=>(e[e.WRITABLE_SIGNER=3]="WRITABLE_SIGNER",e[e.READONLY_SIGNER=2]="READONLY_SIGNER",e[e.WRITABLE=1]="WRITABLE",e[e.READONLY=0]="READONLY",e))(Iu||{}),NG=1;function Tu(e){return e>=2}function Ru(e){return(e&NG)!==0}function Wx(e,t){return e|t}function CG(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.blockhash=="string"&&typeof e.lifetimeConstraint.lastValidBlockHeight=="bigint"&&FA(e.lifetimeConstraint.blockhash)}function MG(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new wo(AG,{alphabet:e,base:e.length,value:n})}var kG=e=>ln({getSizeFromValue:t=>{const[n,r]=Vx(t,e[0]);if(!r)return t.length;const s=qx(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(MG(e,t),t==="")return r;const[s,i]=Vx(t,e[0]);if(!i)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let o=qx(i,e);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(s.length).fill(0),...a];return n.set(c,r),r+c.length}});function Vx(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function qx(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}var BG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",OG=()=>kG(BG),H0;function PG(){if(!H0){const e=is(pn(),{size:xr()});H0=er([["lookupTableAddress",Oi()],["writableIndexes",e],["readonlyIndexes",e]])}return H0}var G0;function K0(){return G0||(G0=pn()),G0}function LG(){return er([["numSignerAccounts",K0()],["numReadonlySignerAccounts",K0()],["numReadonlyNonSignerAccounts",K0()]])}var Z0;function jG(){return Z0||(Z0=Is(er([["programAddressIndex",pn()],["accountIndices",is(pn(),{size:xr()})],["data",U2(ih(),xr())]]),e=>e.accountIndices!==void 0&&e.data!==void 0?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),Z0}var $G=128;function DG(){return ln({getSizeFromValue:e=>e==="legacy"?0:1,maxSize:1,write:(e,t,n)=>{if(e==="legacy")return n;if(e<0||e>127)throw new wo(SG,{actualVersion:e});return t.set([e|$G],n),n+1}})}function Hx(){return er(VA())}function Gx(){return Is(er([...VA(),["addressTableLookups",zG()]]),e=>e.version==="legacy"?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function VA(){return[["version",DG()],["header",LG()],["staticAccounts",is(Oi(),{size:xr()})],["lifetimeToken",uf(OG(),32)],["instructions",is(jG(),{size:xr()})]]}function zG(){return is(PG(),{size:xr()})}function UG(){return ln({getSizeFromValue:e=>e.version==="legacy"?Hx().getSizeFromValue(e):Gx().getSizeFromValue(e),write:(e,t,n)=>e.version==="legacy"?Hx().write(e,t,n):Gx().write(e,t,n)})}function Kx(e,t,n){e[t]=n(e[t]??{role:Iu.READONLY})}var rn=Symbol("AddressMapTypeProperty");function FG(e,t){const n={[e]:{[rn]:0,role:Iu.WRITABLE_SIGNER}},r=new Set;for(const s of t){Kx(n,s.programAddress,o=>{if(r.add(s.programAddress),rn in o){if(Ru(o.role))switch(o[rn]){case 0:throw new wo(EG,{programAddress:s.programAddress});default:throw new wo(Fx,{programAddress:s.programAddress})}if(o[rn]===2)return o}return{[rn]:2,role:Iu.READONLY}});let i;if(s.accounts)for(const o of s.accounts)Kx(n,o.address,a=>{const{address:c,...u}=o;if(rn in a)switch(a[rn]){case 0:return a;case 1:{const l=Wx(a.role,u.role);if("lookupTableAddress"in u){if(a.lookupTableAddress!==u.lookupTableAddress&&(i||(i=gc()))(u.lookupTableAddress,a.lookupTableAddress)<0)return{[rn]:1,...u,role:l}}else if(Tu(u.role))return{[rn]:2,role:l};return a.role!==l?{...a,role:l}:a}case 2:{const l=Wx(a.role,u.role);if(r.has(o.address)){if(Ru(u.role))throw new wo(Fx,{programAddress:o.address});return a.role!==l?{...a,role:l}:a}else return"lookupTableAddress"in u&&!Tu(a.role)?{...u,[rn]:1,role:l}:a.role!==l?{...a,role:l}:a}}return"lookupTableAddress"in u?{...u,[rn]:1}:{...u,[rn]:2}})}return n}function WG(e){let t;return Object.entries(e).sort(([r,s],[i,o])=>{if(s[rn]!==o[rn]){if(s[rn]===0)return-1;if(o[rn]===0)return 1;if(s[rn]===2)return-1;if(o[rn]===2)return 1}const a=Tu(s.role);if(a!==Tu(o.role))return a?-1:1;const c=Ru(s.role);return c!==Ru(o.role)?c?-1:1:(t||(t=gc()),s[rn]===1&&o[rn]===1&&s.lookupTableAddress!==o.lookupTableAddress?t(s.lookupTableAddress,o.lookupTableAddress):t(r,i))}).map(([r,s])=>({address:r,...s}))}function VG(e){var n;const t={};for(const r of e){if(!("lookupTableAddress"in r))continue;const s=t[n=r.lookupTableAddress]||(t[n]={readableIndices:[],readonlyIndexes:[],writableIndexes:[],writableIndices:[]});r.role===Iu.WRITABLE?(s.writableIndexes.push(r.addressIndex),s.writableIndices.push(r.addressIndex)):(s.readableIndices.push(r.addressIndex),s.readonlyIndexes.push(r.addressIndex))}return Object.keys(t).sort(gc()).map(r=>({lookupTableAddress:r,...t[r]}))}function qG(e){let t=0,n=0,r=0;for(const s of e){if("lookupTableAddress"in s)break;const i=Ru(s.role);Tu(s.role)?(r++,i||n++):i||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function HG(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}function GG(e,t){const n=HG(t);return e.map(({accounts:r,data:s,programAddress:i})=>({programAddressIndex:n[i],...r?{accountIndices:r.map(({address:o})=>n[o])}:null,...s?{data:s}:null}))}function KG(e){return"nonce"in e?e.nonce:e.blockhash}function ZG(e){const t=e.findIndex(r=>"lookupTableAddress"in r);return(t===-1?e:e.slice(0,t)).map(({address:r})=>r)}function YG(e){const t=FG(e.feePayer.address,e.instructions),n=WG(t);return{...e.version!=="legacy"?{addressTableLookups:VG(n)}:null,header:qG(n),instructions:GG(e.instructions,n),lifetimeToken:KG(e.lifetimeConstraint),staticAccounts:ZG(n),version:e.version}}function JG(e){const t=YG(e),n=UG().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),s={};for(const o of r)s[o]=null;let i;return CG(e)?i={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:i={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address},Object.freeze({lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(s)})}function QG(e,t){return e.length===t.length&&e.every((n,r)=>n===t[r])}async function XG(e,t){let n,r;if(await Promise.all(e.map(async s=>{const i=await iA(s.publicKey),o=t.signatures[i];if(o===void 0){r||(r=new Set),r.add(i);return}if(r)return;const a=await sb(s.privateKey,t.messageBytes);o!==null&&QG(a,o)||(n||(n={}),n[i]=a)})),r&&r.size>0){const s=Object.keys(t.signatures);throw new wo(_G,{expectedAddresses:s,unexpectedAddresses:[...r]})}return n?Object.freeze({...t,signatures:Object.freeze({...t.signatures,...n})}):t}function ob(e){const t={};return e.forEach(n=>{if(!t[n.address])t[n.address]=n;else if(t[n.address]!==n)throw new wo(vG,{address:n.address})}),Object.values(t)}function fl(e){return"modifyAndSignTransactions"in e&&typeof e.modifyAndSignTransactions=="function"}function Xa(e){return"signTransactions"in e&&typeof e.signTransactions=="function"}function qA(e){return"signAndSendTransactions"in e&&typeof e.signAndSendTransactions=="function"}function ah(e){return Xa(e)||fl(e)||qA(e)}function eK(e){return ob((e.accounts??[]).flatMap(t=>"signer"in t?t.signer:[]))}function tK(e){return ob([...e.feePayer&&ah(e.feePayer)?[e.feePayer]:[],...e.instructions.flatMap(eK)])}async function HA(e){const t=await iA(e.publicKey);return Object.freeze({address:t,keyPair:e,signMessages:r=>Promise.all(r.map(async s=>Object.freeze({[t]:await sb(e.privateKey,s.content)}))),signTransactions:r=>Promise.all(r.map(async s=>{const i=await XG([e],s);return Object.freeze({[t]:i.signatures[t]})}))})}async function nK(e,t){return await HA(await fV(e,t))}async function rK(e,t){return await HA(await hV(e,t))}async function sK(e,t){const{partialSigners:n,modifyingSigners:r}=iK(ob(tK(e).filter(ah)),{identifySendingSigner:!1});return await cK(e,r,n,t)}function iK(e,t={}){const r=t.identifySendingSigner??!0?oK(e):null,s=e.filter(a=>a!==r&&(fl(a)||Xa(a))),i=aK(s),o=s.filter(Xa).filter(a=>!i.includes(a));return Object.freeze({modifyingSigners:i,partialSigners:o,sendingSigner:r})}function oK(e){const t=e.filter(qA);if(t.length===0)return null;const n=t.filter(r=>!fl(r)&&!Xa(r));return n.length>0?n[0]:t[0]}function aK(e){const t=e.filter(fl);if(t.length===0)return[];const n=t.filter(r=>!Xa(r));return n.length>0?n:[t[0]]}async function cK(e,t=[],n=[],r){const s=JG(e),i=await t.reduce(async(a,c)=>{const[u]=await c.modifyAndSignTransactions([await a],r);return Object.freeze(u)},Promise.resolve(s)),o=await Promise.all(n.map(async a=>{const[c]=await a.signTransactions([i],r);return c}));return Object.freeze({...i,signatures:Object.freeze(o.reduce((a,c)=>({...a,...c}),i.signatures??{}))})}function uK(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.blockhash=="string"&&typeof e.lifetimeConstraint.lastValidBlockHeight=="bigint"&&FA(e.lifetimeConstraint.blockhash)}function GA(e,t){return"lifetimeConstraint"in t&&t.lifetimeConstraint&&"blockhash"in t.lifetimeConstraint&&t.lifetimeConstraint.blockhash===e.blockhash&&t.lifetimeConstraint.lastValidBlockHeight===e.lastValidBlockHeight?t:Object.freeze({...t,lifetimeConstraint:Object.freeze(e)})}function lK(e,t,n=t){if(!t.match(new RegExp(`^[${e}]*$`)))throw new bs(KW,{alphabet:e,base:e.length,value:n})}var dK=e=>ln({getSizeFromValue:t=>{const[n,r]=Zx(t,e[0]);if(!r)return t.length;const s=Yx(r,e);return n.length+Math.ceil(s.toString(16).length/2)},write(t,n,r){if(lK(e,t),t==="")return r;const[s,i]=Zx(t,e[0]);if(!i)return n.set(new Uint8Array(s.length).fill(0),r),r+s.length;let o=Yx(i,e);const a=[];for(;o>0n;)a.unshift(Number(o%256n)),o/=256n;const c=[...Array(s.length).fill(0),...a];return n.set(c,r),r+c.length}}),fK=e=>Ot({read(t,n){const r=n===0?t:t.slice(n);if(r.length===0)return["",0];let s=r.findIndex(c=>c!==0);s=s===-1?r.length:s;const i=e[0].repeat(s);if(s===r.length)return[i,t.length];const o=r.slice(s).reduce((c,u)=>c*256n+BigInt(u),0n),a=hK(o,e);return[i+a,t.length]}});function Zx(e,t){const[n,r]=e.split(new RegExp(`((?!${t}).*)`));return[n,r]}function Yx(e,t){const n=BigInt(t.length);let r=0n;for(const s of e)r*=n,r+=BigInt(t.indexOf(s));return r}function hK(e,t){const n=BigInt(t.length),r=[];for(;e>0n;)r.unshift(t[Number(e%n)]),e/=n;return r.join("")}var KA="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",pK=()=>dK(KA),mK=()=>fK(KA),Y0;function gK(){if(!Y0){const e=is(pn(),{size:xr()});Y0=er([["lookupTableAddress",Oi()],["writableIndexes",e],["readonlyIndexes",e]])}return Y0}var J0;function yK(){if(!J0){const e=ci(ws(),{size:Li()});J0=Pr(Je([["lookupTableAddress",Ge()],["writableIndexes",e],["readonlyIndexes",e]]),t=>"readableIndices"in t?{...t,readonlyIndexes:t.readableIndices,writableIndexes:t.writableIndices}:t)}return J0}var Q0;function X0(){return Q0||(Q0=pn()),Q0}var ep;function tp(){return ep||(ep=ws()),ep}function bK(){return er([["numSignerAccounts",X0()],["numReadonlySignerAccounts",X0()],["numReadonlyNonSignerAccounts",X0()]])}function wK(){return Je([["numSignerAccounts",tp()],["numReadonlySignerAccounts",tp()],["numReadonlyNonSignerAccounts",tp()]])}var np;function xK(){return np||(np=Is(er([["programAddressIndex",pn()],["accountIndices",is(pn(),{size:xr()})],["data",U2(ih(),xr())]]),e=>e.accountIndices!==void 0&&e.data!==void 0?e:{...e,accountIndices:e.accountIndices??[],data:e.data??new Uint8Array(0)})),np}var rp;function vK(){return rp||(rp=Pr(Je([["programAddressIndex",ws()],["accountIndices",ci(ws(),{size:Li()})],["data",et(_u(),Li())]]),e=>{if(e.accountIndices.length&&e.data.byteLength)return e;const{accountIndices:t,data:n,...r}=e;return{...r,...t.length?{accountIndices:t}:null,...n.byteLength?{data:n}:null}})),rp}var Gm=128;function EK(){return ln({getSizeFromValue:e=>e==="legacy"?0:1,maxSize:1,write:(e,t,n)=>{if(e==="legacy")return n;if(e<0||e>127)throw new bs(qW,{actualVersion:e});return t.set([e|Gm],n),n+1}})}function ZA(){return Ot({maxSize:1,read:(e,t)=>{const n=e[t];return n&Gm?[n^Gm,t+1]:["legacy",t]}})}function Jx(){return er(YA())}function Qx(){return Is(er([...YA(),["addressTableLookups",_K()]]),e=>e.version==="legacy"?e:{...e,addressTableLookups:e.addressTableLookups??[]})}function YA(){return[["version",EK()],["header",bK()],["staticAccounts",is(Oi(),{size:xr()})],["lifetimeToken",uf(pK(),32)],["instructions",is(xK(),{size:xr()})]]}function SK(){return[["version",ZA()],["header",wK()],["staticAccounts",ci(Ge(),{size:Li()})],["lifetimeToken",sc(mK(),32)],["instructions",ci(vK(),{size:Li()})],["addressTableLookups",AK()]]}function _K(){return is(gK(),{size:xr()})}function AK(){return ci(yK(),{size:Li()})}function IK(){return ln({getSizeFromValue:e=>e.version==="legacy"?Jx().getSizeFromValue(e):Qx().getSizeFromValue(e),write:(e,t,n)=>e.version==="legacy"?Jx().write(e,t,n):Qx().write(e,t,n)})}function TK(){return Pr(Je(SK()),({addressTableLookups:e,...t})=>t.version==="legacy"||!(e!=null&&e.length)?t:{...t,addressTableLookups:e})}function Xx(e,t,n){e[t]=n(e[t]??{role:Jr.READONLY})}var sn=Symbol("AddressMapTypeProperty");function RK(e,t){const n={[e]:{[sn]:0,role:Jr.WRITABLE_SIGNER}},r=new Set;for(const s of t){Xx(n,s.programAddress,o=>{if(r.add(s.programAddress),sn in o){if(Au(o.role))switch(o[sn]){case 0:throw new bs(VW,{programAddress:s.programAddress});default:throw new bs(Sx,{programAddress:s.programAddress})}if(o[sn]===2)return o}return{[sn]:2,role:Jr.READONLY}});let i;if(s.accounts)for(const o of s.accounts)Xx(n,o.address,a=>{const{address:c,...u}=o;if(sn in a)switch(a[sn]){case 0:return a;case 1:{const l=Ix(a.role,u.role);if("lookupTableAddress"in u){if(a.lookupTableAddress!==u.lookupTableAddress&&(i||(i=gc()))(u.lookupTableAddress,a.lookupTableAddress)<0)return{[sn]:1,...u,role:l}}else if(Qa(u.role))return{[sn]:2,role:l};return a.role!==l?{...a,role:l}:a}case 2:{const l=Ix(a.role,u.role);if(r.has(o.address)){if(Au(u.role))throw new bs(Sx,{programAddress:o.address});return a.role!==l?{...a,role:l}:a}else return"lookupTableAddress"in u&&!Qa(a.role)?{...u,[sn]:1,role:l}:a.role!==l?{...a,role:l}:a}}return"lookupTableAddress"in u?{...u,[sn]:1}:{...u,[sn]:2}})}return n}function NK(e){let t;return Object.entries(e).sort(([r,s],[i,o])=>{if(s[sn]!==o[sn]){if(s[sn]===0)return-1;if(o[sn]===0)return 1;if(s[sn]===2)return-1;if(o[sn]===2)return 1}const a=Qa(s.role);if(a!==Qa(o.role))return a?-1:1;const c=Au(s.role);return c!==Au(o.role)?c?-1:1:(t||(t=gc()),s[sn]===1&&o[sn]===1&&s.lookupTableAddress!==o.lookupTableAddress?t(s.lookupTableAddress,o.lookupTableAddress):t(r,i))}).map(([r,s])=>({address:r,...s}))}function CK(e){var n;const t={};for(const r of e){if(!("lookupTableAddress"in r))continue;const s=t[n=r.lookupTableAddress]||(t[n]={readableIndices:[],readonlyIndexes:[],writableIndexes:[],writableIndices:[]});r.role===Jr.WRITABLE?(s.writableIndexes.push(r.addressIndex),s.writableIndices.push(r.addressIndex)):(s.readableIndices.push(r.addressIndex),s.readonlyIndexes.push(r.addressIndex))}return Object.keys(t).sort(gc()).map(r=>({lookupTableAddress:r,...t[r]}))}function MK(e){let t=0,n=0,r=0;for(const s of e){if("lookupTableAddress"in s)break;const i=Au(s.role);Qa(s.role)?(r++,i||n++):i||t++}return{numReadonlyNonSignerAccounts:t,numReadonlySignerAccounts:n,numSignerAccounts:r}}function kK(e){const t={};for(const[n,r]of e.entries())t[r.address]=n;return t}function BK(e,t){const n=kK(t);return e.map(({accounts:r,data:s,programAddress:i})=>({programAddressIndex:n[i],...r?{accountIndices:r.map(({address:o})=>n[o])}:null,...s?{data:s}:null}))}function OK(e){return"nonce"in e?e.nonce:e.blockhash}function PK(e){const t=e.findIndex(r=>"lookupTableAddress"in r);return(t===-1?e:e.slice(0,t)).map(({address:r})=>r)}function LK(e){const t=RK(e.feePayer.address,e.instructions),n=NK(t);return{...e.version!=="legacy"?{addressTableLookups:CK(n)}:null,header:MK(n),instructions:BK(e.instructions,n),lifetimeToken:OK(e.lifetimeConstraint),staticAccounts:PK(n),version:e.version}}function jK(e){return Object.freeze({instructions:Object.freeze([]),version:e.version})}var $K="SysvarRecentB1ockHashes11111111111111111111",DK="11111111111111111111111111111111";function zK(e){var t;return e.programAddress===DK&&e.data!=null&&UK(e.data)&&((t=e.accounts)==null?void 0:t.length)===3&&e.accounts[0].address!=null&&e.accounts[0].role===Jr.WRITABLE&&e.accounts[1].address===$K&&e.accounts[1].role===Jr.READONLY&&e.accounts[2].address!=null&&Qa(e.accounts[2].role)}function UK(e){return e.byteLength===4&&e[0]===4&&e[1]===0&&e[2]===0&&e[3]===0}function FK(e){return"lifetimeConstraint"in e&&typeof e.lifetimeConstraint.nonce=="string"&&e.instructions[0]!=null&&zK(e.instructions[0])}function WK(e,t){var r;if("feePayer"in t&&e===((r=t.feePayer)==null?void 0:r.address)&&VK(t.feePayer))return t;const n={...t,feePayer:Object.freeze({address:e})};return Object.freeze(n),n}function VK(e){return!!e&&"address"in e&&typeof e.address=="string"&&Object.keys(e).length===1}function JA(e,t){return QA([e],t)}function QA(e,t){return Object.freeze({...t,instructions:Object.freeze([...t.instructions,...e])})}function qK(e,t){return HK([e],t)}function HK(e,t){return Object.freeze({...t,instructions:Object.freeze([...e,...t.instructions])})}var GK=FK;function KK(e){const t=Object.values(e);if(t.length===0)throw new bs(HW);return t.map(n=>n||new Uint8Array(64).fill(0))}function ZK(){return Is(is(uf(ih(),64),{size:xr()}),KK)}function YK(){return er([["signatures",ZK()],["messageBytes",ih()]])}function JK(){return Pr(Je([["signatures",ci(sc(_u(),64),{size:Li()})],["messageBytes",_u()]]),QK)}function QK(e){const{messageBytes:t,signatures:n}=e,r=Ja([ZA(),k3(ws(),2),ci(Ge(),{size:Li()})]),[s,i,o]=r.decode(t),a=o.slice(0,i);if(a.length!==n.length)throw new bs(GW,{numRequiredSignatures:i,signaturesLength:n.length,signerAddresses:a});const c={};return a.forEach((u,l)=>{const d=n[l];d.every(p=>p===0)?c[u]=null:c[u]=d}),{messageBytes:t,signatures:Object.freeze(c)}}function XK(e){const t=LK(e),n=IK().encode(t),r=t.staticAccounts.slice(0,t.header.numSignerAccounts),s={};for(const o of r)s[o]=null;let i;return uK(e)?i={blockhash:e.lifetimeConstraint.blockhash,lastValidBlockHeight:e.lifetimeConstraint.lastValidBlockHeight}:i={nonce:e.lifetimeConstraint.nonce,nonceAccountAddress:e.instructions[0].accounts[0].address},Object.freeze({lifetimeConstraint:i,messageBytes:n,signatures:Object.freeze(s)})}function ab(e){const t=YK().encode(e);return NF().decode(t)}var XA="TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",eI=(e=>(e[e.Uninitialized=0]="Uninitialized",e[e.Initialized=1]="Initialized",e[e.Frozen=2]="Frozen",e))(eI||{});function eZ(){return DW(eI)}function tZ(){return sc(_u(),36)}function Mc(){return sc(_u(),64)}function nZ(){return OW([["Uninitialized",Ta()],["TransferFeeConfig",et(Je([["transferFeeConfigAuthority",Ge()],["withdrawWithheldAuthority",Ge()],["withheldAmount",jn()],["olderTransferFee",ev()],["newerTransferFee",ev()]]),ot())],["TransferFeeAmount",et(Je([["withheldAmount",jn()]]),ot())],["MintCloseAuthority",et(Je([["closeAuthority",Ge()]]),ot())],["ConfidentialTransferMint",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["autoApproveNewAccounts",Vr()],["auditorElgamalPubkey",Fn(Ge(),{prefix:null,noneValue:"zeroes"})]]),ot())],["ConfidentialTransferAccount",et(Je([["approved",Vr()],["elgamalPubkey",Ge()],["pendingBalanceLow",Mc()],["pendingBalanceHigh",Mc()],["availableBalance",Mc()],["decryptableAvailableBalance",tZ()],["allowConfidentialCredits",Vr()],["allowNonConfidentialCredits",Vr()],["pendingBalanceCreditCounter",jn()],["maximumPendingBalanceCreditCounter",jn()],["expectedPendingBalanceCreditCounter",jn()],["actualPendingBalanceCreditCounter",jn()]]),ot())],["DefaultAccountState",et(Je([["state",eZ()]]),ot())],["ImmutableOwner",et(Je([]),ot())],["MemoTransfer",et(Je([["requireIncomingTransferMemos",Vr()]]),ot())],["NonTransferable",et(Je([]),ot())],["InterestBearingConfig",et(Je([["rateAuthority",Ge()],["initializationTimestamp",jn()],["preUpdateAverageRate",o1()],["lastUpdateTimestamp",jn()],["currentRate",o1()]]),ot())],["CpiGuard",et(Je([["lockCpi",Vr()]]),ot())],["PermanentDelegate",et(Je([["delegate",Ge()]]),ot())],["NonTransferableAccount",et(Je([]),ot())],["TransferHook",et(Je([["authority",Ge()],["programId",Ge()]]),ot())],["TransferHookAccount",et(Je([["transferring",Vr()]]),ot())],["ConfidentialTransferFee",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["elgamalPubkey",Ge()],["harvestToMintEnabled",Vr()],["withheldAmount",Mc()]]),ot())],["ConfidentialTransferFeeAmount",et(Je([["withheldAmount",Mc()]]),ot())],["MetadataPointer",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["metadataAddress",Fn(Ge(),{prefix:null,noneValue:"zeroes"})]]),ot())],["TokenMetadata",et(Je([["updateAuthority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["mint",Ge()],["name",et(Nc(),Ws())],["symbol",et(Nc(),Ws())],["uri",et(Nc(),Ws())],["additionalMetadata",UW(et(Nc(),Ws()),et(Nc(),Ws()))]]),ot())],["GroupPointer",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["groupAddress",Fn(Ge(),{prefix:null,noneValue:"zeroes"})]]),ot())],["TokenGroup",et(Je([["updateAuthority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["mint",Ge()],["size",jn()],["maxSize",jn()]]),ot())],["GroupMemberPointer",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["memberAddress",Fn(Ge(),{prefix:null,noneValue:"zeroes"})]]),ot())],["TokenGroupMember",et(Je([["mint",Ge()],["group",Ge()],["memberNumber",jn()]]),ot())],["ConfidentialMintBurn",Ta()],["ScaledUiAmountConfig",et(Je([["authority",Ge()],["multiplier",i1()],["newMultiplierEffectiveTimestamp",jn()],["newMultiplier",i1()]]),ot())],["PausableConfig",et(Je([["authority",Fn(Ge(),{prefix:null,noneValue:"zeroes"})],["paused",Vr()]]),ot())],["PausableAccount",Ta()]],{size:ot()})}function ev(){return Je([["epoch",jn()],["maximumFee",jn()],["transferFeeBasisPoints",ot()]])}function rZ(){return Je([["mintAuthority",Fn(Ge(),{prefix:Ws(),noneValue:"zeroes"})],["supply",jn()],["decimals",ws()],["isInitialized",Vr()],["freezeAuthority",Fn(Ge(),{prefix:Ws(),noneValue:"zeroes"})],["extensions",Fn(zW(ci(nZ(),{size:"remainder"}),[aA(M3(pn(),83).encode(1))]),{prefix:null})]])}function sZ(e){return kF(e,rZ())}async function iZ(e,t,n){const r=await oZ(e,t,n);return PF(r),r}async function oZ(e,t,n){const r=await eA(e,t,n);return sZ(r)}var aZ="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",cb="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb";function cZ(e){if(!e)throw new Error("Expected a Address.");return typeof e=="object"&&"address"in e?e.address:Array.isArray(e)?e[0]:e}function tI(e,t){return n=>{if(!n.value)return Object.freeze({address:e,role:Jr.READONLY});const r=n.isWritable?Jr.WRITABLE:Jr.READONLY;return Object.freeze({address:cZ(n.value),role:tv(n.value)?tV(r):r,...tv(n.value)?{signer:n.value}:{}})}}function tv(e){return!!e&&typeof e=="object"&&"address"in e&&ah(e)}async function Km(e,t={}){const{programAddress:n="ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}=t;return await wW({programAddress:n,seeds:[Oi().encode(e.owner),Oi().encode(e.tokenProgram),Oi().encode(e.mint)]})}var uZ=0;function lZ(){return Is(er([["discriminator",pn()]]),e=>({...e,discriminator:uZ}))}function dZ(e,t){const n=(t==null?void 0:t.programAddress)??aZ,s={payer:{value:e.payer??null,isWritable:!0},ata:{value:e.ata??null,isWritable:!0},owner:{value:e.owner??null,isWritable:!1},mint:{value:e.mint??null,isWritable:!1},systemProgram:{value:e.systemProgram??null,isWritable:!1},tokenProgram:{value:e.tokenProgram??null,isWritable:!1}};s.tokenProgram.value||(s.tokenProgram.value="TokenzQdBNbLqP5VEhdkAS6EPFLC1PHnBqCXEpPxuEb"),s.systemProgram.value||(s.systemProgram.value="11111111111111111111111111111111");const i=tI(n);return{accounts:[i(s.payer),i(s.ata),i(s.owner),i(s.mint),i(s.systemProgram),i(s.tokenProgram)],programAddress:n,data:lZ().encode({})}}var fZ=12;function hZ(){return Is(er([["discriminator",pn()],["amount",Pg()],["decimals",pn()]]),e=>({...e,discriminator:fZ}))}function pZ(e,t){const n=(t==null?void 0:t.programAddress)??cb,s={source:{value:e.source??null,isWritable:!0},mint:{value:e.mint??null,isWritable:!1},destination:{value:e.destination??null,isWritable:!0},authority:{value:e.authority??null,isWritable:!1}},i={...e},o=(i.multiSigners??[]).map(u=>({address:u.address,role:Jr.READONLY_SIGNER,signer:u})),a=tI(n);return{accounts:[a(s.source),a(s.mint),a(s.destination),a(s.authority),...o],programAddress:n,data:hZ().encode(i)}}H6([ut().transform(e=>e.replace(/[^0-9.-]+/g,"")),Br()]).pipe(UP.number().min(1e-4).max(999999999));var ch=Ns(["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","solana-devnet","solana","sei","sei-testnet","polygon","polygon-amoy","peaq"]),ub=["abstract","abstract-testnet","base-sepolia","base","avalanche-fuji","avalanche","iotex","sei","sei-testnet","polygon","polygon-amoy","peaq"],Zm=new Map([["abstract",2741],["abstract-testnet",11124],["base-sepolia",84532],["base",8453],["avalanche-fuji",43113],["avalanche",43114],["iotex",4689],["sei",1329],["sei-testnet",1328],["polygon",137],["polygon-amoy",80002],["peaq",3338]]),uh=["solana-devnet","solana"],nv=new Map([["solana-devnet",103],["solana",101]]),mZ=Object.fromEntries([...ub,...uh].map(e=>[Zm.get(e),e]));function lb(e){const t=hb(e);return sU({chain:t,transport:L_()}).extend(Zd)}function gZ(){return lb("base-sepolia")}function yZ(){return lb("avalanche-fuji")}function db(e,t){const n=hb(e),r=xU({chain:n,transport:L_(),account:cF(t)});return nI(n)?r.extend(Zd).extend(pF()):r.extend(Zd)}function bZ(e){return db("base-sepolia",e)}function wZ(e){return db("avalanche-fuji",e)}function lh(e){return typeof e=="object"&&e!==null&&"chain"in e&&"transport"in e}function fb(e){const t=e;return typeof e=="object"&&e!==null&&typeof t.address=="string"&&typeof t.type=="string"&&typeof t.sign=="function"&&typeof t.signMessage=="function"&&typeof t.signTypedData=="function"&&typeof t.signTransaction=="function"}function hb(e){if(!e)throw new Error("NETWORK environment variable is not set");switch(e){case"abstract":return MU;case"abstract-testnet":return kU;case"base":return U_;case"base-sepolia":return F_;case"avalanche":return zU;case"avalanche-fuji":return UU;case"sei":return GU;case"sei-testnet":return KU;case"polygon":return qU;case"polygon-amoy":return HU;case"peaq":return VU;case"iotex":return FU;case"iotex-testnet":return WU;default:throw new Error(`Unsupported network: ${e}`)}}var xZ=new Set([2741,11124]);function nI(e){return xZ.has(e.id)}var vZ="https://api.devnet.solana.com",EZ="https://api.mainnet-beta.solana.com",SZ="wss://api.devnet.solana.com",_Z="wss://api.mainnet-beta.solana.com";function rI(e){return NA(e||vZ)}function sI(e){return NA(e||EZ)}function hl(e,t){if(e==="solana-devnet")return rI(t);if(e==="solana")return sI(t);throw new Error("Invalid network")}function AZ(e,t){if(e==="solana-devnet")return Ux(t?rv(t):SZ);if(e==="solana")return Ux(t?rv(t):_Z);throw new Error("Invalid network")}function rv(e){return e.startsWith("http")?e.replace("http","ws"):e}function IZ(e){if(!uh.find(t=>t===e))throw new Error(`Unsupported SVM network: ${e}`);return hl(e)}async function TZ(e){const t=nF.decode(e);if(t.length===64)return await nK(t);if(t.length===32)return await rK(t);throw new Error(`Unexpected key length: ${t.length}. Expected 32 or 64 bytes.`)}function iI(e){return typeof e=="object"&&e!==null&&ah(e)}function RZ(e){return lh(e)||fb(e)}function oI(e){return iI(e)}function Ym(e){return"evm"in e&&"svm"in e}var aI={};cy(aI,{authorizationPrimaryType:()=>NZ,authorizationTypes:()=>cI,config:()=>z6,createClientAvalancheFuji:()=>yZ,createClientSepolia:()=>gZ,createConnectedClient:()=>lb,createSigner:()=>db,createSignerAvalancheFuji:()=>wZ,createSignerSepolia:()=>bZ,getChainFromNetwork:()=>hb,isAccount:()=>fb,isSignerWallet:()=>lh,isZkStackChain:()=>nI,usdcABI:()=>dP});var cI={TransferWithAuthorization:[{name:"from",type:"address"},{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"validAfter",type:"uint256"},{name:"validBefore",type:"uint256"},{name:"nonce",type:"bytes32"}]},NZ="TransferWithAuthorization",CZ={};cy(CZ,{SvmAddressRegex:()=>pb});var pb=/^[1-9A-HJ-NP-Za-km-z]{32,44}$/,MZ=/^[A-Za-z0-9+/]*={0,2}$/;function sv(e){return typeof globalThis<"u"&&typeof globalThis.btoa=="function"?globalThis.btoa(e):Buffer.from(e).toString("base64")}var kZ=18,Jm=/^0x[0-9a-fA-F]{40}$/,mb=/^0x[a-fA-F0-9]{40}|[A-Za-z0-9][A-Za-z0-9-]{0,34}[A-Za-z0-9]$/,BZ=/^0x[0-9a-fA-F]{64}$/,OZ=/^0x[0-9a-fA-F]+$/,gb=["exact"],pl=[1],yb=["insufficient_funds","invalid_exact_evm_payload_authorization_valid_after","invalid_exact_evm_payload_authorization_valid_before","invalid_exact_evm_payload_authorization_value","invalid_exact_evm_payload_signature","invalid_exact_evm_payload_recipient_mismatch","invalid_exact_svm_payload_transaction","invalid_exact_svm_payload_transaction_amount_mismatch","invalid_exact_svm_payload_transaction_create_ata_instruction","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_payee","invalid_exact_svm_payload_transaction_create_ata_instruction_incorrect_asset","invalid_exact_svm_payload_transaction_instructions","invalid_exact_svm_payload_transaction_instructions_length","invalid_exact_svm_payload_transaction_instructions_compute_limit_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction","invalid_exact_svm_payload_transaction_instructions_compute_price_instruction_too_high","invalid_exact_svm_payload_transaction_instruction_not_spl_token_transfer_checked","invalid_exact_svm_payload_transaction_instruction_not_token_2022_transfer_checked","invalid_exact_svm_payload_transaction_fee_payer_included_in_instruction_accounts","invalid_exact_svm_payload_transaction_fee_payer_transferring_funds","invalid_exact_svm_payload_transaction_not_a_transfer_instruction","invalid_exact_svm_payload_transaction_receiver_ata_not_found","invalid_exact_svm_payload_transaction_sender_ata_not_found","invalid_exact_svm_payload_transaction_simulation_failed","invalid_exact_svm_payload_transaction_transfer_to_incorrect_ata","invalid_network","invalid_payload","invalid_payment_requirements","invalid_scheme","invalid_payment","payment_expired","unsupported_scheme","invalid_x402_version","invalid_transaction_state","invalid_x402_version","settle_exact_svm_block_height_exceeded","settle_exact_svm_transaction_confirmation_timed_out","unsupported_scheme","unexpected_settle_error","unexpected_verify_error"],od=e=>Number.isInteger(Number(e))&&Number(e)>=0,PZ=e=>t=>t.length<=e,bb=ut().regex(Jm).or(ut().regex(pb)),LZ=ut().regex(mb).or(ut().regex(pb)),bc=xn({scheme:Ns(gb),network:ch,maxAmountRequired:ut().refine(od),resource:ut().url(),description:ut(),mimeType:ut(),outputSchema:ho(Wa()).optional(),payTo:bb,maxTimeoutSeconds:Br().int(),asset:LZ,extra:ho(Wa()).optional()}),jZ=xn({from:ut().regex(Jm),to:ut().regex(Jm),value:ut().refine(od).refine(PZ(kZ)),validAfter:ut().refine(od),validBefore:ut().refine(od),nonce:ut().regex(BZ)}),$Z=xn({signature:ut().regex(OZ),authorization:jZ}),DZ=xn({transaction:ut().regex(MZ)}),uI=xn({x402Version:Br().refine(e=>pl.includes(e)),scheme:Ns(gb),network:ch,payload:H6([$Z,DZ])});xn({x402Version:Br().refine(e=>pl.includes(e)),error:Ns(yb).optional(),accepts:Mf(bc).optional(),payer:ut().regex(mb).optional()});var zZ=Ns(["GET","POST","PUT","DELETE","PATCH","OPTIONS","HEAD"]),UZ=xn({type:zP("http"),method:zZ,queryParams:ho(ut(),ut()).optional(),bodyType:Ns(["json","form-data","multipart-form-data","text","binary"]).optional(),bodyFields:ho(ut(),Wa()).optional(),headerFields:ho(ut(),Wa()).optional()});DP("type",[UZ]);var FZ=xn({resource:ut(),type:Ns(["http"]),x402Version:Br().refine(e=>pl.includes(e)),accepts:Mf(bc),lastUpdated:$P(),metadata:ho(Wa()).optional()});xn({paymentPayload:uI,paymentRequirements:bc});xn({paymentPayload:uI,paymentRequirements:bc});xn({isValid:q6(),invalidReason:Ns(yb).optional(),payer:bb.optional()});xn({success:q6(),errorReason:Ns(yb).optional(),payer:bb.optional(),transaction:ut().regex(mb),network:ch});xn({type:ut().optional(),limit:Br().optional(),offset:Br().optional()});xn({x402Version:Br().refine(e=>pl.includes(e)),items:Mf(FZ),pagination:xn({limit:Br(),offset:Br(),total:Br()})});var WZ=xn({x402Version:Br().refine(e=>pl.includes(e)),scheme:Ns(gb),network:ch,extra:ho(Wa()).optional()});xn({kinds:Mf(WZ)});function lI(e){if(Zm.has(e))return Zm.get(e);if(nv.has(e))return nv.get(e);throw new Error(`Unsupported network: ${e}`)}var VZ={};cy(VZ,{createDevnetRpcClient:()=>rI,createMainnetRpcClient:()=>sI,createSignerFromBase58:()=>TZ,createSvmConnectedClient:()=>IZ,decodeTransactionFromPayload:()=>qZ,getRpcClient:()=>hl,getRpcSubscriptions:()=>AZ,getTokenPayerFromTransaction:()=>HZ,isSignerWallet:()=>iI,signAndSimulateTransaction:()=>GZ,signTransactionWithSigner:()=>dI});function qZ(e){try{const n=X_().encode(e.transaction);return JK().decode(n)}catch(t){throw console.error("error",t),new Error("invalid_exact_svm_payload_transaction")}}function HZ(e){const t=TK().decode(e.messageBytes),n=t.staticAccounts??[],r=t.instructions??[];for(const s of r){const i=s.programAddressIndex,o=n[i].toString();if(o===XA.toString()||o===cb.toString()){const a=s.accountIndices??[];if(a.length>=4){const c=a[3],u=n[c].toString();if(u)return u}}}return""}async function GZ(e,t,n){const r=await dI(e,t),s=ab(r),i={sigVerify:!0,replaceRecentBlockhash:!1,commitment:"confirmed",encoding:"base64",accounts:void 0,innerInstructions:void 0,minContextSlot:void 0};return await n.simulateTransaction(s,i).send()}async function dI(e,t){if(fl(e)){const[n]=await e.modifyAndSignTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_transaction");return n}if(Xa(e)){const[n]=await e.signTransactions([t]);if(!n)throw new Error("transaction_signer_failed_to_return_signatures");return KZ(t,n)}throw new Error("transaction_signer_must_support_offline_signing")}function KZ(e,t){return Object.freeze({...e,signatures:Object.freeze({...e.signatures,...t})})}xn({paymentHeader:ut(),paymentRequirements:bc});var wb="ComputeBudget111111111111111111111111111111";function ZZ(e){const t="data"in e?e.data:e;if(Ki(t,pn().encode(0),0))return 0;if(Ki(t,pn().encode(1),0))return 1;if(Ki(t,pn().encode(2),0))return 2;if(Ki(t,pn().encode(3),0))return 3;if(Ki(t,pn().encode(4),0))return 4;throw new Error("The provided instruction could not be identified as a computeBudget instruction.")}var YZ=2;function JZ(){return Is(er([["discriminator",pn()],["units",q2()]]),e=>({...e,discriminator:YZ}))}function Qm(e,t){const n=wb,r={...e};return{programAddress:n,data:JZ().encode(r)}}var QZ=3;function XZ(){return Is(er([["discriminator",pn()],["microLamports",Pg()]]),e=>({...e,discriminator:QZ}))}function eY(e,t){const n=wb,r={...e};return{programAddress:n,data:XZ().encode(r)}}var tY=14e5;function nY(e){const t=rY(e);if(t<0)return null;const n=Ws().decode(e.instructions[t].data,1);return{index:t,units:n}}function rY(e){return e.instructions.findIndex(sY)}function sY(e){return e.programAddress===wb&&ZZ(e.data)===2}function iY(e,t){const n=u=>e,r=nY(t);if(!r)return JA(Qm({units:n()}),t);const{index:s,units:i}=r,o=n();if(o===i)return t;const a=Qm({units:o}),c=[...t.instructions];return c.splice(s,1,a),Object.freeze({...t,instructions:c})}var oY={blockhash:"11111111111111111111111111111111",lastValidBlockHeight:0n};function aY(e){return"lifetimeConstraint"in e?e:cY(e)}function cY(e){return GA(oY,e)}async function uY({transactionMessage:e,...t}){const n=!GK(e),r=ui(e,aY,s=>iY(tY,s),XK);return await lY({transaction:r,replaceRecentBlockhash:n,...t})}async function lY({abortSignal:e,rpc:t,transaction:n,...r}){const s=ab(n);try{const{value:{err:i,unitsConsumed:o}}=await t.simulateTransaction(s,{...r,encoding:"base64",sigVerify:!1}).send({abortSignal:e});if(o==null)throw new bs(_x);const a=o>4294967295n?4294967295:Number(o);if(i)throw new bs(Ax,{cause:i,unitsConsumed:a});return a}catch(i){throw QW(i,Ax)?i:new bs(_x,{cause:i})}}function dY({rpc:e}){return async function(n,r){return await uY({...r,rpc:e,transactionMessage:n})}}function fY(e,t){return JA(eY({microLamports:e}),t)}function fI(e){let t;if(ub.includes(e.network)){const n=e.payload;return t={...e,payload:{...n,authorization:Object.fromEntries(Object.entries(n.authorization).map(([r,s])=>[r,typeof s=="bigint"?s.toString():s]))}},sv(JSON.stringify(t))}if(uh.includes(e.network))return t={...e,payload:e.payload},sv(JSON.stringify(t));throw new Error("Invalid network")}async function hY(e,{from:t,to:n,value:r,validAfter:s,validBefore:i,nonce:o},{asset:a,network:c,extra:u}){const l=lI(c),d=u==null?void 0:u.name,p=u==null?void 0:u.version,h={types:cI,domain:{name:d,version:p,chainId:l,verifyingContract:Ea(a)},primaryType:"TransferWithAuthorization",message:{from:Ea(t),to:Ea(n),value:r,validAfter:s,validBefore:i,nonce:o}};if(lh(e))return{signature:await e.signTypedData(h)};if(fb(e)&&e.signTypedData)return{signature:await e.signTypedData(h)};throw new Error("Invalid wallet client provided does not support signTypedData")}function pY(){const e=typeof globalThis.crypto<"u"&&typeof globalThis.crypto.getRandomValues=="function"?globalThis.crypto:lP("crypto").webcrypto;return Ke(e.getRandomValues(new Uint8Array(32)))}function mY(e,t,n){const r=pY(),s=BigInt(Math.floor(Date.now()/1e3)-600).toString(),i=BigInt(Math.floor(Date.now()/1e3+n.maxTimeoutSeconds)).toString();return{x402Version:t,scheme:n.scheme,network:n.network,payload:{signature:void 0,authorization:{from:e,to:n.payTo,value:n.maxAmountRequired,validAfter:s.toString(),validBefore:i.toString(),nonce:r}}}}async function gY(e,t,n){const{signature:r}=await hY(e,n.payload.authorization,t);return{...n,payload:{...n.payload,signature:r}}}async function yY(e,t,n){const r=lh(e)?e.account.address:e.address,s=mY(r,t,n);return gY(e,n,s)}async function bY(e,t,n){const r=await yY(e,t,n);return fI(r)}async function wY(e,t,n,r){const s=await xY(e,t,n,r);return fI(s)}async function xY(e,t,n,r){const s=await vY(e,n,r),i=await sK(s),o=ab(i);return{scheme:n.scheme,network:n.network,x402Version:t,payload:{transaction:o}}}async function vY(e,t,n){var d,p;const r=hl(t.network,(d=n==null?void 0:n.svmConfig)==null?void 0:d.rpcUrl),s=await EY(e,t,n),i=(p=t.extra)==null?void 0:p.feePayer,o=ui(jK({version:0}),h=>fY(1,h),h=>WK(i,h),h=>QA(s,h)),c=await dY({rpc:r})(o),{value:u}=await r.getLatestBlockhash().send();return ui(o,h=>qK(Qm({units:c}),h),h=>GA(u,h))}async function EY(e,t,n){var l;const{asset:r}=t,s=hl(t.network,(l=n==null?void 0:n.svmConfig)==null?void 0:l.rpcUrl),i=await iZ(s,r),o=i.programAddress;if(o.toString()!==XA.toString()&&o.toString()!==cb.toString())throw new Error("Asset was not created by a known token program");const a=[],c=await SY(t,o,n);c&&a.push(c);const u=await _Y(e,t,i.data.decimals,o);return a.push(u),a}async function SY(e,t,n){var l,d;const{asset:r,payTo:s,extra:i}=e;if(!(i==null?void 0:i.feePayer))throw new Error("feePayer is required in paymentRequirements.extra in order to set the facilitator as the fee payer for the create associated token account instruction");const[a]=await Km({mint:r,owner:s,tokenProgram:t}),c=hl(e.network,(l=n==null?void 0:n.svmConfig)==null?void 0:l.rpcUrl);if(!(await eA(c,a)).exists)return dZ({payer:(d=e.extra)==null?void 0:d.feePayer,ata:a,owner:s,mint:r,tokenProgram:t})}async function _Y(e,t,n,r){const{asset:s,maxAmountRequired:i,payTo:o}=t,[a]=await Km({mint:s,owner:e.address,tokenProgram:r}),[c]=await Km({mint:s,owner:o,tokenProgram:r});return pZ({source:a,mint:s,destination:c,authority:e,amount:BigInt(i),decimals:n},{programAddress:r})}async function AY(e,t,n,r){if(n.scheme==="exact"){if(ub.includes(n.network)){const s=Ym(e)?e.evm:e;if(!RZ(s))throw new Error("Invalid evm wallet client provided");return await bY(s,t,n)}if(uh.includes(n.network)){const s=Ym(e)?e.svm:e;if(!oI(s))throw new Error("Invalid svm wallet client provided");return await wY(s,t,n,r)}throw new Error("Unsupported network")}throw new Error("Unsupported scheme")}function IY(e,t,n){e.sort((i,o)=>i.network==="base"&&o.network!=="base"?-1:i.network!=="base"&&o.network==="base"?1:0);const r=e.filter(i=>{const o=!n||i.scheme===n,a=!t||(Array.isArray(t)?t.includes(i.network):t==i.network);return o&&a}),s=r.filter(i=>{var o;return i.asset===((o=fP(lI(i.network)))==null?void 0:o.usdcAddress)});return s.length>0?s[0]:r.length>0?r[0]:e[0]}function xb(e,t,n=IY,r){return e.interceptors.response.use(s=>s,async s=>{var i;if(!s.response||s.response.status!==402)return Promise.reject(s);try{const o=s.config;if(!o||!o.headers)return Promise.reject(new Error("Missing axios request configuration"));if(o.__is402Retry)return Promise.reject(s);const{x402Version:a,accepts:c}=s.response.data,u=c.map(g=>bc.parse(g)),l=Ym(t)?void 0:aI.isSignerWallet(t)?mZ[(i=t.chain)==null?void 0:i.id]:oI(t)?["solana","solana-devnet"]:void 0,d=n(u,l,"exact"),p=await AY(t,a,d,r);return o.__is402Retry=!0,o.headers["X-PAYMENT"]=p,o.headers["Access-Control-Expose-Headers"]="X-PAYMENT-RESPONSE",await e.request(o)}catch(o){return Promise.reject(o)}}),e}const TY="https://adx402-api.ateliertech.xyz";async function RY({signer:e,wallet:t,file:n,targetUrl:r,tags:s=[]}){const i=xb(ht.create({baseURL:TY,withCredentials:!0}),e),o=new FormData;return o.append("file",n),r&&o.append("targetUrl",r),s.length>0&&o.append("tags",s.join(",")),i.post("/brand/ad",o,{params:{wallet:t},headers:{"Content-Type":"multipart/form-data"}})}function Xm(e){if(!e.publicKey)throw new Error("Wallet no conectada");if(!e.signTransaction&&!e.signAllTransactions)throw new Error("La wallet no soporta firmas de transacciones");const t=e.publicKey.toBase58();return{address:t,async signTransactions(r,s){iv(s==null?void 0:s.abortSignal);const i=r.map(a=>NY(a));let o;if(e.signAllTransactions)o=await e.signAllTransactions(i);else if(e.signTransaction){o=[];for(const a of i)iv(s==null?void 0:s.abortSignal),o.push(await e.signTransaction(a))}else throw new Error("La wallet no expone mtodos para firmar");return o.map(a=>{const c=CY(a,t);if(!c)throw new Error("No se pudo obtener la firma de la wallet conectada");return{[t]:c}})}}}function iv(e){if(e&&e.aborted)throw e.reason??new DOMException("Aborted","AbortError")}function NY(e){const t=Be.Buffer.from(e.messageBytes);if((t[0]&128)!==0){const i=pf.deserialize(t),o=new vo(i);return e.signatures&&(o.signatures=o.signatures.map((a,c)=>{var d;const u=i.staticAccountKeys[c].toBase58(),l=(d=e.signatures)==null?void 0:d[u];return l?Be.Buffer.from(l):a})),o}const r=vs.from(t),s=Mr.populate(r,[]);return e.signatures&&(s.signatures=s.signatures.map(i=>{var a;const o=(a=e.signatures)==null?void 0:a[i.publicKey.toBase58()];return{...i,signature:o?Be.Buffer.from(o):i.signature}})),s}function CY(e,t){if(e instanceof vo){const r=e.message.staticAccountKeys.findIndex(i=>i.toBase58()===t);if(r===-1)return null;const s=e.signatures[r];return s?new Uint8Array(s):null}const n=e.signatures.find(r=>r.publicKey.toBase58()===t);return!n||!n.signature?null:new Uint8Array(n.signature)}const ov=["16x9","1x1","5x6","4x3"],MY=e=>`${e.slice(0,4)}${e.slice(-4)}`;function kY(e){if(!e)return null;try{const t=JSON.parse(atob(e));return typeof t.transaction=="string"?t.transaction:null}catch{return null}}function BY(){var M;const{wallet:e}=ny(),t=Du(),n=V.useMemo(()=>D6.slice(0,3),[]),r=aP.filter(_=>_.status==="approved"),s="?cluster=devnet",[i,o]=V.useState({url:"",tags:"",aspectRatio:ov[0],file:null}),[a,c]=V.useState({isLoading:!1,message:null,error:null}),[u,l]=V.useState(null),d=((M=t.publicKey)==null?void 0:M.toBase58())??null,p=V.useMemo(()=>{if(!d||!t.signTransaction&&!t.signAllTransactions)return null;try{return Xm(t)}catch(_){return console.error("No se pudo inicializar el signer de la wallet:",_),null}},[d,t]),h=V.useCallback(_=>{o(T=>({...T,url:_.target.value}))},[o]),g=V.useCallback(_=>{o(T=>({...T,tags:_.target.value}))},[o]),y=V.useCallback(_=>{o(T=>({...T,aspectRatio:_.target.value}))},[o]),E=V.useCallback(_=>{var O;const T=((O=_.target.files)==null?void 0:O[0])??null;o($=>({...$,file:T}))},[]),S=V.useCallback(async _=>{var O,$;if(_.preventDefault(),!(e!=null&&e.publicKey)){c({isLoading:!1,message:null,error:"Conecta tu wallet para publicar anuncios"});return}if(!i.file){c({isLoading:!1,message:null,error:"Selecciona un banner antes de continuar"});return}if(!p){c({isLoading:!1,message:null,error:"Tu wallet no permite firmar este pago. Reintenta con Phantom o Solflare"});return}c({isLoading:!0,message:null,error:null}),l(null);const T=i.tags.split(",").map(D=>D.trim()).filter(Boolean);try{const D=await RY({signer:p,wallet:e.publicKey,file:i.file,targetUrl:i.url,tags:T});c({isLoading:!1,message:D.data.message,error:null});const z=D.headers["x-payment-response"];z&&l({raw:z,signature:kY(z)})}catch(D){const z=ht.isAxiosError(D)?(($=(O=D.response)==null?void 0:O.data)==null?void 0:$.message)||D.message||"Error desconocido al publicar el anuncio":"Error inesperado al publicar el anuncio";c({isLoading:!1,message:null,error:z})}},[i.file,i.tags,i.url,p,e==null?void 0:e.publicKey]);return N.jsxs("div",{className:"min-h-screen bg-background text-text",children:[N.jsx("div",{className:"border-b border-border bg-surface",children:N.jsxs("div",{className:"container mx-auto flex flex-col gap-4 px-6 py-6 md:flex-row md:items-center md:justify-between",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-text-secondary",children:"Brand Console"}),N.jsx("h1",{className:"text-3xl font-semibold",children:"Manage your campaigns"})]}),N.jsxs("div",{className:"flex flex-col items-start gap-2 md:flex-row md:items-center",children:[N.jsx("div",{className:"text-sm text-text-secondary",children:e!=null&&e.publicKey?`Connected wallet: ${e.publicKey.slice(0,4)}${e.publicKey.slice(-4)}`:"Connect your wallet to publish ads"}),N.jsx(ry,{className:"!bg-primary !text-white hover:!bg-primary/90"})]})]})}),N.jsxs("main",{className:"container mx-auto px-6 py-8 space-y-8",children:[N.jsx("section",{className:"grid gap-6 md:grid-cols-3",children:n.map((_,T)=>N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsxs(qn,{children:["Period: ",_.period]}),N.jsx(Vn,{className:"text-4xl text-primary",children:_.impressions.toLocaleString()})]}),N.jsxs(Bt,{children:[N.jsx("p",{className:"text-text-secondary",children:"Impressions"}),N.jsxs("div",{className:"mt-3 text-sm text-text-muted",children:[_.clicks," clicks  ",_.ctr,"% CTR  ",_.earnings," SOL spent"]})]})]},_.period+T))}),N.jsxs("section",{className:"grid gap-6 lg:grid-cols-3",children:[N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Create a new ad"}),N.jsx(qn,{children:"Upload your creative and pay the fee afterwards"})]}),N.jsx(Bt,{children:N.jsxs("form",{className:"space-y-4",onSubmit:S,children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"ad-url",required:!0,children:"Destination URL"}),N.jsx(kr,{id:"ad-url",placeholder:"https://your-site.com",value:i.url,onChange:h})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"ad-tags",children:"Tags (comma separated)"}),N.jsx(kr,{id:"ad-tags",placeholder:"tech, gaming, solana",value:i.tags,onChange:g})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"ad-image",required:!0,children:"Banner image"}),N.jsxs("label",{htmlFor:"ad-image",className:"flex cursor-pointer flex-col items-center justify-center rounded-xl border-2 border-dashed border-border bg-surface px-4 py-8 text-center text-sm text-text-secondary hover:border-primary",children:[N.jsx("span",{className:"font-medium text-text",children:i.file?i.file.name:"Drop your banner here"}),N.jsx("span",{className:"text-text-muted",children:"PNG, JPG or GIF  max 5MB"}),N.jsx(kr,{id:"ad-image",type:"file",accept:"image/*",className:"hidden",onChange:E})]})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"ad-aspect",children:"Aspect Ratio (for preview only)"}),N.jsx("select",{id:"ad-aspect",className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-text",value:i.aspectRatio,onChange:y,children:ov.map(_=>N.jsx("option",{value:_,children:_},_))})]}),N.jsx(An,{className:"w-full",type:"submit",isLoading:a.isLoading,children:"Submit for moderation"}),a.error&&N.jsx("p",{className:"text-sm text-error",children:a.error}),a.message&&N.jsx("p",{className:"text-sm text-success",children:a.message}),(u==null?void 0:u.signature)&&N.jsxs("p",{className:"text-xs text-text-secondary",children:["Payment tx:"," ",N.jsx("a",{href:`https://explorer.solana.com/tx/${u.signature}${s}`,target:"_blank",rel:"noreferrer",className:"text-primary underline",children:MY(u.signature)})]})]})})]}),N.jsxs(kt,{className:"lg:col-span-2",children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Your ads"}),N.jsx(qn,{children:"Track status, targeting and performance"})]}),N.jsx(Bt,{className:"space-y-4",children:r.map(_=>N.jsxs("div",{className:"rounded-xl border border-border p-4",children:[N.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-text-secondary",children:"Ad ID"}),N.jsx("p",{className:"font-medium",children:_.id})]}),N.jsx("span",{className:"rounded-full bg-success/10 px-3 py-1 text-sm text-success",children:"Approved"})]}),N.jsxs("div",{className:"mt-3 grid gap-3 text-sm text-text-secondary md:grid-cols-3",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-text-muted",children:"Aspect Ratio"}),N.jsx("p",{className:"text-text",children:_.aspectRatio})]}),N.jsxs("div",{children:[N.jsx("p",{className:"text-text-muted",children:"Tags"}),N.jsx("p",{className:"text-text",children:_.tags.join(", ")})]}),N.jsxs("div",{children:[N.jsx("p",{className:"text-text-muted",children:"Impressions"}),N.jsx("p",{className:"text-text",children:_.impressions.toLocaleString()})]})]}),N.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[N.jsx(An,{variant:"outline",size:"sm",children:"View metrics"}),N.jsx(An,{variant:"ghost",size:"sm",children:"Pause ad"})]})]},_.id))})]})]})]})]})}const hI="https://adx402-api.ateliertech.xyz";async function OY({signer:e,walletAddress:t,domain:n,tags:r}){const s=xb(ht.create({baseURL:hI,withCredentials:!0}),e);try{return(await s.post("/publisher/create",{walletAddress:t,domain:n,tags:r})).data}catch(i){throw console.error("Error registering publisher:",i),i}}async function PY({signer:e,wallet:t,slotId:n,tags:r,aspectRatios:s}){const i=xb(ht.create({baseURL:hI,withCredentials:!0}),e);try{return(await i.post("/publisher/create-slot",{wallet:t,slotId:n,tags:r,aspectRatios:s})).data}catch(o){throw console.error("Error creating slot:",o),o}}const Si=cP[0];function LY(){const{wallet:e}=ny(),t=Du(),[n,r]=V.useState({domain:"",tags:""}),[s,i]=V.useState(!1),[o,a]=V.useState(!1),[c,u]=V.useState(null),[l,d]=V.useState(!1),[p,h]=V.useState({slotId:"",tags:"",aspectRatios:""}),[g,y]=V.useState(!1),[E,S]=V.useState(!1),M=async T=>{var O,$;if(T.preventDefault(),!(e!=null&&e.publicKey)||!t.publicKey){alert("Please connect your wallet first");return}i(!0),u(null),d(!1);try{const D=Xm(t),z=n.tags.split(",").map(U=>U.trim()).filter(Boolean);await OY({signer:D,walletAddress:e.publicKey,domain:n.domain,tags:z}),a(!0),r({domain:"",tags:""})}catch(D){if(console.error("Registration failed:",D),ht.isAxiosError(D)&&(($=(O=D.response)==null?void 0:O.data)!=null&&$.error)){const z=D.response.data.error;z.code==="PUBLISHER_ALREADY_EXISTS"?(d(!0),u("You are already registered as a publisher with this wallet address.")):u(z.message||"Registration failed. Please try again.")}else u("An unexpected error occurred. Please try again.")}finally{i(!1)}},_=async T=>{if(T.preventDefault(),!(e!=null&&e.publicKey)||!t.publicKey){alert("Please connect your wallet first");return}y(!0);try{const O=Xm(t),$=p.tags.split(",").map(z=>z.trim()).filter(Boolean),D=p.aspectRatios.split(",").map(z=>z.trim()).filter(Boolean);await PY({signer:O,wallet:e.publicKey,slotId:p.slotId,tags:$,aspectRatios:D}),S(!0),h({slotId:"",tags:"",aspectRatios:""})}catch(O){console.error("Slot creation failed:",O),alert("Slot creation failed. Please try again.")}finally{y(!1)}};return N.jsxs("div",{className:"min-h-screen bg-background text-text",children:[N.jsx("div",{className:"border-b border-border bg-surface",children:N.jsxs("div",{className:"container mx-auto flex flex-col gap-4 px-6 py-6 md:flex-row md:items-center md:justify-between",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-text-secondary",children:"Publisher Console"}),N.jsx("h1",{className:"text-3xl font-semibold",children:"Monetize your inventory"})]}),N.jsxs("div",{className:"flex flex-col items-start gap-2 md:flex-row md:items-center",children:[N.jsx("div",{className:"text-sm text-text-secondary",children:e!=null&&e.publicKey?`Connected wallet: ${e.publicKey.slice(0,4)}${e.publicKey.slice(-4)}`:"Connect your wallet to register slots"}),N.jsx(ry,{className:"!bg-primary !text-white hover:!bg-primary/90"})]})]})}),N.jsxs("main",{className:"container mx-auto px-6 py-8 space-y-8",children:[N.jsxs("section",{className:"grid gap-6 md:grid-cols-3",children:[N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(qn,{children:"Domain"}),N.jsx(Vn,{children:Si.siteUrl})]}),N.jsx(Bt,{children:N.jsxs("p",{className:"text-text-secondary",children:["Tags: ",Si.tags.join(", ")]})})]}),N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(qn,{children:"Total earnings"}),N.jsxs(Vn,{className:"text-success",children:[Si.totalEarnings," SOL"]})]}),N.jsx(Bt,{children:N.jsxs("p",{className:"text-text-secondary",children:["Impressions: ",Si.totalImpressions.toLocaleString()]})})]}),N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(qn,{children:"Active slots"}),N.jsx(Vn,{children:Si.slotsCount})]}),N.jsx(Bt,{children:N.jsxs("p",{className:"text-text-secondary",children:["Clicks: ",Si.totalClicks.toLocaleString()]})})]})]}),N.jsxs("section",{className:"grid gap-6 lg:grid-cols-2",children:[!o&&!l?N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Register as Publisher"}),N.jsx(qn,{children:"Register your domain to start monetizing your inventory"})]}),N.jsxs(Bt,{children:[c&&N.jsxs("div",{className:"mb-4 p-3 bg-error/10 border border-error/20 rounded-lg text-error text-sm",children:[" ",c]}),N.jsxs("form",{onSubmit:M,className:"space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"domain",required:!0,children:"Domain"}),N.jsx(kr,{id:"domain",placeholder:"example.com",value:n.domain,onChange:T=>r(O=>({...O,domain:T.target.value})),required:!0})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"publisher-tags",children:"Tags (comma-separated)"}),N.jsx(kr,{id:"publisher-tags",placeholder:"technology, gaming, news",value:n.tags,onChange:T=>r(O=>({...O,tags:T.target.value}))})]}),N.jsx(An,{type:"submit",className:"w-full",disabled:s||!(e!=null&&e.publicKey),children:s?"Registering...":"Register as Publisher"})]})]})]}):o?N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:" Publisher Registered"}),N.jsx(qn,{children:"You are now registered as a publisher!"})]}),N.jsx(Bt,{children:N.jsxs("div",{className:"p-4 bg-success/10 border border-success/20 rounded-lg text-success",children:[N.jsx("p",{className:"font-semibold",children:"Registration Complete"}),N.jsx("p",{className:"text-sm",children:"You can now create advertising slots for your website."})]})})]}):l?N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:" Already Registered"}),N.jsx(qn,{children:"You're already set up as a publisher"})]}),N.jsxs(Bt,{children:[N.jsxs("div",{className:"p-4 bg-primary/10 border border-primary/20 rounded-lg text-primary",children:[N.jsx("p",{className:"font-semibold",children:"Publisher Status: Active"}),N.jsx("p",{className:"text-sm",children:"Your wallet is already registered as a publisher. You can continue creating advertising slots for your websites."})]}),N.jsx("div",{className:"mt-4",children:N.jsx(An,{variant:"outline",size:"sm",onClick:()=>{d(!1),u(null)},children:"Register Another Domain"})})]})]}):null,N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Register a slot"}),N.jsx(qn,{children:"Create a new advertising slot for your website"})]}),N.jsxs(Bt,{children:[E&&N.jsx("div",{className:"mb-4 p-3 bg-success/10 border border-success/20 rounded-lg text-success text-sm",children:" Slot created successfully! You can now add it to your website."}),N.jsxs("form",{onSubmit:_,className:"space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"slot-id",required:!0,children:"Slot ID (CSS selector)"}),N.jsx(kr,{id:"slot-id",placeholder:"#adx-slot or .ad-banner",value:p.slotId,onChange:T=>h(O=>({...O,slotId:T.target.value})),required:!0})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"slot-tags",children:"Tags (comma-separated)"}),N.jsx(kr,{id:"slot-tags",placeholder:"tech, fintech, gaming",value:p.tags,onChange:T=>h(O=>({...O,tags:T.target.value}))})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"slot-ratio",children:"Allowed aspect ratios (comma-separated)"}),N.jsx(kr,{id:"slot-ratio",placeholder:"16:9, 4:3, 1:1",value:p.aspectRatios,onChange:T=>h(O=>({...O,aspectRatios:T.target.value}))})]}),N.jsx(An,{type:"submit",className:"w-full",disabled:g||!(e!=null&&e.publicKey),children:g?"Creating...":"Create Slot"})]})]})]})]}),N.jsx("section",{children:N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Snippet ready to embed"}),N.jsx(qn,{children:"Refresh it whenever you add a new slot"})]}),N.jsx(Bt,{children:N.jsx("pre",{className:"rounded-lg bg-surface p-4 text-sm text-text",children:`<div id="adx-slot"></div>
<script type="module">
  import { adx402 } from '@io-ateliertech/adx402-sdk';

  adx402.init({
    wallet: '${Si.wallet}',
    tags: ['${Si.tags.join("','")}']
  });

  adx402.render('#adx-slot', {
    aspectRatio: '16x9'
  });
<\/script>`})})]})}),N.jsx("section",{children:N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Recent history"}),N.jsx(qn,{children:"Weekly settlements"})]}),N.jsx(Bt,{className:"space-y-4",children:D6.slice(0,4).map((T,O)=>N.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 rounded-lg border border-border p-4",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-text-muted",children:"Period"}),N.jsx("p",{className:"font-semibold capitalize",children:T.period})]}),N.jsxs("div",{className:"text-success",children:[T.earnings," SOL"]}),N.jsx(An,{size:"sm",variant:"outline",children:"View details"})]},O))})]})})]})]})}function jY(){const{wallet:e}=ny(),[t,n]=V.useState((e==null?void 0:e.publicKey)??""),[r,s]=V.useState("tech, gaming"),[i,o]=V.useState("16x9"),[a,c]=V.useState("/img/placeholder.png"),u=`<div id="adx-demo-slot"></div>
<script type="module">
  import { adx402 } from '@io-ateliertech/adx402-sdk';

  adx402.init({
    wallet: '${t||"YOUR_WALLET"}',
    tags: [${r.split(",").map(l=>`'${l.trim()}'`).join(", ")}]
  });

  adx402.render('#adx-demo-slot', {
    aspectRatio: '${i}',
    fallback: '${a}'
  });
<\/script>`;return N.jsxs("div",{className:"min-h-screen bg-background text-text",children:[N.jsx("div",{className:"border-b border-border bg-surface",children:N.jsxs("div",{className:"container mx-auto flex flex-col gap-4 px-6 py-6 md:flex-row md:items-center md:justify-between",children:[N.jsxs("div",{children:[N.jsx("p",{className:"text-sm text-text-secondary",children:"SDK Playground"}),N.jsx("h1",{className:"text-3xl font-semibold",children:"Test Adx402 live"})]}),N.jsxs("div",{className:"flex flex-col items-start gap-2 md:flex-row md:items-center",children:[N.jsx("div",{className:"text-sm text-text-secondary",children:e!=null&&e.publicKey?`Connected wallet: ${e.publicKey.slice(0,4)}${e.publicKey.slice(-4)}`:"Connect a wallet to get started"}),N.jsx(ry,{className:"!bg-primary !text-white hover:!bg-primary/90"})]})]})}),N.jsxs("main",{className:"container mx-auto grid gap-6 px-6 py-8 lg:grid-cols-2",children:[N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Configure your slot"}),N.jsx(qn,{children:"These values are passed to `adx402.render`"})]}),N.jsxs(Bt,{className:"space-y-4",children:[N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"demo-wallet",children:"Publisher wallet"}),N.jsx(kr,{id:"demo-wallet",value:t,onChange:l=>n(l.target.value),placeholder:"e.g. 4f8P...Xa"})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"demo-tags",children:"Tags"}),N.jsx(kr,{id:"demo-tags",value:r,onChange:l=>s(l.target.value)})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"demo-aspect",children:"Aspect Ratio"}),N.jsx("select",{id:"demo-aspect",value:i,onChange:l=>o(l.target.value),className:"w-full rounded-md border border-border bg-background px-3 py-2 text-sm text-text",children:["16x9","1x1","5x6","auto"].map(l=>N.jsx("option",{value:l,children:l},l))})]}),N.jsxs("div",{className:"space-y-2",children:[N.jsx(sr,{htmlFor:"demo-fallback",children:"Fallback"}),N.jsx(kr,{id:"demo-fallback",value:a,onChange:l=>c(l.target.value)})]}),N.jsx(An,{className:"w-full",variant:"outline",children:"Render ad"})]})]}),N.jsxs(kt,{children:[N.jsxs(Wn,{children:[N.jsx(Vn,{children:"Preview"}),N.jsx(qn,{children:"The SDK will render the ad here"})]}),N.jsxs(Bt,{className:"space-y-4",children:[N.jsx("div",{className:"rounded-xl border border-dashed border-border p-8 text-center text-text-secondary",children:"Slot `#adx-demo-slot` ready to render."}),N.jsxs("div",{children:[N.jsx("p",{className:"mb-2 text-sm font-medium text-text",children:"Generated snippet"}),N.jsx("pre",{className:"rounded-lg bg-surface p-4 text-sm text-text overflow-x-auto",children:u})]})]})]})]})]})}const $Y=[{path:"/",element:N.jsx(EB,{})},{path:"/brand",element:N.jsx(BY,{})},{path:"/publisher",element:N.jsx(LY,{})},{path:"/demo",element:N.jsx(jY,{})}];function DY(){return tT($Y)}const zY="Phantom";class UY extends Yg{constructor(t={}){super(),this.name=zY,this.url="https://phantom.app",this.icon="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiB2aWV3Qm94PSIwIDAgMTA4IDEwOCIgZmlsbD0ibm9uZSI+CjxyZWN0IHdpZHRoPSIxMDgiIGhlaWdodD0iMTA4IiByeD0iMjYiIGZpbGw9IiNBQjlGRjIiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00Ni41MjY3IDY5LjkyMjlDNDIuMDA1NCA3Ni44NTA5IDM0LjQyOTIgODUuNjE4MiAyNC4zNDggODUuNjE4MkMxOS41ODI0IDg1LjYxODIgMTUgODMuNjU2MyAxNSA3NS4xMzQyQzE1IDUzLjQzMDUgNDQuNjMyNiAxOS44MzI3IDcyLjEyNjggMTkuODMyN0M4Ny43NjggMTkuODMyNyA5NCAzMC42ODQ2IDk0IDQzLjAwNzlDOTQgNTguODI1OCA4My43MzU1IDc2LjkxMjIgNzMuNTMyMSA3Ni45MTIyQzcwLjI5MzkgNzYuOTEyMiA2OC43MDUzIDc1LjEzNDIgNjguNzA1MyA3Mi4zMTRDNjguNzA1MyA3MS41NzgzIDY4LjgyNzUgNzAuNzgxMiA2OS4wNzE5IDY5LjkyMjlDNjUuNTg5MyA3NS44Njk5IDU4Ljg2ODUgODEuMzg3OCA1Mi41NzU0IDgxLjM4NzhDNDcuOTkzIDgxLjM4NzggNDUuNjcxMyA3OC41MDYzIDQ1LjY3MTMgNzQuNDU5OEM0NS42NzEzIDcyLjk4ODQgNDUuOTc2OCA3MS40NTU2IDQ2LjUyNjcgNjkuOTIyOVpNODMuNjc2MSA0Mi41Nzk0QzgzLjY3NjEgNDYuMTcwNCA4MS41NTc1IDQ3Ljk2NTggNzkuMTg3NSA0Ny45NjU4Qzc2Ljc4MTYgNDcuOTY1OCA3NC42OTg5IDQ2LjE3MDQgNzQuNjk4OSA0Mi41Nzk0Qzc0LjY5ODkgMzguOTg4NSA3Ni43ODE2IDM3LjE5MzEgNzkuMTg3NSAzNy4xOTMxQzgxLjU1NzUgMzcuMTkzMSA4My42NzYxIDM4Ljk4ODUgODMuNjc2MSA0Mi41Nzk0Wk03MC4yMTAzIDQyLjU3OTVDNzAuMjEwMyA0Ni4xNzA0IDY4LjA5MTYgNDcuOTY1OCA2NS43MjE2IDQ3Ljk2NThDNjMuMzE1NyA0Ny45NjU4IDYxLjIzMyA0Ni4xNzA0IDYxLjIzMyA0Mi41Nzk1QzYxLjIzMyAzOC45ODg1IDYzLjMxNTcgMzcuMTkzMSA2NS43MjE2IDM3LjE5MzFDNjguMDkxNiAzNy4xOTMxIDcwLjIxMDMgMzguOTg4NSA3MC4yMTAzIDQyLjU3OTVaIiBmaWxsPSIjRkZGREY4Ii8+Cjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.NotDetected,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),n.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null,this.emit("error",new Kg),this.emit("disconnect"))},this._accountChanged=n=>{const r=this._publicKey;if(r){try{n=new Ie(n.toBytes())}catch(s){this.emit("error",new Pa(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._wallet=null,this._publicKey=null,this._readyState!==ze.Unsupported&&(wp()?(this._readyState=ze.Loadable,this.emit("readyStateChange",this._readyState)):NE(()=>{var n,r,s;return(r=(n=window.phantom)==null?void 0:n.solana)!=null&&r.isPhantom||(s=window.solana)!=null&&s.isPhantom?(this._readyState=ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get readyState(){return this._readyState}async autoConnect(){this.readyState===ze.Installed&&await this.connect()}async connect(){var t;try{if(this.connected||this.connecting)return;if(this.readyState===ze.Loadable){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://phantom.app/ul/browse/${s}?ref=${i}`;return}if(this.readyState!==ze.Installed)throw new Eo;this._connecting=!0;const n=((t=window.phantom)==null?void 0:t.solana)||window.solana;if(!n.isConnected)try{await n.connect()}catch(s){throw new So(s==null?void 0:s.message,s)}if(!n.publicKey)throw new Xi;let r;try{r=new Ie(n.publicKey.toBytes())}catch(s){throw new Pa(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(n){this.emit("error",new Zg(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(t,n,r={}){try{const s=this._wallet;if(!s)throw new Lt;try{const{signers:i,...o}=r;Ys(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment;const{signature:a}=await s.signAndSendTransaction(t,o);return a}catch(i){throw i instanceof vn?i:new Zs(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signTransaction(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signAllTransactions(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{const n=this._wallet;if(!n)throw new Lt;try{const{signature:r}=await n.signMessage(t);return r}catch(r){throw new yf(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}const FY="data:image/svg+xml;base64,PHN2ZyBmaWxsPSJub25lIiBoZWlnaHQ9IjMxIiB2aWV3Qm94PSIwIDAgMzEgMzEiIHdpZHRoPSIzMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGxpbmVhckdyYWRpZW50IGlkPSJhIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgeDE9IjIwLjI1IiB4Mj0iMjYuNTcxIiB5MT0iMjcuMTczIiB5Mj0iMTkuODU4Ij48c3RvcCBvZmZzZXQ9Ii4wOCIgc3RvcC1jb2xvcj0iIzk5NDVmZiIvPjxzdG9wIG9mZnNldD0iLjMiIHN0b3AtY29sb3I9IiM4NzUyZjMiLz48c3RvcCBvZmZzZXQ9Ii41IiBzdG9wLWNvbG9yPSIjNTQ5N2Q1Ii8+PHN0b3Agb2Zmc2V0PSIuNiIgc3RvcC1jb2xvcj0iIzQzYjRjYSIvPjxzdG9wIG9mZnNldD0iLjcyIiBzdG9wLWNvbG9yPSIjMjhlMGI5Ii8+PHN0b3Agb2Zmc2V0PSIuOTciIHN0b3AtY29sb3I9IiMxOWZiOWIiLz48L2xpbmVhckdyYWRpZW50PjxnIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS13aWR0aD0iLjA5NCI+PHBhdGggZD0ibTI2LjEwOSAzLjY0My05LjM2OSA2Ljk1OSAxLjczMy00LjEwNSA3LjYzNy0yLjg1M3oiIGZpbGw9IiNlMjc2MWIiIHN0cm9rZT0iI2UyNzYxYiIvPjxnIGZpbGw9IiNlNDc2MWIiIHN0cm9rZT0iI2U0NzYxYiI+PHBhdGggZD0ibTQuNDgxIDMuNjQzIDkuMjk0IDcuMDI0LTEuNjQ4LTQuMTcxem0xOC4yNTggMTYuMTMtMi40OTUgMy44MjMgNS4zMzkgMS40NjkgMS41MzUtNS4yMDctNC4zNzgtLjA4NXptLTE5LjI0Ny4wODUgMS41MjUgNS4yMDcgNS4zMzktMS40NjktMi40OTUtMy44MjN6Ii8+PHBhdGggZD0ibTEwLjA1NSAxMy4zMTMtMS40ODggMi4yNTEgNS4zMDEuMjM1LS4xODgtNS42OTd6bTEwLjQ4IDAtMy42NzItMy4yNzctLjEyMiA1Ljc2MyA1LjI5Mi0uMjM1LTEuNDk3LTIuMjUxem0tMTAuMTc4IDEwLjI4MyAzLjE4My0xLjU1NC0yLjc0OS0yLjE0Ny0uNDMzIDMuNzAxem02LjY5NS0xLjU1NCAzLjE5MiAxLjU1NC0uNDQzLTMuNzAxeiIvPjwvZz48cGF0aCBkPSJtMjAuMjQ0IDIzLjU5Ni0zLjE5Mi0xLjU1NC4yNTQgMi4wODEtLjAyOC44NzZ6bS05Ljg4NyAwIDIuOTY2IDEuNDAzLS4wMTktLjg3Ni4yMzUtMi4wODEtMy4xODMgMS41NTR6IiBmaWxsPSIjZDdjMWIzIiBzdHJva2U9IiNkN2MxYjMiLz48cGF0aCBkPSJtMTMuMzY5IDE4LjUyMS0yLjY1NS0uNzgxIDEuODc0LS44NTd6bTMuODUxIDAgLjc4MS0xLjYzOCAxLjg4My44NTctMi42NjUuNzgxeiIgZmlsbD0iIzIzMzQ0NyIgc3Ryb2tlPSIjMjMzNDQ3Ii8+PHBhdGggZD0ibTEwLjM1NyAyMy41OTYuNDUyLTMuODIzLTIuOTQ3LjA4NXptOS40MzUtMy44MjMuNDUyIDMuODIzIDIuNDk1LTMuNzM4em0yLjI0MS00LjIwOS01LjI5Mi4yMzUuNDkgMi43MjEuNzgyLTEuNjM4IDEuODgzLjg1N3ptLTExLjMxOCAyLjE3NSAxLjg4My0uODU3Ljc3MiAxLjYzOC40OTktMi43MjEtNS4zMDEtLjIzNXoiIGZpbGw9IiNjZDYxMTYiIHN0cm9rZT0iI2NkNjExNiIvPjxwYXRoIGQ9Im04LjU2NyAxNS41NjQgMi4yMjIgNC4zMzEtLjA3NS0yLjE1NnptMTEuMzI4IDIuMTc1LS4wOTQgMi4xNTYgMi4yMzItNC4zMzEtMi4xMzcgMi4xNzV6bS02LjAyNi0xLjk0LS40OTkgMi43MjEuNjIxIDMuMjExLjE0MS00LjIyOC0uMjY0LTEuNzA0em0yLjg3MiAwLS4yNTQgMS42OTUuMTEzIDQuMjM3LjYzMS0zLjIxMXoiIGZpbGw9IiNlNDc1MWYiIHN0cm9rZT0iI2U0NzUxZiIvPjxwYXRoIGQ9Im0xNy4yMyAxOC41Mi0uNjMxIDMuMjExLjQ1Mi4zMTEgMi43NS0yLjE0Ny4wOTQtMi4xNTZ6bS02LjUxNi0uNzgxLjA3NSAyLjE1NiAyLjc1IDIuMTQ3LjQ1Mi0uMzExLS42MjItMy4yMTF6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48cGF0aCBkPSJtMTcuMjc3IDI0Ljk5OS4wMjgtLjg3Ni0uMjM1LS4yMDdoLTMuNTVsLS4yMTcuMjA3LjAxOS44NzYtMi45NjYtMS40MDMgMS4wMzYuODQ4IDIuMSAxLjQ1OWgzLjYwNmwyLjEwOS0xLjQ1OSAxLjAzNi0uODQ4eiIgZmlsbD0iI2MwYWQ5ZSIgc3Ryb2tlPSIjYzBhZDllIi8+PHBhdGggZD0ibTE3LjA1MSAyMi4wNDItLjQ1Mi0uMzExaC0yLjYwOGwtLjQ1Mi4zMTEtLjIzNSAyLjA4MS4yMTctLjIwN2gzLjU1bC4yMzUuMjA3LS4yNTQtMi4wODF6IiBmaWxsPSIjMTYxNjE2IiBzdHJva2U9IiMxNjE2MTYiLz48cGF0aCBkPSJtMjYuNTA1IDExLjA1My44LTMuODQyLTEuMTk2LTMuNTY5LTkuMDU4IDYuNzIzIDMuNDg0IDIuOTQ3IDQuOTI1IDEuNDQxIDEuMDkyLTEuMjcxLS40NzEtLjMzOS43NTMtLjY4Ny0uNTg0LS40NTIuNzUzLS41NzQtLjQ5OS0uMzc3em0tMjMuMjExLTMuODQxLjggMy44NDItLjUwOC4zNzcuNzUzLjU3NC0uNTc0LjQ1Mi43NTMuNjg3LS40NzEuMzM5IDEuMDgzIDEuMjcxIDQuOTI1LTEuNDQxIDMuNDg0LTIuOTQ3LTkuMDU5LTYuNzIzeiIgZmlsbD0iIzc2M2QxNiIgc3Ryb2tlPSIjNzYzZDE2Ii8+PHBhdGggZD0ibTI1LjQ2IDE0Ljc1NC00LjkyNS0xLjQ0MSAxLjQ5NyAyLjI1MS0yLjIzMiA0LjMzMSAyLjkzOC0uMDM4aDQuMzc4bC0xLjY1Ny01LjEwNHptLTE1LjQwNS0xLjQ0MS00LjkyNSAxLjQ0MS0xLjYzOCA1LjEwNGg0LjM2OWwyLjkyOC4wMzgtMi4yMjItNC4zMzEgMS40ODgtMi4yNTF6bTYuNjg1IDIuNDg2LjMxMS01LjQzMyAxLjQzMS0zLjg3aC02LjM1NmwxLjQxMyAzLjg3LjMyOSA1LjQzMy4xMTMgMS43MTQuMDA5IDQuMjE5aDIuNjFsLjAxOS00LjIxOS4xMjItMS43MTR6IiBmaWxsPSIjZjY4NTFiIiBzdHJva2U9IiNmNjg1MWIiLz48L2c+PGNpcmNsZSBjeD0iMjMuNSIgY3k9IjIzLjUiIGZpbGw9IiMwMDAiIHI9IjYuNSIvPjxwYXRoIGQ9Im0yNy40NzMgMjUuNTQ1LTEuMzEgMS4zNjhjLS4wMjkuMDMtLjA2My4wNTMtLjEwMS4wN2EuMzEuMzEgMCAwIDEgLS4xMjEuMDI0aC02LjIwOWMtLjAzIDAtLjA1OS0uMDA4LS4wODMtLjAyNGEuMTUuMTUgMCAwIDEgLS4wNTYtLjA2NWMtLjAxMi0uMDI2LS4wMTUtLjA1Ni0uMDEtLjA4NHMuMDE4LS4wNTUuMDM5LS4wNzZsMS4zMTEtMS4zNjhjLjAyOC0uMDMuMDYzLS4wNTMuMTAxLS4wNjlhLjMxLjMxIDAgMCAxIC4xMjEtLjAyNWg2LjIwOGMuMDMgMCAuMDU5LjAwOC4wODMuMDI0YS4xNS4xNSAwIDAgMSAuMDU2LjA2NWMuMDEyLjAyNi4wMTUuMDU2LjAxLjA4NHMtLjAxOC4wNTUtLjAzOS4wNzZ6bS0xLjMxLTIuNzU2Yy0uMDI5LS4wMy0uMDYzLS4wNTMtLjEwMS0uMDdhLjMxLjMxIDAgMCAwIC0uMTIxLS4wMjRoLTYuMjA5Yy0uMDMgMC0uMDU5LjAwOC0uMDgzLjAyNHMtLjA0NC4wMzgtLjA1Ni4wNjUtLjAxNS4wNTYtLjAxLjA4NC4wMTguMDU1LjAzOS4wNzZsMS4zMTEgMS4zNjhjLjAyOC4wMy4wNjMuMDUzLjEwMS4wNjlhLjMxLjMxIDAgMCAwIC4xMjEuMDI1aDYuMjA4Yy4wMyAwIC4wNTktLjAwOC4wODMtLjAyNGEuMTUuMTUgMCAwIDAgLjA1Ni0uMDY1Yy4wMTItLjAyNi4wMTUtLjA1Ni4wMS0uMDg0cy0uMDE4LS4wNTUtLjAzOS0uMDc2em0tNi40MzEtLjk4M2g2LjIwOWEuMzEuMzEgMCAwIDAgLjEyMS0uMDI0Yy4wMzgtLjAxNi4wNzMtLjA0LjEwMS0uMDdsMS4zMS0xLjM2OGMuMDItLjAyMS4wMzQtLjA0Ny4wMzktLjA3NnMuMDAxLS4wNTgtLjAxLS4wODRhLjE1LjE1IDAgMCAwIC0uMDU2LS4wNjVjLS4wMjUtLjAxNi0uMDU0LS4wMjQtLjA4My0uMDI0aC02LjIwOGEuMzEuMzEgMCAwIDAgLS4xMjEuMDI1Yy0uMDM4LjAxNi0uMDcyLjA0LS4xMDEuMDY5bC0xLjMxIDEuMzY4Yy0uMDIuMDIxLS4wMzQuMDQ3LS4wMzkuMDc2cy0uMDAxLjA1OC4wMS4wODQuMDMxLjA0OS4wNTYuMDY1LjA1NC4wMjQuMDgzLjAyNHoiIGZpbGw9InVybCgjYSkiLz48L3N2Zz4=";var rt=function(e,t,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(e):r?r.value:t.get(e)},WY=function(e,t,n,r,s){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?s.call(e,n):s?s.value=n:t.set(e,n),n},ad,ao,eg,tg,ng,Ln,rg,pI,mI,sg,ig,og,ag,cg;class VY{constructor(){ad.add(this),ao.set(this,{}),eg.set(this,"1.0.0"),tg.set(this,"MetaMask"),ng.set(this,FY),Ln.set(this,null),rg.set(this,(t,n)=>{var r;return(r=rt(this,ao,"f")[t])!=null&&r.push(n)||(rt(this,ao,"f")[t]=[n]),()=>rt(this,ad,"m",mI).call(this,t,n)}),sg.set(this,async()=>{if(!rt(this,Ln,"f")){let t;try{t=(await jf(async()=>{const{default:n}=await import("./index-mKxqfYv5.js");return{default:n}},__vite__mapDeps([2,3,1]))).default}catch{throw new Error("Unable to load Solflare MetaMask SDK")}WY(this,Ln,new t,"f"),rt(this,Ln,"f").on("standard_change",n=>rt(this,ad,"m",pI).call(this,"change",n))}return this.accounts.length||await rt(this,Ln,"f").connect(),{accounts:this.accounts}}),ig.set(this,async()=>{rt(this,Ln,"f")&&await rt(this,Ln,"f").disconnect()}),og.set(this,async(...t)=>{if(!rt(this,Ln,"f"))throw new Lt;return await rt(this,Ln,"f").standardSignAndSendTransaction(...t)}),ag.set(this,async(...t)=>{if(!rt(this,Ln,"f"))throw new Lt;return await rt(this,Ln,"f").standardSignTransaction(...t)}),cg.set(this,async(...t)=>{if(!rt(this,Ln,"f"))throw new Lt;return await rt(this,Ln,"f").standardSignMessage(...t)})}get version(){return rt(this,eg,"f")}get name(){return rt(this,tg,"f")}get icon(){return rt(this,ng,"f")}get chains(){return[Jc,GE,KE]}get features(){return{[bf]:{version:"1.0.0",connect:rt(this,sg,"f")},[_d]:{version:"1.0.0",disconnect:rt(this,ig,"f")},[wf]:{version:"1.0.0",on:rt(this,rg,"f")},[Gn]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:rt(this,og,"f")},[bt]:{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:rt(this,ag,"f")},[qs]:{version:"1.0.0",signMessage:rt(this,cg,"f")}}}get accounts(){return rt(this,Ln,"f")?rt(this,Ln,"f").standardAccounts:[]}}ao=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,Ln=new WeakMap,rg=new WeakMap,sg=new WeakMap,ig=new WeakMap,og=new WeakMap,ag=new WeakMap,cg=new WeakMap,ad=new WeakSet,pI=function(t,...n){var r;(r=rt(this,ao,"f")[t])==null||r.forEach(s=>s.apply(null,n))},mI=function(t,n){var r;rt(this,ao,"f")[t]=(r=rt(this,ao,"f")[t])==null?void 0:r.filter(s=>n!==s)};let av=!1;function qY(){av||(Qk(new VY),av=!0)}async function HY(){const e="solflare-detect-metamask";function t(){window.postMessage({target:"metamask-contentscript",data:{name:"metamask-provider",data:{id:e,jsonrpc:"2.0",method:"wallet_getSnaps"}}},window.location.origin)}function n(r){var i,o;const s=r.data;(s==null?void 0:s.target)==="metamask-inpage"&&((i=s.data)==null?void 0:i.name)==="metamask-provider"&&(((o=s.data.data)==null?void 0:o.id)===e?(window.removeEventListener("message",n),s.data.data.error||qY()):t())}window.addEventListener("message",n),window.setTimeout(()=>window.removeEventListener("message",n),5e3),t()}const GY="Solflare";class KY extends Yg{constructor(t={}){super(),this.name=GY,this.url="https://solflare.com",this.icon="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIGlkPSJTIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1MCA1MCI+PGRlZnM+PHN0eWxlPi5jbHMtMXtmaWxsOiMwMjA1MGE7c3Ryb2tlOiNmZmVmNDY7c3Ryb2tlLW1pdGVybGltaXQ6MTA7c3Ryb2tlLXdpZHRoOi41cHg7fS5jbHMtMntmaWxsOiNmZmVmNDY7fTwvc3R5bGU+PC9kZWZzPjxyZWN0IGNsYXNzPSJjbHMtMiIgeD0iMCIgd2lkdGg9IjUwIiBoZWlnaHQ9IjUwIiByeD0iMTIiIHJ5PSIxMiIvPjxwYXRoIGNsYXNzPSJjbHMtMSIgZD0iTTI0LjIzLDI2LjQybDIuNDYtMi4zOCw0LjU5LDEuNWMzLjAxLDEsNC41MSwyLjg0LDQuNTEsNS40MywwLDEuOTYtLjc1LDMuMjYtMi4yNSw0LjkzbC0uNDYuNS4xNy0xLjE3Yy42Ny00LjI2LS41OC02LjA5LTQuNzItNy40M2wtNC4zLTEuMzhoMFpNMTguMDUsMTEuODVsMTIuNTIsNC4xNy0yLjcxLDIuNTktNi41MS0yLjE3Yy0yLjI1LS43NS0zLjAxLTEuOTYtMy4zLTQuNTF2LS4wOGgwWk0xNy4zLDMzLjA2bDIuODQtMi43MSw1LjM0LDEuNzVjMi44LjkyLDMuNzYsMi4xMywzLjQ2LDUuMThsLTExLjY1LTQuMjJoMFpNMTMuNzEsMjAuOTVjMC0uNzkuNDItMS41NCwxLjEzLTIuMTcuNzUsMS4wOSwyLjA1LDIuMDUsNC4wOSwyLjcxbDQuNDIsMS40Ni0yLjQ2LDIuMzgtNC4zNC0xLjQyYy0yLS42Ny0yLjg0LTEuNjctMi44NC0yLjk2TTI2LjgyLDQyLjg3YzkuMTgtNi4wOSwxNC4xMS0xMC4yMywxNC4xMS0xNS4zMiwwLTMuMzgtMi01LjI2LTYuNDMtNi43MmwtMy4zNC0xLjEzLDkuMTQtOC43Ny0xLjg0LTEuOTYtMi43MSwyLjM4LTEyLjgxLTQuMjJjLTMuOTcsMS4yOS04Ljk3LDUuMDktOC45Nyw4Ljg5LDAsLjQyLjA0LjgzLjE3LDEuMjktMy4zLDEuODgtNC42MywzLjYzLTQuNjMsNS44LDAsMi4wNSwxLjA5LDQuMDksNC41NSw1LjIybDIuNzUuOTItOS41Miw5LjE0LDEuODQsMS45NiwyLjk2LTIuNzEsMTQuNzMsNS4yMmgwWiIvPjwvc3ZnPg==",this.supportedTransactionVersions=new Set(["legacy",0]),this._readyState=typeof window>"u"||typeof document>"u"?ze.Unsupported:ze.Loadable,this._disconnected=()=>{const n=this._wallet;n&&(n.off("disconnect",this._disconnected),this._wallet=null,this._publicKey=null,this.emit("error",new Kg),this.emit("disconnect"))},this._accountChanged=n=>{if(!n)return;const r=this._publicKey;if(r){try{n=new Ie(n.toBytes())}catch(s){this.emit("error",new Pa(s==null?void 0:s.message,s));return}r.equals(n)||(this._publicKey=n,this.emit("connect",n))}},this._connecting=!1,this._publicKey=null,this._wallet=null,this._config=t,this._readyState!==ze.Unsupported&&(NE(()=>{var n;return(n=window.solflare)!=null&&n.isSolflare||window.SolflareApp?(this._readyState=ze.Installed,this.emit("readyStateChange",this._readyState),!0):!1}),HY())}get publicKey(){return this._publicKey}get connecting(){return this._connecting}get connected(){var t;return!!((t=this._wallet)!=null&&t.connected)}get readyState(){return this._readyState}async autoConnect(){this.readyState===ze.Loadable&&wp()||await this.connect()}async connect(){try{if(this.connected||this.connecting)return;if(this._readyState!==ze.Loadable&&this._readyState!==ze.Installed)throw new Eo;if(this.readyState===ze.Loadable&&wp()){const s=encodeURIComponent(window.location.href),i=encodeURIComponent(window.location.origin);window.location.href=`https://solflare.com/ul/v1/browse/${s}?ref=${i}`;return}let t;try{t=(await jf(async()=>{const{default:s}=await import("./index-BwryQPNf.js");return{default:s}},__vite__mapDeps([4,3,1]))).default}catch(s){throw new LC(s==null?void 0:s.message,s)}let n;try{n=new t({network:this._config.network})}catch(s){throw new ha(s==null?void 0:s.message,s)}if(this._connecting=!0,!n.connected)try{await n.connect()}catch(s){throw new So(s==null?void 0:s.message,s)}if(!n.publicKey)throw new So;let r;try{r=new Ie(n.publicKey.toBytes())}catch(s){throw new Pa(s==null?void 0:s.message,s)}n.on("disconnect",this._disconnected),n.on("accountChanged",this._accountChanged),this._wallet=n,this._publicKey=r,this.emit("connect",r)}catch(t){throw this.emit("error",t),t}finally{this._connecting=!1}}async disconnect(){const t=this._wallet;if(t){t.off("disconnect",this._disconnected),t.off("accountChanged",this._accountChanged),this._wallet=null,this._publicKey=null;try{await t.disconnect()}catch(n){this.emit("error",new Zg(n==null?void 0:n.message,n))}}this.emit("disconnect")}async sendTransaction(t,n,r={}){try{const s=this._wallet;if(!s)throw new Lt;try{const{signers:i,...o}=r;return Ys(t)?i!=null&&i.length&&t.sign(i):(t=await this.prepareTransaction(t,n,o),i!=null&&i.length&&t.partialSign(...i)),o.preflightCommitment=o.preflightCommitment||n.commitment,await s.signAndSendTransaction(t,o)}catch(i){throw i instanceof vn?i:new Zs(i==null?void 0:i.message,i)}}catch(s){throw this.emit("error",s),s}}async signTransaction(t){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signTransaction(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signAllTransactions(t){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signAllTransactions(t)||t}catch(r){throw new Zr(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}async signMessage(t){try{const n=this._wallet;if(!n)throw new Lt;try{return await n.signMessage(t,"utf8")}catch(r){throw new yf(r==null?void 0:r.message,r)}}catch(n){throw this.emit("error",n),n}}}function ZY({children:e}){const t=xp.Devnet,n=BC(t),r=V.useMemo(()=>[new UY,new KY({network:t})],[t]);return N.jsx(PC,{endpoint:n,children:N.jsx(xB,{wallets:r,autoConnect:!0,children:N.jsx(RB,{children:e})})})}sp.createRoot(document.getElementById("root")).render(N.jsx(ne.StrictMode,{children:N.jsx(ZY,{children:N.jsx(b8,{children:N.jsx(vB,{children:N.jsx(ET,{children:N.jsx(DY,{})})})})})}));export{Q as B,Dg as E,Vc as H,Ie as P,Gn as S,Mr as T,vo as V,bt as a,Rd as b,qs as c,N9 as d,b$ as e,Gf as f,gy as g,$r as h,el as i,Di as j,ts as k,Qf as l,mn as s};
